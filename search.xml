<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ElasticSearch 9200ç«¯å£ä¸9300ç«¯å£çš„åŒºåˆ«</title>
      <link href="/2019/07/06/ElasticSearch-JAVA%E5%AE%A2%E6%88%B7%E7%AB%AF-%E7%AB%AF%E5%8F%A3/"/>
      <url>/2019/07/06/ElasticSearch-JAVA%E5%AE%A2%E6%88%B7%E7%AB%AF-%E7%AB%AF%E5%8F%A3/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><blockquote><p><code>ES</code>å¯åŠ¨ç›‘å¬ä¸¤ä¸ªç«¯å£:<code>9300</code>å’Œ<code>9200</code></p></blockquote><h5 id="9300ç«¯å£"><a href="#9300ç«¯å£" class="headerlink" title="9300ç«¯å£"></a>9300ç«¯å£</h5><p><code>9300</code>æ˜¯<code>Tcp</code>åè®®ç«¯å£:é€šè¿‡<code>Tcp</code>åè®®é€šè®¯,<code>ES</code>é›†ç¾¤ä¹‹é—´æ˜¯é€šè¿‡<code>9300</code>è¿›è¡Œé€šè®¯,<code>java</code>å®¢æˆ·ç«¯(TransportClient)çš„æ–¹å¼ä¹Ÿæ˜¯ä»¥<code>Tcp</code>åè®®åœ¨<code>9300</code>ç«¯å£ä¸Šä¸é›†ç¾¤è¿›è¡Œé€šè®¯.</p><h5 id="9200ç«¯å£"><a href="#9200ç«¯å£" class="headerlink" title="9200ç«¯å£"></a>9200ç«¯å£</h5><p><code>9200</code>æ˜¯<code>Http</code>åè®®ç«¯å£:ä¸»è¦ç”¨äºå¤–éƒ¨é€šè®¯,å¤–éƒ¨ä½¿ç”¨<code>RESTful</code>æ¥å£è¿›è¡Œè®¿é—®.<br><a id="more"></a></p><blockquote><p><code>ES</code>å¯åŠ¨ç›‘å¬ä¸¤ä¸ªç«¯å£:<code>9300</code>å’Œ<code>9200</code></p></blockquote><h5 id="9300ç«¯å£-1"><a href="#9300ç«¯å£-1" class="headerlink" title="9300ç«¯å£"></a>9300ç«¯å£</h5><p><code>9300</code>æ˜¯<code>Tcp</code>åè®®ç«¯å£:é€šè¿‡<code>Tcp</code>åè®®é€šè®¯,<code>ES</code>é›†ç¾¤ä¹‹é—´æ˜¯é€šè¿‡<code>9300</code>è¿›è¡Œé€šè®¯,<code>java</code>å®¢æˆ·ç«¯(TransportClient)çš„æ–¹å¼ä¹Ÿæ˜¯ä»¥<code>Tcp</code>åè®®åœ¨<code>9300</code>ç«¯å£ä¸Šä¸é›†ç¾¤è¿›è¡Œé€šè®¯.</p><h5 id="9200ç«¯å£-1"><a href="#9200ç«¯å£-1" class="headerlink" title="9200ç«¯å£"></a>9200ç«¯å£</h5><p><code>9200</code>æ˜¯<code>Http</code>åè®®ç«¯å£:ä¸»è¦ç”¨äºå¤–éƒ¨é€šè®¯,å¤–éƒ¨ä½¿ç”¨<code>RESTful</code>æ¥å£è¿›è¡Œè®¿é—®.</p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> ElasticSearchç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ElasticSearch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker ç®€å•éƒ¨ç½² ElasticSearch</title>
      <link href="/2019/07/02/Docker-%E7%AE%80%E5%8D%95%E9%83%A8%E7%BD%B2-ElasticSearch/"/>
      <url>/2019/07/02/Docker-%E7%AE%80%E5%8D%95%E9%83%A8%E7%BD%B2-ElasticSearch/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><blockquote><p><a href="https://www.elastic.co/guide/en/elasticsearch/client/java-rest/7.0/java-rest-high-getting-started-initialization.html" target="_blank" rel="noopener">ElasticSearchå®˜ç½‘API</a></p></blockquote><h4 id="ä¸€ã€ElasticSearchæ˜¯ä»€ä¹ˆ"><a href="#ä¸€ã€ElasticSearchæ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸€ã€ElasticSearchæ˜¯ä»€ä¹ˆ?"></a>ä¸€ã€ElasticSearchæ˜¯ä»€ä¹ˆ?</h4><p><code>Elasticsearch</code>ä¹Ÿä½¿ç”¨Javaå¼€å‘å¹¶ä½¿ç”¨<code>Lucene</code>ä½œä¸ºå…¶æ ¸å¿ƒæ¥å®ç°æ‰€æœ‰ç´¢å¼•å’Œæœç´¢çš„åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒçš„ç›®çš„æ˜¯é€šè¿‡ç®€å•çš„<code>RESTful API</code>æ¥éšè—<code>Lucene</code>çš„å¤æ‚æ€§ï¼Œä»è€Œè®©å…¨æ–‡æœç´¢å˜å¾—ç®€å•ã€‚<br>ä¸è¿‡ï¼Œ<code>Elasticsearch</code>ä¸ä»…ä»…æ˜¯<code>Lucene</code>å’Œå…¨æ–‡æœç´¢ï¼Œæˆ‘ä»¬è¿˜èƒ½è¿™æ ·å»æè¿°å®ƒï¼š</p><ul><li>åˆ†å¸ƒå¼çš„å®æ—¶æ–‡ä»¶å­˜å‚¨ï¼Œæ¯ä¸ªå­—æ®µéƒ½è¢«ç´¢å¼•å¹¶å¯è¢«æœç´¢</li><li>åˆ†å¸ƒå¼çš„å®æ—¶åˆ†ææœç´¢å¼•æ“</li><li><p>å¯ä»¥æ‰©å±•åˆ°ä¸Šç™¾å°æœåŠ¡å™¨ï¼Œå¤„ç†PBçº§ç»“æ„åŒ–æˆ–éç»“æ„åŒ–æ•°æ®</p><a id="more"></a><blockquote><p><a href="https://www.elastic.co/guide/en/elasticsearch/client/java-rest/7.0/java-rest-high-getting-started-initialization.html" target="_blank" rel="noopener">ElasticSearchå®˜ç½‘API</a></p></blockquote><h4 id="ä¸€ã€ElasticSearchæ˜¯ä»€ä¹ˆ-1"><a href="#ä¸€ã€ElasticSearchæ˜¯ä»€ä¹ˆ-1" class="headerlink" title="ä¸€ã€ElasticSearchæ˜¯ä»€ä¹ˆ?"></a>ä¸€ã€ElasticSearchæ˜¯ä»€ä¹ˆ?</h4><p><code>Elasticsearch</code>ä¹Ÿä½¿ç”¨Javaå¼€å‘å¹¶ä½¿ç”¨<code>Lucene</code>ä½œä¸ºå…¶æ ¸å¿ƒæ¥å®ç°æ‰€æœ‰ç´¢å¼•å’Œæœç´¢çš„åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒçš„ç›®çš„æ˜¯é€šè¿‡ç®€å•çš„<code>RESTful API</code>æ¥éšè—<code>Lucene</code>çš„å¤æ‚æ€§ï¼Œä»è€Œè®©å…¨æ–‡æœç´¢å˜å¾—ç®€å•ã€‚<br>ä¸è¿‡ï¼Œ<code>Elasticsearch</code>ä¸ä»…ä»…æ˜¯<code>Lucene</code>å’Œå…¨æ–‡æœç´¢ï¼Œæˆ‘ä»¬è¿˜èƒ½è¿™æ ·å»æè¿°å®ƒï¼š</p></li><li><p>åˆ†å¸ƒå¼çš„å®æ—¶æ–‡ä»¶å­˜å‚¨ï¼Œæ¯ä¸ªå­—æ®µéƒ½è¢«ç´¢å¼•å¹¶å¯è¢«æœç´¢</p></li><li>åˆ†å¸ƒå¼çš„å®æ—¶åˆ†ææœç´¢å¼•æ“</li><li>å¯ä»¥æ‰©å±•åˆ°ä¸Šç™¾å°æœåŠ¡å™¨ï¼Œå¤„ç†PBçº§ç»“æ„åŒ–æˆ–éç»“æ„åŒ–æ•°æ®</li></ul><h4 id="äºŒã€Docker-éƒ¨ç½²-ElasticSearch"><a href="#äºŒã€Docker-éƒ¨ç½²-ElasticSearch" class="headerlink" title="äºŒã€Docker éƒ¨ç½² ElasticSearch"></a>äºŒã€Docker éƒ¨ç½² ElasticSearch</h4><h5 id="2-1-æ‹‰å–é•œåƒ"><a href="#2-1-æ‹‰å–é•œåƒ" class="headerlink" title="2.1 æ‹‰å–é•œåƒ"></a>2.1 æ‹‰å–é•œåƒ</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull docker.elastic.co/elasticsearch/elasticsearch:7.0.0</span><br></pre></td></tr></table></figure><h5 id="2-2-è¿è¡Œå®¹å™¨"><a href="#2-2-è¿è¡Œå®¹å™¨" class="headerlink" title="2.2 è¿è¡Œå®¹å™¨"></a>2.2 è¿è¡Œå®¹å™¨</h5><p><code>ElasticSearch</code>çš„é»˜è®¤ç«¯å£æ˜¯9200ï¼Œæˆ‘ä»¬æŠŠå®¿ä¸»ç¯å¢ƒ9200ç«¯å£æ˜ å°„åˆ°<code>Docker</code>å®¹å™¨ä¸­çš„9200ç«¯å£ï¼Œå°±å¯ä»¥è®¿é—®åˆ°<code>Docker</code>å®¹å™¨ä¸­çš„<code>ElasticSearch</code>æœåŠ¡äº†ï¼ŒåŒæ—¶æˆ‘ä»¬æŠŠè¿™ä¸ªå®¹å™¨å‘½åä¸ºesã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name es -p 9200:9200 -p 9300:9300 -e &quot;discovery.type=single-node&quot; &lt;å®¹å™¨ID&gt;</span><br></pre></td></tr></table></figure><h5 id="2-3-é…ç½®è·¨åŸŸ"><a href="#2-3-é…ç½®è·¨åŸŸ" class="headerlink" title="2.3 é…ç½®è·¨åŸŸ"></a>2.3 é…ç½®è·¨åŸŸ</h5><h6 id="2-3-1-è¿›å…¥å®¹å™¨"><a href="#2-3-1-è¿›å…¥å®¹å™¨" class="headerlink" title="2.3.1 è¿›å…¥å®¹å™¨"></a>2.3.1 è¿›å…¥å®¹å™¨</h6><p>ç”±äºè¦è¿›è¡Œé…ç½®ï¼Œå› æ­¤éœ€è¦è¿›å…¥å®¹å™¨å½“ä¸­ä¿®æ”¹ç›¸åº”çš„é…ç½®ä¿¡æ¯ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it es /bin/bash</span><br></pre></td></tr></table></figure><h6 id="2-3-2-è¿›è¡Œé…ç½®"><a href="#2-3-2-è¿›è¡Œé…ç½®" class="headerlink" title="2.3.2 è¿›è¡Œé…ç½®"></a>2.3.2 è¿›è¡Œé…ç½®</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># æ˜¾ç¤ºæ–‡ä»¶</span><br><span class="line">ls</span><br><span class="line">ç»“æœå¦‚ä¸‹ï¼š</span><br><span class="line">LICENSE.txt  README.textile  config  lib   modules</span><br><span class="line">NOTICE.txt   bin             data    logs  plugins</span><br><span class="line"></span><br><span class="line"># è¿›å…¥é…ç½®æ–‡ä»¶å¤¹</span><br><span class="line">cd config</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæ–‡ä»¶</span><br><span class="line">ls</span><br><span class="line">ç»“æœå¦‚ä¸‹ï¼š</span><br><span class="line">elasticsearch.keystore  ingest-geoip  log4j2.properties  roles.yml  users_roles</span><br><span class="line">elasticsearch.yml       jvm.options   role_mapping.yml   users</span><br><span class="line"></span><br><span class="line"># ä¿®æ”¹é…ç½®æ–‡ä»¶</span><br><span class="line">vi elasticsearch.yml</span><br><span class="line"></span><br><span class="line"># åŠ å…¥è·¨åŸŸé…ç½®</span><br><span class="line">http.cors.enabled: true</span><br><span class="line">http.cors.allow-origin: &quot;*&quot;</span><br></pre></td></tr></table></figure><h5 id="2-3-é‡å¯å®¹å™¨"><a href="#2-3-é‡å¯å®¹å™¨" class="headerlink" title="2.3 é‡å¯å®¹å™¨"></a>2.3 é‡å¯å®¹å™¨</h5><p>ç”±äºä¿®æ”¹äº†é…ç½®ï¼Œå› æ­¤éœ€è¦é‡å¯<code>ElasticSearch</code>å®¹å™¨ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart es</span><br></pre></td></tr></table></figure><p>å±•ç¤ºå¦‚ä¸‹ï¼š<br><img src="/images/pasted-32.png" alt="filename already exists, renamed"></p><h4 id="ä¸‰ã€Docker-éƒ¨ç½²-ElasticSearch-Head"><a href="#ä¸‰ã€Docker-éƒ¨ç½²-ElasticSearch-Head" class="headerlink" title="ä¸‰ã€Docker éƒ¨ç½² ElasticSearch-Head"></a>ä¸‰ã€Docker éƒ¨ç½² ElasticSearch-Head</h4><p>ä¸ºä»€ä¹ˆè¦å®‰è£…<code>ElasticSearch-Head</code>å‘¢ï¼ŒåŸå› æ˜¯éœ€è¦æœ‰ä¸€ä¸ªç®¡ç†ç•Œé¢è¿›è¡ŒæŸ¥çœ‹<code>ElasticSearch</code>ç›¸å…³ä¿¡æ¯</p><h5 id="3-1-æ‹‰å–é•œåƒ"><a href="#3-1-æ‹‰å–é•œåƒ" class="headerlink" title="3.1 æ‹‰å–é•œåƒ"></a>3.1 æ‹‰å–é•œåƒ</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull mobz/elasticsearch-head:5</span><br></pre></td></tr></table></figure><h5 id="3-2-è¿è¡Œå®¹å™¨"><a href="#3-2-è¿è¡Œå®¹å™¨" class="headerlink" title="3.2 è¿è¡Œå®¹å™¨"></a>3.2 è¿è¡Œå®¹å™¨</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name es_admin -p 9100:9100 mobz/elasticsearch-head:5</span><br></pre></td></tr></table></figure><p>å±•ç¤ºå¦‚ä¸‹ï¼š<br><img src="/images/pasted-33.png" alt="filename already exists, renamed"></p><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ç”¨<code>Docker</code>æä¾›<code>Elasticsearch</code>æœåŠ¡ï¼Œè€Œä¸æ±¡æŸ“å®¿ä¸»æœºç¯å¢ƒäº†ï¼Œè¿™æ ·è¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå¦‚æœæƒ³åŒæ—¶å¯åŠ¨å¤šä¸ªä¸åŒç‰ˆæœ¬çš„<code>Elastcsearch</code>æˆ–è€…å…¶ä»–æœåŠ¡ï¼ŒDockerä¹Ÿæ˜¯ä¸€ä¸ªç†æƒ³çš„è§£å†³æ–¹æ¡ˆã€‚</p><blockquote><p>åŸæ–‡å‡ºå¤„:<a href="https://www.cnblogs.com/jianxuanbing/p/9410800.html" target="_blank" rel="noopener">https://www.cnblogs.com/jianxuanbing/p/9410800.html</a></p></blockquote><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> ElasticSearchç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ElasticSearch </tag>
            
            <tag> è½¬è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dubboéšå¼å‚æ•°ä¸¢å¤±é—®é¢˜</title>
      <link href="/2019/06/29/dubbo%E9%9A%90%E5%BC%8F%E5%8F%82%E6%95%B0%E4%B8%A2%E5%A4%B1%E9%97%AE%E9%A2%98/"/>
      <url>/2019/06/29/dubbo%E9%9A%90%E5%BC%8F%E5%8F%82%E6%95%B0%E4%B8%A2%E5%A4%B1%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><blockquote><p>è®°å½•åœ¨æ¶ˆè´¹ç«¯è¿ç»­è°ƒç”¨ä¸¤æ¬¡è¿œç¨‹æœåŠ¡å¯¼è‡´éšå¼å‚æ•°ä¸¢å¤±é—®é¢˜~!<br><a id="more"></a></p></blockquote><h5 id="æ¼”ç¤ºä»£ç "><a href="#æ¼”ç¤ºä»£ç " class="headerlink" title="æ¼”ç¤ºä»£ç "></a>æ¼”ç¤ºä»£ç </h5><ul><li>controllerå±‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/test"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Reference</span></span><br><span class="line">    <span class="keyword">private</span> ICarService iCarService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/test"</span>)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// ä¼ é€’å‚æ•°</span></span><br><span class="line">        RpcContext.getContext().setAttachment(<span class="string">"TOKEN"</span>,<span class="string">"æµ‹è¯•éšå£«å‚æ•°ä¼ é€’"</span>);</span><br><span class="line">        iCarService.test();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"å‚æ•°"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æœåŠ¡å±‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span>(retries = -<span class="number">1</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CeshiServiceImpl</span> <span class="keyword">implements</span> <span class="title">ICeshiService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger logger = LoggerFactory.getLogger(CeshiServiceImpl.class);</span><br><span class="line"></span><br><span class="line"><span class="meta">@Reference</span></span><br><span class="line">   <span class="keyword">private</span> ICarService iCarService;</span><br><span class="line">   <span class="meta">@Reference</span></span><br><span class="line">   <span class="keyword">private</span> IUserInfoService iUserInfoService;</span><br><span class="line">    </span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String token = RpcContext.getContext().getAttachment(<span class="string">"TOKEN"</span>);</span><br><span class="line">        logger.info(<span class="string">"tokenä¿¡æ¯:&#123;&#125;"</span>, token);</span><br><span class="line">        <span class="comment">// ç¬¬ä¸€æ¬¡è°ƒç”¨rpcæœåŠ¡</span></span><br><span class="line">        iCarService.test();</span><br><span class="line">        logger.info(<span class="string">"tokenä¿¡æ¯:&#123;&#125;"</span>, RpcContext.getContext().getAttachment(<span class="string">"TOKEN"</span>));</span><br><span class="line">        <span class="comment">// ç¬¬äºŒæ¬¡è°ƒç”¨rpcæœåŠ¡</span></span><br><span class="line">        iUserInfoService.test();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ICarServiceImpl</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span>(retries = -<span class="number">1</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CarServiceImpl</span> <span class="keyword">implements</span> <span class="title">ICarService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger logger = LoggerFactory.getLogger(CarServiceImpl.class);</span><br><span class="line">    </span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String token = RpcContext.getContext().getAttachment(<span class="string">"TOKEN"</span>);</span><br><span class="line">        logger.info(<span class="string">"carService:&#123;&#125;"</span>,token);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>userInfoServiceImpl</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span>(retries = -<span class="number">1</span>)</span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserInfoServiceImpl</span> <span class="keyword">implements</span> <span class="title">IUserInfoService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger logger = LoggerFactory.getLogger(UserInfoServiceImpl.class);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String token = RpcContext.getContext().getAttachment(<span class="string">"TOKEN"</span>);</span><br><span class="line">        logger.info(<span class="string">"userInfoService:&#123;&#125;"</span>,token);</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ‰“å°ç»“æœ"><a href="#æ‰“å°ç»“æœ" class="headerlink" title="æ‰“å°ç»“æœ"></a>æ‰“å°ç»“æœ</h5><ul><li><p>ceshiServiceç»“æœ<br><img src="/images/pasted-29.png" alt="filename already exists, renamed"></p></li><li><p>ICarServiceImplç»“æœ</p></li></ul><p><img src="/images/pasted-31.png" alt="filename already exists, renamed"></p><ul><li>userInfoServiceImplç»“æœ</li></ul><p><img src="/images/pasted-30.png" alt="filename already exists, renamed"></p><h5 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Activate</span>(group = Constants.CONSUMER, order = -<span class="number">10000</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConsumerContextFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Result <span class="title">invoke</span><span class="params">(Invoker&lt;?&gt; invoker, Invocation invocation)</span> <span class="keyword">throws</span> RpcException </span>&#123;</span><br><span class="line">        RpcContext.getContext()</span><br><span class="line">                .setInvoker(invoker)</span><br><span class="line">                .setInvocation(invocation)</span><br><span class="line">                .setLocalAddress(NetUtils.getLocalHost(), <span class="number">0</span>)</span><br><span class="line">                .setRemoteAddress(invoker.getUrl().getHost(),</span><br><span class="line">                        invoker.getUrl().getPort());</span><br><span class="line">        <span class="keyword">if</span> (invocation <span class="keyword">instanceof</span> RpcInvocation) &#123;</span><br><span class="line">            ((RpcInvocation) invocation).setInvoker(invoker);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> invoker.invoke(invocation);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â <span class="comment">// æ¸…ç©ºéšå¼å‚æ•°</span></span><br><span class="line"> Â  Â  Â  Â  Â  Â RpcContext.getContext().clearAttachments();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ¶ˆè´¹ç«¯åœ¨æ‰§è¡ŒRpcè°ƒç”¨ä¹‹å‰ï¼Œç»è¿‡Filterå¤„ç†, ä¼šå°†ä¿¡æ¯å†™å…¥RpcContex,è€Œä¸”åœ¨æ¯æ¬¡è°ƒç”¨rpcåéƒ½ä¼šæŠŠéšå¼å‚æ•°æ¸…ç©º,æ‰€ä»¥åœ¨ç¬¬äºŒæ¬¡è°ƒç”¨rpcå°±æ— æ³•æ‹¿åˆ°ä¹‹å‰çš„éšå¼å‚æ•°äº†</p></blockquote><h5 id="æ‹“å±•"><a href="#æ‹“å±•" class="headerlink" title="æ‹“å±•"></a>æ‹“å±•</h5><ul><li>Filterä½•æ—¶è¿›è¡Œurlè¿‡æ»¤</li></ul><blockquote><p>filterï¼ˆè¿‡æ»¤å™¨ï¼‰ä½œç”¨äºåœ¨intreceptor(æ‹¦æˆªå™¨)ä¹‹å‰ï¼Œä¸åƒintreceptorä¸€æ ·ä¾èµ–äºspringmvcæ¡†æ¶ï¼Œåªéœ€è¦ä¾èµ–äºserverletã€‚</p></blockquote><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Dubboç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> dubbo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dockeråŸºæœ¬å‘½ä»¤ä½¿ç”¨</title>
      <link href="/2019/06/24/docker%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8/"/>
      <url>/2019/06/24/docker%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><p>è®°å½•<code>docker</code>å¸¸ç”¨å‘½ä»¤<br><a id="more"></a></p><h6 id="æŸ¥çœ‹æœ¬åœ°é•œåƒåˆ—è¡¨"><a href="#æŸ¥çœ‹æœ¬åœ°é•œåƒåˆ—è¡¨" class="headerlink" title="æŸ¥çœ‹æœ¬åœ°é•œåƒåˆ—è¡¨"></a>æŸ¥çœ‹æœ¬åœ°é•œåƒåˆ—è¡¨</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><h6 id="æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨"><a href="#æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨" class="headerlink" title="æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨"></a>æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure><h6 id="æŸ¥çœ‹æ‰€æœ‰å®¹å™¨-åŒ…æ‹¬æœªè¿è¡Œçš„"><a href="#æŸ¥çœ‹æ‰€æœ‰å®¹å™¨-åŒ…æ‹¬æœªè¿è¡Œçš„" class="headerlink" title="æŸ¥çœ‹æ‰€æœ‰å®¹å™¨(åŒ…æ‹¬æœªè¿è¡Œçš„)"></a>æŸ¥çœ‹æ‰€æœ‰å®¹å™¨(åŒ…æ‹¬æœªè¿è¡Œçš„)</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a</span><br></pre></td></tr></table></figure><h6 id="åˆ é™¤é•œåƒ"><a href="#åˆ é™¤é•œåƒ" class="headerlink" title="åˆ é™¤é•œåƒ"></a>åˆ é™¤é•œåƒ</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi &lt;é•œåƒID&gt;</span><br></pre></td></tr></table></figure><h6 id="runå‘½ä»¤"><a href="#runå‘½ä»¤" class="headerlink" title="runå‘½ä»¤"></a>runå‘½ä»¤</h6><ul><li>docker run [å‚æ•°] [é•œåƒid] | [é•œåƒå]:[é•œåƒæ ‡ç­¾] [å‘½ä»¤]</li></ul><blockquote><p>-i è¡¨ç¤ºå®¹å™¨çš„è¾“å…¥ç»ˆç«¯ä¿æŒæ‰“å¼€,ä¸ç›´æ¥å…³é—­<br>-t è¡¨ç¤ºå¼€å¯ä¸€ä¸ªè™šæ‹Ÿç»ˆç«¯, ç»‘å®šåˆ°æ ‡å‡†è¾“å…¥ä¸Š<br>-d è¡¨ç¤ºè®©è¯¥å®¹å™¨åœ¨åå°è¿è¡Œ<br>â€“name ç»™è¯¥å®¹å™¨èµ·ä¸€ä¸ªå®¹å™¨åï¼Œå¦‚æœæ²¡æœ‰æ­¤å‚æ•°ï¼Œåˆ™æœ‰ä¸€ä¸ªé»˜è®¤çš„å®¹å™¨å<br>â€“rm åœæ­¢è¯¥å®¹å™¨æ—¶ï¼ŒæŠŠå®¹å™¨åˆ é™¤æ‰</p></blockquote><h6 id="ä½¿ç”¨é•œåƒè¿è¡Œå®¹å™¨"><a href="#ä½¿ç”¨é•œåƒè¿è¡Œå®¹å™¨" class="headerlink" title="ä½¿ç”¨é•œåƒè¿è¡Œå®¹å™¨"></a>ä½¿ç”¨é•œåƒè¿è¡Œå®¹å™¨</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --name &lt;å®¹å™¨åç§°&gt; -d -p &lt;port:port&gt; &lt;é•œåƒID&gt;</span><br></pre></td></tr></table></figure><h6 id="å¯åŠ¨å®¹å™¨"><a href="#å¯åŠ¨å®¹å™¨" class="headerlink" title="å¯åŠ¨å®¹å™¨"></a>å¯åŠ¨å®¹å™¨</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start &lt;å®¹å™¨ID&gt;</span><br></pre></td></tr></table></figure><h6 id="åœæ­¢å®¹å™¨"><a href="#åœæ­¢å®¹å™¨" class="headerlink" title="åœæ­¢å®¹å™¨"></a>åœæ­¢å®¹å™¨</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop &lt;å®¹å™¨ID&gt;</span><br></pre></td></tr></table></figure><h6 id="åˆ é™¤å®¹å™¨"><a href="#åˆ é™¤å®¹å™¨" class="headerlink" title="åˆ é™¤å®¹å™¨"></a>åˆ é™¤å®¹å™¨</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm &lt;å®¹å™¨ID&gt;</span><br></pre></td></tr></table></figure><h6 id="æŸ¥çœ‹dockerçš„æ‰€æœ‰å®¹å™¨è¿è¡ŒçŠ¶æ€"><a href="#æŸ¥çœ‹dockerçš„æ‰€æœ‰å®¹å™¨è¿è¡ŒçŠ¶æ€" class="headerlink" title="æŸ¥çœ‹dockerçš„æ‰€æœ‰å®¹å™¨è¿è¡ŒçŠ¶æ€"></a>æŸ¥çœ‹dockerçš„æ‰€æœ‰å®¹å™¨è¿è¡ŒçŠ¶æ€</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stats</span><br></pre></td></tr></table></figure><h6 id="è¿›å…¥å®¹å™¨é‡Œé¢"><a href="#è¿›å…¥å®¹å™¨é‡Œé¢" class="headerlink" title="è¿›å…¥å®¹å™¨é‡Œé¢"></a>è¿›å…¥å®¹å™¨é‡Œé¢</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it &lt;å®¹å™¨ID&gt; /bin/bash</span><br></pre></td></tr></table></figure><h6 id="æŸ¥çœ‹å®¹å™¨è¿è¡Œæ—¥å¿—-ç±»ä¼¼-tail-f-å‘½ä»¤"><a href="#æŸ¥çœ‹å®¹å™¨è¿è¡Œæ—¥å¿—-ç±»ä¼¼-tail-f-å‘½ä»¤" class="headerlink" title="æŸ¥çœ‹å®¹å™¨è¿è¡Œæ—¥å¿—(ç±»ä¼¼ tail -f å‘½ä»¤)"></a>æŸ¥çœ‹å®¹å™¨è¿è¡Œæ—¥å¿—(ç±»ä¼¼ <code>tail -f</code> å‘½ä»¤)</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ JConsole ç›‘æ§ springboot é¡¹ç›®</title>
      <link href="/2019/06/24/%E4%BD%BF%E7%94%A8-JConsole-%E7%9B%91%E6%8E%A7-springboot-%E9%A1%B9%E7%9B%AE/"/>
      <url>/2019/06/24/%E4%BD%BF%E7%94%A8-JConsole-%E7%9B%91%E6%8E%A7-springboot-%E9%A1%B9%E7%9B%AE/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><p>JConsole ä½¿ç”¨è®°å½•~!<br><a id="more"></a></p><h5 id="æ·»åŠ å¯åŠ¨å‚æ•°"><a href="#æ·»åŠ å¯åŠ¨å‚æ•°" class="headerlink" title="æ·»åŠ å¯åŠ¨å‚æ•°"></a>æ·»åŠ å¯åŠ¨å‚æ•°</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">nohup java -jar </span><br><span class="line">-Djava.rmi.server.hostname=x.x.x.x # æœåŠ¡ip</span><br><span class="line">-Dcom.sun.management.jmxremote </span><br><span class="line">-Dcom.sun.management.jmxremote.port=1099 # ç«¯å£(ä¸èƒ½ä¸æœåŠ¡ç«¯å£å†²çª)</span><br><span class="line">-Dcom.sun.management.jmxremote.authenticate=<span class="keyword">false</span> </span><br><span class="line">-Dcom.sun.management.jmxremote.ssl=<span class="keyword">false</span> </span><br><span class="line">-Xms200m -Xmx200m ylcloud-item-service-<span class="number">0.0</span>.1-SNAPSHOT.jar &gt; /pro/test/home/yanfa/nohup_item.out &amp; <span class="number">2</span>&gt;&amp;<span class="number">1</span> &amp;</span><br></pre></td></tr></table></figure><h5 id="å¯åŠ¨JConsole"><a href="#å¯åŠ¨JConsole" class="headerlink" title="å¯åŠ¨JConsole"></a>å¯åŠ¨<code>JConsole</code></h5><p>ç›´æ¥åœ¨<code>windows</code>å‘½ä»¤çª—å£è¾“å…¥<code>JConsole</code></p><p><img src="/images/pasted-28.png" alt="filename already exists, renamed"></p><p>é€‰æ‹©è¿œç¨‹è¿›ç¨‹è¾“å…¥å¯¹åº”çš„<code>ip:port</code>å³å¯</p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> å·¥å…·ä½¿ç”¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dubboé‡è¯•æœºåˆ¶</title>
      <link href="/2019/06/15/Dubbo%E9%87%8D%E8%AF%95%E6%9C%BA%E5%88%B6/"/>
      <url>/2019/06/15/Dubbo%E9%87%8D%E8%AF%95%E6%9C%BA%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><blockquote><p><a href="http://dubbo.apache.org/zh-cn/docs/user/references/xml/dubbo-service.html" target="_blank" rel="noopener">DUBBOä¸­æ–‡å®˜æ–¹æ–‡æ¡£</a></p></blockquote><p>è®°å½•<code>Dubbo</code>é‡è¯•æœºåˆ¶é…ç½®~!<br><a id="more"></a></p><blockquote><p><a href="http://dubbo.apache.org/zh-cn/docs/user/references/xml/dubbo-service.html" target="_blank" rel="noopener">DUBBOä¸­æ–‡å®˜æ–¹æ–‡æ¡£</a></p></blockquote><h5 id="é»˜è®¤é‡è¯•æ¬¡æ•°-2"><a href="#é»˜è®¤é‡è¯•æ¬¡æ•°-2" class="headerlink" title="é»˜è®¤é‡è¯•æ¬¡æ•°: 2"></a>é»˜è®¤é‡è¯•æ¬¡æ•°: 2</h5><p>åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æœ‰ä»‹ç»åˆ°<code>dubbo</code>çš„é‡è¯•æ¬¡æ•°é»˜è®¤æ˜¯<code>2</code></p><table><thead><tr><th>å±æ€§</th><th>å¯¹åº”URLå‚æ•°</th><th>ç±»å‹</th><th>æ˜¯å¦å¿…å¡«</th><th>ç¼ºçœå€¼</th><th>ä½œç”¨</th><th>æè¿°</th><th>å…¼å®¹æ€§</th></tr></thead><tbody><tr><td>retries</td><td>retries</td><td>int</td><td>å¯é€‰</td><td>2</td><td>æ€§èƒ½è°ƒä¼˜</td><td>è¿œç¨‹æœåŠ¡è°ƒç”¨é‡è¯•æ¬¡æ•°ï¼Œä¸åŒ…æ‹¬ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œä¸éœ€è¦é‡è¯•è¯·è®¾ä¸º0</td><td>2.0.0ä»¥ä¸Šç‰ˆæœ¬</td></tr></tbody></table><h5 id="ä¿®æ”¹é‡è¯•æ¬¡æ•°"><a href="#ä¿®æ”¹é‡è¯•æ¬¡æ•°" class="headerlink" title="ä¿®æ”¹é‡è¯•æ¬¡æ•°"></a>ä¿®æ”¹é‡è¯•æ¬¡æ•°</h5><ul><li><code>duboo-provider.xml</code>é…ç½®æ–¹å¼: åœ¨<code>dubbo:service</code>é…ç½®<code>retries</code>å‚æ•°</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¸¸ç”¨èœå•æ¨è--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dubbo:service</span> <span class="attr">ref</span>=<span class="string">"userMenuClickFacade"</span> <span class="attr">interface</span>=<span class="string">"com.ylcloud.user.facade.UserMenuClickFacade"</span> <span class="attr">retries</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userMenuClickFacade"</span> <span class="attr">class</span>=<span class="string">"com.ylcloud.user.facade.impl.UserMenuClickFacadeImpl"</span>/&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨æ³¨è§£"><a href="#ä½¿ç”¨æ³¨è§£" class="headerlink" title="ä½¿ç”¨æ³¨è§£"></a>ä½¿ç”¨æ³¨è§£</h4><ul><li><p>å¦‚æœä½¿ç”¨çš„<code>@Service</code>é…ç½®é‡è¯•æ¬¡æ•°,ä¸è®¾ç½®<code>retries</code>å‚æ•°,é‚£ä¹ˆè¯¥å‚æ•°é»˜è®¤å€¼æ˜¯0,ä½†æ˜¯ä¸ç®¡æ˜¾ç¤ºé…ç½®<code>retries</code>ä¸º<code>0</code>,è¿˜æ˜¯ä¸æ˜¾ç¤ºè®¾ç½®,<code>0</code>éƒ½æ˜¯ä½¿ç”¨<code>dubbo</code>é»˜è®¤çš„é‡è¯•æ¬¡æ•°</p></li><li><p>å¦‚æœè¦é…ç½®é‡è¯•æ¬¡æ•°ä¸º<code>0</code>,åªæœ‰æŠŠ<code>retries</code>å°äº<code>0</code>æ‰ä¼šèµ·ä½œç”¨</p></li><li><p>å¦‚æœä½¿ç”¨<code>@Reference</code>å¼•ç”¨æœåŠ¡æ—¶é…ç½®äº†<code>retries</code>,é‡è¯•æ¬¡æ•°ä»¥æ”¹æ¬¡æ•°ä¸ºå‡†</p></li><li><p>åªæœ‰æ˜¾ç¤ºè®¾ç½®<code>retries</code>å¤§äºæˆ–ç­‰äº<code>1</code>æ‰ä¼šèµ·ä½œç”¨</p><h4 id="dubboç›¸å…³ä»£ç -dubboç‰ˆæœ¬-2-6-1"><a href="#dubboç›¸å…³ä»£ç -dubboç‰ˆæœ¬-2-6-1" class="headerlink" title="dubboç›¸å…³ä»£ç (dubboç‰ˆæœ¬:2.6.1)"></a>dubboç›¸å…³ä»£ç (dubboç‰ˆæœ¬:2.6.1)</h4></li><li><code>package com.alibaba.dubbo.rpc.cluster.support.FailoverClusterInvoker;</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Result <span class="title">doInvoke</span><span class="params">(Invocation invocation, <span class="keyword">final</span> List&lt;Invoker&lt;T&gt;&gt; invokers, LoadBalance loadbalance)</span> <span class="keyword">throws</span> RpcException </span>&#123;</span><br><span class="line">        List&lt;Invoker&lt;T&gt;&gt; copyinvokers = invokers;</span><br><span class="line">        checkInvokers(copyinvokers, invocation);</span><br><span class="line"> Â  Â  Â  Â <span class="comment">// len:æœ€å¤šè°ƒç”¨æ¬¡æ•°--&gt; é‡è¯•æ¬¡æ•° + 1</span></span><br><span class="line"> Â  Â  Â  Â <span class="keyword">int</span> len = getUrl().getMethodParameter(invocation.getMethodName(), Constants.RETRIES_KEY, Constants.DEFAULT_RETRIES) + <span class="number">1</span>;</span><br><span class="line"> Â  Â  Â  Â <span class="comment">// æ§åˆ¶è‡³å°‘è°ƒç”¨ä¸€æ¬¡:å³é‡è¯•æ¬¡æ•°ä¸º 0</span></span><br><span class="line"> Â  Â  Â  Â <span class="keyword">if</span> (len &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            len = <span class="number">1</span>;</span><br><span class="line"> Â  Â  Â  Â &#125;</span><br><span class="line"><span class="comment">/** éƒ¨åˆ†æºç çœç•¥**/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="dubboæ³¨å†ŒæœåŠ¡ç›¸å…³ä»£ç "><a href="#dubboæ³¨å†ŒæœåŠ¡ç›¸å…³ä»£ç " class="headerlink" title="dubboæ³¨å†ŒæœåŠ¡ç›¸å…³ä»£ç "></a>dubboæ³¨å†ŒæœåŠ¡ç›¸å…³ä»£ç </h4><ul><li><code>package com.alibaba.dubbo.config.AbstractConfig;</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">appendAnnotation</span><span class="params">(Class&lt;?&gt; annotationClass, Object annotation)</span> </span>&#123;</span><br><span class="line"><span class="comment">/** çœç•¥éƒ¨åˆ†ä»£ç  **/</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// è·å–ç›´æ¥é…ç½®çš„æ•°æ®</span></span><br><span class="line">Object value = method.invoke(annotation, <span class="keyword">new</span> Object[<span class="number">0</span>]);</span><br><span class="line"><span class="comment">// å¦‚æœä¸ä¸ºç©ºå¹¶ä¸”ä¸ç­‰äºé»˜è®¤å€¼,åˆ™æ³¨å†Œurlä¸­</span></span><br><span class="line"><span class="keyword">if</span> (value != <span class="keyword">null</span> &amp;&amp; !value.equals(method.getDefaultValue())) &#123;</span><br><span class="line">   </span><br><span class="line"><span class="comment">/** çœç•¥éƒ¨åˆ†ä»£ç  **/</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">/** çœç•¥éƒ¨åˆ†ä»£ç  **/</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ‰€ä»¥å¦‚æœä½¿ç”¨æ³¨è§£é…ç½®é‡è¯•æ¬¡æ•°,å¦‚æœé…ç½®çš„æ˜¯é»˜è®¤å€¼,åˆ™ä¸ä¼šæ³¨å†Œåˆ°urlä¸­,ä¼šä½¿ç”¨dubboé»˜è®¤çš„å€¼</p></blockquote><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Dubboç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> dubbo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx+ffmpegæ­å»ºæ¨æµæœåŠ¡å™¨</title>
      <link href="/2019/06/14/Nginx-ffmpeg%E6%90%AD%E5%BB%BA%E6%8E%A8%E6%B5%81%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2019/06/14/Nginx-ffmpeg%E6%90%AD%E5%BB%BA%E6%8E%A8%E6%B5%81%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><p>ç¯å¢ƒğŸ‘‡:</p><ul><li>CentOS7</li></ul><p>æ­å»ºæ¨æµæœåŠ¡å™¨~!<br><a id="more"></a></p><h5 id="å®‰è£…Nginx-å¿½ç•¥"><a href="#å®‰è£…Nginx-å¿½ç•¥" class="headerlink" title="å®‰è£…Nginx(å¿½ç•¥)"></a>å®‰è£…<code>Nginx</code>(å¿½ç•¥)</h5><ul><li>ç•¥<h5 id="ç›´æ¥è¿›å…¥åˆ°Nginxçš„è§£å‹ç›®å½•"><a href="#ç›´æ¥è¿›å…¥åˆ°Nginxçš„è§£å‹ç›®å½•" class="headerlink" title="ç›´æ¥è¿›å…¥åˆ°Nginxçš„è§£å‹ç›®å½•"></a>ç›´æ¥è¿›å…¥åˆ°<code>Nginx</code>çš„è§£å‹ç›®å½•</h5></li></ul><p>// å‚è€ƒ:è¿™æ˜¯æˆ‘ç›®å½•<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/softs/nginx-1.10.1</span><br></pre></td></tr></table></figure><p></p><ul><li>ç›®å½•ä¸‹é¢çš„å†…å®¹:</li></ul><p><img src="/images/pasted-26.png" alt="filename already exists, renamed"></p><h5 id="ä¸‹è½½nginx-rtmp-module-å¹¶è§£å‹"><a href="#ä¸‹è½½nginx-rtmp-module-å¹¶è§£å‹" class="headerlink" title="ä¸‹è½½nginx-rtmp-module,å¹¶è§£å‹"></a>ä¸‹è½½<code>nginx-rtmp-module</code>,å¹¶è§£å‹</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/arut/nginx-rtmp-module/archive/master.zip</span><br><span class="line"></span><br><span class="line">unzip  master.zip</span><br></pre></td></tr></table></figure><h5 id="å…ˆå¤‡ä»½Nginx-ç¨³ç‚¹æ¥"><a href="#å…ˆå¤‡ä»½Nginx-ç¨³ç‚¹æ¥" class="headerlink" title="å…ˆå¤‡ä»½Nginx(ç¨³ç‚¹æ¥)"></a>å…ˆå¤‡ä»½<code>Nginx</code>(ç¨³ç‚¹æ¥)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp objs/nginx /usr/local/nginx/sbin/nginx</span><br></pre></td></tr></table></figure><h5 id="é‡æ–°é…ç½®Nginx"><a href="#é‡æ–°é…ç½®Nginx" class="headerlink" title="é‡æ–°é…ç½®Nginx"></a>é‡æ–°é…ç½®<code>Nginx</code></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./configure --with-http_ssl_module --add-module=/usr/local/softs/nginx-1.10.1/nginx-rtmp-module-master</span><br><span class="line"></span><br><span class="line">make</span><br></pre></td></tr></table></figure><p>PS: ç”¨<code>make</code>,ä¸è¦ä½¿ç”¨<code>make install</code>,ä¸ç„¶ä¼šè¦†ç›–å·²ç»æ·»åŠ çš„æ¨¡å—<br>(ç½‘ä¸Šæ˜¯è¿™ä¹ˆè¯´çš„,ä½†æ˜¯å¥½åƒæ²¡æœ‰æ•ˆæœ,æˆ‘ä¹‹å‰è£…äº†<code>ssl</code>æ¨¡å—çš„,ç›´æ¥å°±ç»™æˆ‘è¦†ç›–æ‰äº†)</p><p>å› ä¸ºæˆ‘ä¹‹å‰å°±åŠ äº†ä¸ª<code>ssl</code>æ¨¡å—,æ‰€æœ‰æˆ‘ç›´æ¥åœ¨é…ç½®ä¸ŠåŠ ä¸Šäº†,ä¸è¿‡ä¹‹å‰ä¹Ÿæœ‰å¤‡ä»½</p><h5 id="å°†æ–°çš„nginxè¦†ç›–æ—§å®‰è£…ç›®å½•"><a href="#å°†æ–°çš„nginxè¦†ç›–æ—§å®‰è£…ç›®å½•" class="headerlink" title="å°†æ–°çš„nginxè¦†ç›–æ—§å®‰è£…ç›®å½•"></a>å°†æ–°çš„<code>nginx</code>è¦†ç›–æ—§å®‰è£…ç›®å½•</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp objs/nginx /usr/local/nginx/sbin/nginx</span><br></pre></td></tr></table></figure><h5 id="ä¿®æ”¹Nginxé…ç½®æ–‡ä»¶-nginx-conf"><a href="#ä¿®æ”¹Nginxé…ç½®æ–‡ä»¶-nginx-conf" class="headerlink" title="ä¿®æ”¹Nginxé…ç½®æ–‡ä»¶(nginx.conf)"></a>ä¿®æ”¹<code>Nginx</code>é…ç½®æ–‡ä»¶(<code>nginx.conf</code>)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">rtmp &#123;                #RTMPæœåŠ¡</span><br><span class="line">    server &#123;</span><br><span class="line">       listen 1935;  #//æœåŠ¡ç«¯å£</span><br><span class="line">       chunk_size 4096;   #//æ•°æ®ä¼ è¾“å—çš„å¤§å°</span><br><span class="line">       application vod &#123;</span><br><span class="line">           play /opt/video; #//è§†é¢‘æ–‡ä»¶å­˜æ”¾ä½ç½®ã€‚</span><br><span class="line">       &#125;</span><br><span class="line">       application live&#123; #ç›´æ’­</span><br><span class="line">           live on;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>PS: rtmpæ˜¯ä¸€ä¸ªå•ç‹¬çš„æ¨¡å—,ä¸è¦æ”¾åœ¨<code>http</code>é‡Œé¢</p><h5 id="é‡å¯Nginx"><a href="#é‡å¯Nginx" class="headerlink" title="é‡å¯Nginx"></a>é‡å¯<code>Nginx</code></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/nginx/sbin</span><br><span class="line"></span><br><span class="line">./nginx -s reload</span><br></pre></td></tr></table></figure><h5 id="å®‰è£…EPEL-Releaseï¼Œå› ä¸ºå®‰è£…éœ€è¦ä½¿ç”¨å…¶ä»–çš„repoæºï¼Œæ‰€ä»¥éœ€è¦EPELæ”¯æŒ"><a href="#å®‰è£…EPEL-Releaseï¼Œå› ä¸ºå®‰è£…éœ€è¦ä½¿ç”¨å…¶ä»–çš„repoæºï¼Œæ‰€ä»¥éœ€è¦EPELæ”¯æŒ" class="headerlink" title="å®‰è£…EPEL Releaseï¼Œå› ä¸ºå®‰è£…éœ€è¦ä½¿ç”¨å…¶ä»–çš„repoæºï¼Œæ‰€ä»¥éœ€è¦EPELæ”¯æŒ"></a>å®‰è£…<code>EPEL Release</code>ï¼Œå› ä¸ºå®‰è£…éœ€è¦ä½¿ç”¨å…¶ä»–çš„<code>repo</code>æºï¼Œæ‰€ä»¥éœ€è¦EPELæ”¯æŒ</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y epel-release</span><br></pre></td></tr></table></figure><h5 id="å®‰è£…å®Œæˆä¹‹åï¼Œå¯ä»¥æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#å®‰è£…å®Œæˆä¹‹åï¼Œå¯ä»¥æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="å®‰è£…å®Œæˆä¹‹åï¼Œå¯ä»¥æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ"></a>å®‰è£…å®Œæˆä¹‹åï¼Œå¯ä»¥æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist</span><br></pre></td></tr></table></figure><h5 id="å®‰è£…nux-dextop-æº"><a href="#å®‰è£…nux-dextop-æº" class="headerlink" title="å®‰è£…nux-dextop æº"></a>å®‰è£…nux-dextop æº</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh http://li.nux.ro/download/nux/dextop/el7/x86_64/nux-dextop-release-0-1.el7.nux.noarch.rpm</span><br></pre></td></tr></table></figure><h5 id="å®‰è£…ffmpeg"><a href="#å®‰è£…ffmpeg" class="headerlink" title="å®‰è£…ffmpeg"></a>å®‰è£…<code>ffmpeg</code></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y ffmpeg</span><br></pre></td></tr></table></figure><h5 id="å®‰è£…å®Œæˆåæ£€æŸ¥ffmpeg-ç‰ˆæœ¬"><a href="#å®‰è£…å®Œæˆåæ£€æŸ¥ffmpeg-ç‰ˆæœ¬" class="headerlink" title="å®‰è£…å®Œæˆåæ£€æŸ¥ffmpeg ç‰ˆæœ¬"></a>å®‰è£…å®Œæˆåæ£€æŸ¥ffmpeg ç‰ˆæœ¬</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -version</span><br></pre></td></tr></table></figure><p><img src="/images/pasted-27.png" alt="filename already exists, renamed"></p><h5 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -re -i lgz.mp4 -c copy -f flv rtmp://localhost:1935/live/film</span><br></pre></td></tr></table></figure><h5 id="ä½¿ç”¨VLC"><a href="#ä½¿ç”¨VLC" class="headerlink" title="ä½¿ç”¨VLC"></a>ä½¿ç”¨<code>VLC</code></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rtmp://&#123;ä½ çš„æœåŠ¡IP&#125;:1935/live/film</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡å™¨ç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
            <tag> æ¨æµæœåŠ¡å™¨ </tag>
            
            <tag> ffmpeg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»“æŸWindowså ç”¨ç«¯å£è¿›ç¨‹</title>
      <link href="/2019/06/12/%E7%BB%93%E6%9D%9FWindows%E5%8D%A0%E7%94%A8%E7%AB%AF%E5%8F%A3%E8%BF%9B%E7%A8%8B/"/>
      <url>/2019/06/12/%E7%BB%93%E6%9D%9FWindows%E5%8D%A0%E7%94%A8%E7%AB%AF%E5%8F%A3%E8%BF%9B%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><p>netstat -ano | findstr 80 //åˆ—å‡ºè¿›ç¨‹æå…¶å ç”¨çš„ç«¯å£ï¼Œä¸”åŒ…å« 80<br>tasklist | findstr 9268<br>taskkill -PID &lt;è¿›ç¨‹å·&gt; -F //å¼ºåˆ¶å…³é—­æŸä¸ªè¿›ç¨‹<br><a id="more"></a></p><!-- rebuild by neat -->]]></content>
      
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLå‡½æ•°ä½¿ç”¨è®°å½•</title>
      <link href="/2019/06/06/QL%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/"/>
      <url>/2019/06/06/QL%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><p>sqlå‡½æ•°ä½¿ç”¨è®°å½•~!</p><a id="more"></a><h5 id="SUMå‡½æ•°ä¸­ä½¿ç”¨case"><a href="#SUMå‡½æ•°ä¸­ä½¿ç”¨case" class="headerlink" title="SUMå‡½æ•°ä¸­ä½¿ç”¨case"></a><code>SUM</code>å‡½æ•°ä¸­ä½¿ç”¨<code>case</code></h5><h6 id="ç»Ÿè®¡t1-groupNumberå¤§äº2çš„æ•°é‡"><a href="#ç»Ÿè®¡t1-groupNumberå¤§äº2çš„æ•°é‡" class="headerlink" title="ç»Ÿè®¡t1.groupNumberå¤§äº2çš„æ•°é‡"></a>ç»Ÿè®¡<code>t1.groupNumber</code>å¤§äº2çš„æ•°é‡</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line"><span class="keyword">IF</span>(</span><br><span class="line"><span class="keyword">SUM</span>(<span class="keyword">case</span> <span class="keyword">when</span> t1.groupNumber &gt; <span class="number">2</span> <span class="keyword">then</span> <span class="number">1</span> <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">end</span>) / <span class="keyword">COUNT</span>(t1.groupNumber),</span><br><span class="line"><span class="keyword">SUM</span>(<span class="keyword">case</span> <span class="keyword">when</span> t1.groupNumber &gt; <span class="number">2</span> <span class="keyword">then</span> <span class="number">1</span> <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">end</span>) / <span class="keyword">COUNT</span>(t1.groupNumber),</span><br><span class="line"><span class="number">0</span></span><br><span class="line">) <span class="keyword">AS</span> fgl </span><br><span class="line"><span class="keyword">FROM</span> </span><br><span class="line">(<span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(visitor_code) groupNumber <span class="keyword">FROM</span> sales_order <span class="keyword">WHERE</span> scomp_code = <span class="string">'G0000001'</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> visitor_code) t1;</span><br></pre></td></tr></table></figure><h6 id="æ ¼å¼åŒ–æ—¥æœŸåˆ†ç»„æŸ¥è¯¢"><a href="#æ ¼å¼åŒ–æ—¥æœŸåˆ†ç»„æŸ¥è¯¢" class="headerlink" title="æ ¼å¼åŒ–æ—¥æœŸåˆ†ç»„æŸ¥è¯¢"></a>æ ¼å¼åŒ–æ—¥æœŸåˆ†ç»„æŸ¥è¯¢</h6><table><thead><tr><th>å‡½æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>DATE_FORMAT(creater_time,â€™%Y-%mâ€™)</td><td>è®¢è´§æ—¥æœŸ(æ—¥)</td></tr><tr><td>DATE_FORMAT(creater_time,â€™%Y-%m-%dâ€™)</td><td>è®¢è´§æ—¥æœŸ(æœˆ)</td></tr></tbody></table><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(<span class="number">1</span>),<span class="keyword">DATE_FORMAT</span>(creater_time,<span class="string">'%Y-%m-%d'</span>) <span class="keyword">FROM</span> patrolshop_plan <span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="keyword">DATE_FORMAT</span>(creater_time,<span class="string">'%Y-%m-%d'</span>)</span><br></pre></td></tr></table></figure><ul><li>æ—¥æ•ˆæœ:</li></ul><p><img src="/images/pasted-24.png" alt="filename already exists, renamed"></p><ul><li>æœˆæ•ˆæœ:</li></ul><p><img src="/images/pasted-25.png" alt="filename already exists, renamed"></p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> MySQLæ•°æ®åº“ç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SQLå‡½æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>xmlæ–‡ä»¶æ³¨é‡Šæ³¨æ„äº‹é¡¹</title>
      <link href="/2019/06/06/xml%E6%96%87%E4%BB%B6%E6%B3%A8%E9%87%8A%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/"/>
      <url>/2019/06/06/xml%E6%96%87%E4%BB%B6%E6%B3%A8%E9%87%8A%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><p>è®°å½•ä¸€ä¸ªè°ƒè¯•ä¸­å¶ç„¶ç¢°åˆ°çš„é—®é¢˜~!</p><p>åœ¨mapper.xmlæ–‡ä»¶ä¸­æ³¨é‡Šè¯­å¥å¿…é¡»ä½¿ç”¨<code>&lt;!-- --&gt;</code><br><a id="more"></a><br>åœ¨ä¸€æ¬¡è°ƒè¯•ä¸­ç›´æ¥åœ¨<code>mapper.xml</code>é¡ºæ‰‹ä½¿ç”¨<code>CTRL + /</code>äº†å¿«æ·é”®æ³¨é‡Š:<code>#</code>ç¬¦å·</p><p>ç„¶è€Œé‚£ä¸€è¡Œä»£ç ä¹Ÿæ˜¯å˜ç°äº†ä¹Ÿå°±æ²¡ç•™æ„</p><p>åœ¨è®¿é—®çš„æ—¶å€™ç›´æ¥æŠ¥é”™äº†</p><p>ä¹‹åæ¢æˆ<code>&lt;!-- --&gt;</code>å³å¯</p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> BUGç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sourcetree æ›´æ–°gitè´¦å·å¯†ç </title>
      <link href="/2019/05/31/sourectree%E4%BD%BF%E7%94%A8/"/>
      <url>/2019/05/31/sourectree%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><p>Sourcetreeè®°å½•~!<br><a id="more"></a></p><h5 id="æ›´æ–°gitå¯†ç "><a href="#æ›´æ–°gitå¯†ç " class="headerlink" title="æ›´æ–°gitå¯†ç "></a>æ›´æ–°gitå¯†ç </h5><p>ä½¿ç”¨sourcetreeæ—¶ç™»å½•gitè´¦å·,gitè´¦å·ä¿®æ”¹äº†å¯†ç åsourcetreeåœ¨<strong>æäº¤/æ‹‰å–</strong>ä»£ç æ—¶åªä¼šæŠ¥é”™,å¹¶ä¸ä¼šå¼¹å‡ºgitç™»å½•çª—å£è®©ç”¨æˆ·é‡æ–°ç™»å½•.</p><h5 id="è§£å†³æ–¹æ³•-windows"><a href="#è§£å†³æ–¹æ³•-windows" class="headerlink" title="è§£å†³æ–¹æ³•: windows"></a>è§£å†³æ–¹æ³•: windows</h5><p>è¿›å…¥ä»¥ä¸‹ç›®å½•,åˆ é™¤<code>passwd</code>æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\USERNAME\AppData\Local\Atlassian\SourceTree</span><br></pre></td></tr></table></figure><p>åˆ é™¤æ–‡ä»¶å,å†æ¬¡<strong>æ‹‰å–/æäº¤</strong>ä»£ç å°±ä¼šå¼¹å‡ºgitç™»å½•çª—å£</p><h5 id="ä¿®æ”¹gitç™»å½•åç§°"><a href="#ä¿®æ”¹gitç™»å½•åç§°" class="headerlink" title="ä¿®æ”¹gitç™»å½•åç§°"></a>ä¿®æ”¹gitç™»å½•åç§°</h5><p>sourcetreeé‡æ–°ç™»å½•gitæ—¶æ— æ³•ä¿®æ”¹ç”¨æˆ·åç§°</p><h5 id="è§£å†³æ–¹æ³•-windows-1"><a href="#è§£å†³æ–¹æ³•-windows-1" class="headerlink" title="è§£å†³æ–¹æ³•: windows"></a>è§£å†³æ–¹æ³•: windows</h5><p>è¿›å…¥ä¸Šé¢ç›®å½•,ä¿®æ”¹<code>userhosts</code>æ–‡ä»¶å¯¹åº”çš„ç™»å½•åç§°å³å¯</p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> å·¥å…·ä½¿ç”¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ZKåˆ†å¸ƒå¼é”</title>
      <link href="/2019/05/17/ZK%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/"/>
      <url>/2019/05/17/ZK%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><ul><li>åªåšè®°å½•<a id="more"></a><h5 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h5>ä½¿ç”¨<code>curator</code>å®¢æˆ·ç«¯æ“ä½œ<code>zookeeper</code></li><li>å¼•å…¥ä¾èµ–</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- ç‰ˆæœ¬å· --&gt;</span><br><span class="line">&lt;curator.version&gt;4.0.0&lt;/curator.version&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- ZKå®¢æˆ·ç«¯:curator --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.apache.curator&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;curator-recipes&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;$&#123;curator.version&#125;&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><ul><li><code>zookeeper</code>ç›¸å…³ä¾èµ–</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- ç‰ˆæœ¬å· --&gt;</span><br><span class="line">&lt;zookeeper.version&gt;3.4.10&lt;/zookeeper.version&gt;</span><br><span class="line">&lt;zkclient.version&gt;0.10&lt;/zkclient.version&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;com.101tec&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;zkclient&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;$&#123;zkclient.version&#125;&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;zookeeper&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;$&#123;zookeeper.version&#125;&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><ul><li>ä»£ç å®ç°</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/5/15 13:33</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ZKLock</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * zkå®¢æˆ·ç«¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> CuratorFramework client = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> InterProcessMutex mutex = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆå§‹åŒ–zkå®¢æˆ·ç«¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">"å¼€å§‹åˆå§‹åŒ–zkå®¢æˆ·ç«¯"</span>);</span><br><span class="line">        <span class="comment">// é‡è¯•ç­–ç•¥:é‡è¯•3æ¬¡,æ¯æ¬¡é‡è¯•é—´éš”1s</span></span><br><span class="line">        RetryPolicy retryPolicy = <span class="keyword">new</span> ExponentialBackoffRetry(<span class="number">1000</span>, <span class="number">3</span>);</span><br><span class="line">        client =</span><br><span class="line">                CuratorFrameworkFactory.builder()</span><br><span class="line">                        .connectString(<span class="string">"139.159.253.188:2181"</span>)<span class="comment">// zkåœ°å€</span></span><br><span class="line">                        .sessionTimeoutMs(<span class="number">15000</span>) <span class="comment">// ä¼šè¯è¶…æ—¶æ—¶é—´</span></span><br><span class="line">                        .connectionTimeoutMs(<span class="number">30000</span>) <span class="comment">// è¿æ¥è¶…æ—¶æ—¶é—´</span></span><br><span class="line">                        .retryPolicy(retryPolicy) <span class="comment">// é‡è¯•ç­–ç•¥</span></span><br><span class="line">                        .namespace(<span class="string">"YL_LGZ"</span>) <span class="comment">// åç§°</span></span><br><span class="line">                        .build();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯åŠ¨zkå®¢æˆ·ç«¯è¿æ¥zk</span></span><br><span class="line">        client.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> code èŠ‚ç‚¹åç§°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(String code)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"åˆ›å»ºèŠ‚ç‚¹å¯¹è±¡"</span>);</span><br><span class="line">        mutex = <span class="keyword">new</span> InterProcessMutex(client, code);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŠ é”:äº’æ–¥é”</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">lock</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            mutex.acquire();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            System.out.println(<span class="string">"æ·é”å¤±è´¥"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é‡Šæ”¾é”</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">unLock</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            mutex.release();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            System.out.println(<span class="string">"é‡Šæ”¾é”å¤±è´¥"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æµ‹è¯•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/5/15 15:06</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestLock</span> <span class="keyword">extends</span> <span class="title">ZKLock</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TestLock</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.init(<span class="string">"/LGZ_TEST_CODE"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        TestLock testLock = <span class="keyword">new</span> TestLock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            testLock.lock();</span><br><span class="line">            System.out.println(<span class="string">""</span>);</span><br><span class="line">            Thread.sleep(<span class="number">5000</span>);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            testLock.unLock();</span><br><span class="line">            System.out.println(<span class="string">"é‡Šæ”¾æˆåŠŸ"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> ä¸­é—´ä»¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> åˆ†å¸ƒå¼é” </tag>
            
            <tag> zookeeper </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>zkå‘½ä»¤</title>
      <link href="/2019/05/15/zk%E5%91%BD%E4%BB%A4/"/>
      <url>/2019/05/15/zk%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><ul><li>zkæ“ä½œå‘½ä»¤<a id="more"></a><h5 id="å¯åŠ¨zk"><a href="#å¯åŠ¨zk" class="headerlink" title="å¯åŠ¨zk"></a>å¯åŠ¨zk</h5></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./zkServer.sh   start</span><br></pre></td></tr></table></figure><h5 id="è¿æ¥å®¢æˆ·ç«¯"><a href="#è¿æ¥å®¢æˆ·ç«¯" class="headerlink" title="è¿æ¥å®¢æˆ·ç«¯"></a>è¿æ¥å®¢æˆ·ç«¯</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@ecs-e339-0002 bin]# ./zkCli.sh</span><br></pre></td></tr></table></figure><h5 id="lsæŸ¥çœ‹å‘½ä»¤"><a href="#lsæŸ¥çœ‹å‘½ä»¤" class="headerlink" title="lsæŸ¥çœ‹å‘½ä»¤"></a><code>ls</code>æŸ¥çœ‹å‘½ä»¤</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[zk: localhost:2181(CONNECTED) 2] ls /</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> ä¸­é—´ä»¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> zookeeper </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Shellè„šæœ¬</title>
      <link href="/2019/05/13/Shell%E8%84%9A%E6%9C%AC/"/>
      <url>/2019/05/13/Shell%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><ul><li>æ”¶è—å¸¸ç”¨çš„shellè„šæœ¬<a id="more"></a></li></ul><h5 id="é‡å¯javaé¡¹ç›®"><a href="#é‡å¯javaé¡¹ç›®" class="headerlink" title="é‡å¯javaé¡¹ç›®"></a>é‡å¯<code>java</code>é¡¹ç›®</h5><ul><li>test.sh (ç»“æŸè¿›ç¨‹)</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">echo "Stopping SpringBoot Application for CMP"</span><br><span class="line">pid=`ps -ef | grep $1* | grep -v grep | awk '&#123;print $2&#125;'`</span><br><span class="line">if [ -n "$pid" ]</span><br><span class="line">then </span><br><span class="line">kill -9 $pid</span><br><span class="line">echo 'kill process'</span><br><span class="line">else </span><br><span class="line">echo "no pid"</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><ul><li>tt.sh(æ£€æŸ¥é¡¹ç›®æ˜¯å¦å¯åŠ¨å®Œæ¯•)</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">echo "start script ................"</span><br><span class="line"></span><br><span class="line">file=$1</span><br><span class="line"></span><br><span class="line">while [ -f $file ]</span><br><span class="line">do</span><br><span class="line">    echo "find log ........."</span><br><span class="line">    result=`grep "å¯åŠ¨æˆåŠŸ" $file`</span><br><span class="line">    if [[ "$result" != "" ]]</span><br><span class="line">    then</span><br><span class="line">        echo "springboot start ........."</span><br><span class="line">        break</span><br><span class="line">    else</span><br><span class="line">        echo "running ......."</span><br><span class="line">        sleep 1s</span><br><span class="line">    fi</span><br><span class="line">done</span><br><span class="line">echo "springboot Started..........."</span><br></pre></td></tr></table></figure><ul><li>run.sh(ä¸»shellè„šæœ¬)</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">source /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">ç‰ˆæœ¬ä¿¡æ¯</span></span><br><span class="line">jarversion='-0.0.1-SNAPSHOT.jar'</span><br><span class="line"><span class="meta">#</span><span class="bash">æ—¥å¿—è·¯å¾„</span></span><br><span class="line">logpath='/pro/test/home/yanfa/'</span><br><span class="line"></span><br><span class="line">runjar()&#123;</span><br><span class="line"></span><br><span class="line">        sh test.sh $1</span><br><span class="line"></span><br><span class="line">        nohup java -jar $4 $1$jarversion &gt; $logpath$2 &amp; 2&gt;&amp;1 &amp;</span><br><span class="line"></span><br><span class="line">        sh tt.sh $logpath$2</span><br><span class="line"></span><br><span class="line">        echo $3</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">runjar 'ylcloud-item-service' 'nohup_item.out' 'å•†å“æ¨¡å—å¯åŠ¨å®Œæˆ' '-Xms10m -Xmx200m'</span><br><span class="line"></span><br><span class="line">echo 'é¡¹ç›®å¯åŠ¨æˆåŠŸ'</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitå‘½ä»¤</title>
      <link href="/2019/05/13/git%E5%91%BD%E4%BB%A4-1/"/>
      <url>/2019/05/13/git%E5%91%BD%E4%BB%A4-1/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><ul><li>è®°å½•å¸¸ç”¨çš„gitå‘½ä»¤<a id="more"></a><h6 id="åˆ é™¤å·²å…³è”çš„è¿œç¨‹ä»“åº“"><a href="#åˆ é™¤å·²å…³è”çš„è¿œç¨‹ä»“åº“" class="headerlink" title="åˆ é™¤å·²å…³è”çš„è¿œç¨‹ä»“åº“"></a>åˆ é™¤å·²å…³è”çš„è¿œç¨‹ä»“åº“</h6></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote rm origin</span><br></pre></td></tr></table></figure><h6 id="æ¨é€åˆ°è¿œç¨‹ä»“åº“"><a href="#æ¨é€åˆ°è¿œç¨‹ä»“åº“" class="headerlink" title="æ¨é€åˆ°è¿œç¨‹ä»“åº“"></a>æ¨é€åˆ°è¿œç¨‹ä»“åº“</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git pull origin master</span><br><span class="line"></span><br><span class="line">// å¼ºè¡Œæ¨é€</span><br><span class="line">git pull origin master -f</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼ä¹‹åŠ¨æ€ä»£ç†æ¨¡å¼</title>
      <link href="/2019/05/13/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/"/>
      <url>/2019/05/13/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:06 GMT+0800 (China Standard Time) --><p>åŠ¨æ€ä»£ç†ç±»æ˜¯åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ç”± JVM é€šè¿‡åå°„ç­‰æœºåˆ¶åŠ¨æ€çš„ç”Ÿæˆçš„ï¼Œæ‰€ä»¥ä¸å­˜åœ¨ä»£ç†ç±»çš„å­—èŠ‚ç æ–‡ä»¶ï¼Œä»£ç†å¯¹è±¡å’ŒçœŸå®å¯¹è±¡çš„å…³ç³»æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶æœŸæ‰ç¡®å®šçš„ã€‚<br><a id="more"></a></p><blockquote><p>åŠ¨æ€ä»£ç†ç±»æ˜¯åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ç”± JVM é€šè¿‡åå°„ç­‰æœºåˆ¶åŠ¨æ€çš„ç”Ÿæˆçš„ï¼Œæ‰€ä»¥ä¸å­˜åœ¨ä»£ç†ç±»çš„å­—èŠ‚ç æ–‡ä»¶ï¼Œä»£ç†å¯¹è±¡å’ŒçœŸå®å¯¹è±¡çš„å…³ç³»æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶æœŸæ‰ç¡®å®šçš„ã€‚</p><ul><li>å¦‚ä½•åŠ¨æ€çš„åˆ›å»ºä¸€ä»½å­—èŠ‚ç ï¼š</li></ul></blockquote><p>ç”±äº <code>JVM</code> é€šè¿‡å­—èŠ‚ç çš„äºŒè¿›åˆ¶ä¿¡æ¯åŠ è½½ç±»çš„ï¼Œå¦‚æœæˆ‘ä»¬åœ¨è¿è¡ŒæœŸç³»ç»Ÿä¸­ï¼Œéµå¾ª <code>Java</code> ç¼–è¯‘ç³»ç»Ÿç»„ç»‡ <code>.class</code> æ–‡ä»¶çš„æ ¼å¼å’Œç»“æ„ï¼Œç”Ÿæˆç›¸åº”çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œç„¶åå†æŠŠè¿™ä¸ªäºŒè¿›åˆ¶æ•°æ®åŠ è½½è½¬æ¢æˆå¯¹åº”çš„ç±»ã€‚å¦‚æ­¤ï¼Œå°±å®Œæˆäº†åœ¨ä»£ç ä¸­åŠ¨æ€åˆ›å»ºä¸€ä¸ªç±»çš„èƒ½åŠ›äº†ã€‚</p><h5 id="ç›¸å…³èµ„æ–™"><a href="#ç›¸å…³èµ„æ–™" class="headerlink" title="ç›¸å…³èµ„æ–™"></a>ç›¸å…³èµ„æ–™</h5><ul><li>InvocationHandler ç±»</li></ul><blockquote><p>InvocationHandleræ˜¯ç”±ä»£ç†å®ä¾‹çš„è°ƒç”¨å¤„ç†ç¨‹åºå®ç°çš„æ¥å£ ã€‚<br>æ¯ä¸ªä»£ç†å®ä¾‹éƒ½æœ‰ä¸€ä¸ªå…³è”çš„è°ƒç”¨å¤„ç†ç¨‹åºã€‚ å½“åœ¨ä»£ç†å®ä¾‹ä¸Šè°ƒç”¨æ–¹æ³•æ—¶ï¼Œæ–¹æ³•è°ƒç”¨å°†è¢«ç¼–ç å¹¶åˆ†æ´¾åˆ°å…¶è°ƒç”¨å¤„ç†ç¨‹åºçš„invokeæ–¹æ³•ã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ä¸»è¦æ–¹æ³•ï¼špublic Object invoke(Object proxy, Method method, Object[] args)</span><br><span class="line">æ–¹æ³•èŒè´£ï¼šè´Ÿè´£é›†ä¸­å¤„ç†åŠ¨æ€ä»£ç†ç±»ä¸Šçš„æ‰€æœ‰æ–¹æ³•è°ƒç”¨</span><br><span class="line">å‚æ•°ï¼š</span><br><span class="line">proxy ï¼šç”Ÿæˆçš„ä»£ç†å¯¹è±¡    </span><br><span class="line">   methodï¼šå½“å‰è°ƒç”¨çš„çœŸå®æ–¹æ³•å¯¹è±¡    </span><br><span class="line">   args ï¼šå½“å‰è°ƒç”¨æ–¹æ³•çš„å®å‚</span><br><span class="line">è¿”å›ï¼šçœŸå®æ–¹æ³•çš„è¿”å›ç»“æœ</span><br></pre></td></tr></table></figure><ul><li>Proxy ç±»</li></ul><blockquote><p>Proxyæä¾›äº†åˆ›å»ºåŠ¨æ€ä»£ç†ç±»å’Œå®ä¾‹çš„é™æ€æ–¹æ³•ï¼Œå®ƒä¹Ÿæ˜¯ç”±è¿™äº›æ–¹æ³•åˆ›å»ºçš„æ‰€æœ‰åŠ¨æ€ä»£ç†ç±»çš„è¶…ç±»ã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ä¸»è¦æ–¹æ³•ï¼špublic static Object newProxyInstance(ClassLoader loader, Class&lt;?&gt;[] interfaces,InvocationHandler hanlder)</span><br><span class="line">æ–¹æ³•èŒè´£ï¼šä¸ºæŒ‡å®šç±»åŠ è½½å™¨ã€ä¸€ç»„æ¥å£åŠè°ƒç”¨å¤„ç†å™¨ç”ŸæˆåŠ¨æ€ä»£ç†ç±»å®ä¾‹ </span><br><span class="line">å‚æ•°:   </span><br><span class="line">   loader ï¼šç±»åŠ è½½å™¨ï¼Œä¸€èˆ¬ä¼ é€’çœŸå®å¯¹è±¡çš„ç±»åŠ è½½å™¨   </span><br><span class="line">   interfacesï¼šä»£ç†ç±»éœ€è¦å®ç°çš„æ¥å£  </span><br><span class="line">   hanlderï¼šä»£ç†å¯¹è±¡å¦‚ä½•åšå¢å¼º:</span><br><span class="line">è¿”å›ï¼šåˆ›å»ºçš„ä»£ç†å¯¹è±¡</span><br></pre></td></tr></table></figure><table><thead><tr><th>é™æ€æ–¹æ³•</th></tr></thead><tbody><tr><td>static Object</td><td>newProxyInstance(ClassLoader loader, ç±»&lt;?&gt;[] interfaces, InvocationHandler h) è¿”å›æŒ‡å®šæ¥å£çš„ä»£ç†ç±»çš„å®ä¾‹ï¼Œè¯¥æ¥å£å°†æ–¹æ³•è°ƒç”¨åˆ†æ´¾ç»™æŒ‡å®šçš„è°ƒç”¨å¤„ç†ç¨‹åºã€‚</td></tr></tbody></table><h5 id="å®ç°åŠ¨æ€ä»£ç†æ–¹å¼"><a href="#å®ç°åŠ¨æ€ä»£ç†æ–¹å¼" class="headerlink" title="å®ç°åŠ¨æ€ä»£ç†æ–¹å¼"></a>å®ç°åŠ¨æ€ä»£ç†æ–¹å¼</h5><ul><li style="list-style:none"><input type="checkbox" checked> é’ˆå¯¹æœ‰æ¥å£ï¼šä½¿ç”¨ JDK åŠ¨æ€ä»£ç†ï¼›</li><li style="list-style:none"><input type="checkbox"> é’ˆå¯¹æ— æ¥å£ï¼šä½¿ç”¨ CGLIB æˆ– Javassist ç»„ä»¶ã€‚<br>è‹¥ä½¿ç”¨ JDK åŠ¨æ€ä»£ç†ç”Ÿæˆä»£ç†ç±»,çœŸå®ç±»å¿…é¡»å®ç°ä¸€ä¸ªæ¥å£</li></ul><h5 id="ä»£ç å®ç°-JDKåŠ¨æ€ä»£ç†"><a href="#ä»£ç å®ç°-JDKåŠ¨æ€ä»£ç†" class="headerlink" title="ä»£ç å®ç°(JDKåŠ¨æ€ä»£ç†)"></a>ä»£ç å®ç°(JDKåŠ¨æ€ä»£ç†)</h5><ul><li>ä»£ç†æ¥å£</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/5/9 9:42</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> ä»£ç†æ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EmployeeService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç­¾è®¢åˆåŒ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name å§“å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> contract åˆåŒ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">save</span><span class="params">(String name, String contract)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>çœŸå®å¯¹è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/5/9 10:31</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> çœŸå®å¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmployeeServiceImpl</span> <span class="keyword">implements</span> <span class="title">EmployeeService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç­¾è®¢åˆåŒ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name     å§“å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> contract åˆåŒ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(String name, String contract)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æˆ‘æ˜¯çœŸå®å¯¹è±¡,ä¸"</span> + name + <span class="string">"ç­¾è®¢äº†"</span> + contract);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>äº‹åŠ¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/5/9 11:17</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> äº‹åŠ¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTransactionManger</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">begin</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"å¼€å¯äº‹åŠ¡"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span>  <span class="title">rollback</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"å›æ»šäº‹åŠ¡"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">commit</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æäº¤äº‹åŠ¡"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¤„ç†å™¨</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/5/11 16:45</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TransactionManagerHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// çœŸå®å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> Object target;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// äº‹åŠ¡å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> MyTransactionManger tx;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTarget</span><span class="params">(Object target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMyTransactionManger</span><span class="params">(MyTransactionManger tx)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.tx = tx;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–ä»£ç†å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">getProxy</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (T) Proxy.newProxyInstance(</span><br><span class="line">                target.getClass().getClassLoader(),</span><br><span class="line">                target.getClass().getInterfaces(),</span><br><span class="line">                <span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        Object result = <span class="keyword">null</span>;</span><br><span class="line">        tx.begin();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            result = method.invoke(target,args);</span><br><span class="line">            tx.commit();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            tx.rollback();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æµ‹è¯•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/5/11 16:58</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyTransactionManger tx = <span class="keyword">new</span> MyTransactionManger();</span><br><span class="line">        EmployeeService employeeService = <span class="keyword">new</span> EmployeeServiceImpl();</span><br><span class="line"></span><br><span class="line">        TransactionManagerHandler handler = <span class="keyword">new</span> TransactionManagerHandler();</span><br><span class="line"></span><br><span class="line">        handler.setMyTransactionManger(tx);</span><br><span class="line">        handler.setTarget(employeeService);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"çœŸå®ç±»:"</span> + employeeService);</span><br><span class="line">        EmployeeService proxy = handler.getProxy();</span><br><span class="line">        System.out.println(<span class="string">"ä»£ç†ç±»:"</span> + proxy);</span><br><span class="line"></span><br><span class="line">        proxy.save(<span class="string">"å¼ ä¸‰"</span>,<span class="string">"10å¹´é•¿æœŸåˆåŒ"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç»“æœ</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¼€å¯äº‹åŠ¡</span><br><span class="line">æˆ‘æ˜¯çœŸå®å¯¹è±¡,ä¸å¼ ä¸‰ç­¾è®¢äº†10å¹´é•¿æœŸåˆåŒ</span><br><span class="line">æäº¤äº‹åŠ¡</span><br></pre></td></tr></table></figure><h5 id="è°ƒç”¨æµç¨‹"><a href="#è°ƒç”¨æµç¨‹" class="headerlink" title="è°ƒç”¨æµç¨‹"></a>è°ƒç”¨æµç¨‹</h5><p><img src="/images/pasted-23.png" alt="filename already exists, renamed"></p><h5 id="JDKåŠ¨æ€ä»£ç†æ€»ç»“"><a href="#JDKåŠ¨æ€ä»£ç†æ€»ç»“" class="headerlink" title="JDKåŠ¨æ€ä»£ç†æ€»ç»“"></a>JDKåŠ¨æ€ä»£ç†æ€»ç»“</h5><ul><li>Java åŠ¨æ€ä»£ç†æ˜¯ä½¿ç”¨ java.lang.reflect åŒ…ä¸­çš„ Proxy ç±»ä¸ InvocationHandler æ¥å£è¿™ä¸¤ä¸ªæ¥å®Œæˆçš„ã€‚</li><li>è¦ä½¿ç”¨ JDK åŠ¨æ€ä»£ç†ï¼Œå§”æ‰˜ç±»å¿…é¡»å®ç°æ¥å£ã€‚</li><li>JDK åŠ¨æ€ä»£ç†å°†ä¼šæ‹¦æˆªæ‰€æœ‰ pubic çš„æ–¹æ³•ï¼ˆå› ä¸ºåªèƒ½è°ƒç”¨æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•ï¼‰ï¼Œè¿™æ ·å³ä½¿åœ¨æ¥å£ä¸­å¢åŠ äº†æ–°çš„æ–¹æ³•ï¼Œä¸ç”¨ä¿®æ”¹ä»£ç ä¹Ÿä¼šè¢«æ‹¦æˆªã€‚</li><li>åŠ¨æ€ä»£ç†çš„æœ€å°å•ä½æ˜¯ç±»ï¼ˆç±»ä¸­æŸäº›æ–¹æ³•éƒ½ä¼šè¢«å¤„ç†ï¼‰ï¼Œå¦‚æœåªæƒ³æ‹¦æˆªä¸€éƒ¨åˆ†æ–¹æ³•ï¼Œå¯ä»¥åœ¨ invoke æ–¹æ³•ä¸­å¯¹è¦æ‰§è¡Œçš„æ–¹æ³•åè¿›è¡Œåˆ¤æ–­ã€‚</li><li>å¯¹æ¥å£åˆ›å»ºä»£ç†ä¼˜äºå¯¹ç±»åˆ›å»ºä»£ç†ï¼Œå› ä¸ºä¼šäº§ç”Ÿæ›´åŠ æ¾è€¦åˆçš„ç³»ç»Ÿï¼Œä¹Ÿæ›´ç¬¦åˆé¢å‘æ¥å£ç¼–ç¨‹è§„èŒƒã€‚<br>è‹¥å§”æ‰˜ç±»å®ç°äº†æ¥å£ï¼Œä¼˜å…ˆé€‰ç”¨ JDK åŠ¨æ€ä»£ç†ã€‚<br>è‹¥å§”æ‰˜ç±»æ²¡æœ‰å®ç°ä»»ä½•æ¥å£ï¼Œä½¿ç”¨ Javassit å’Œ CGLIB åŠ¨æ€ä»£ç†ã€‚</li></ul><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼ä¹‹é™æ€ä»£ç†æ¨¡å¼</title>
      <link href="/2019/05/09/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/"/>
      <url>/2019/05/09/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:06 GMT+0800 (China Standard Time) --><blockquote><p>å®¢æˆ·ç«¯ç›´æ¥ä½¿ç”¨çš„éƒ½æ˜¯ä»£ç†å¯¹è±¡ï¼Œä¸çŸ¥é“çœŸå®å¯¹è±¡æ˜¯è°ï¼Œæ­¤æ—¶ä»£ç†å¯¹è±¡å¯ä»¥åœ¨å®¢æˆ·ç«¯å’ŒçœŸå®å¯¹è±¡ä¹‹é—´èµ·åˆ°ä¸­ä»‹çš„ä½œç”¨ã€‚</p></blockquote><p>1.1ã€ä»£ç†å¯¹è±¡å®Œå…¨åŒ…å«çœŸå®å¯¹è±¡ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨çš„éƒ½æ˜¯ä»£ç†å¯¹è±¡çš„æ–¹æ³•ï¼Œå’ŒçœŸå®å¯¹è±¡æ²¡æœ‰ç›´æ¥å…³ç³»ï¼›<br>1.2ã€ä»£ç†æ¨¡å¼çš„èŒè´£ï¼šæŠŠä¸æ˜¯çœŸå®å¯¹è±¡è¯¥åšçš„äº‹æƒ…ä»çœŸå®å¯¹è±¡ä¸Šæ’‡å¼€â€”â€”èŒè´£åˆ†ç¦»ã€‚<br><a id="more"></a></p><h5 id="ä»£ç†æ¨¡å¼"><a href="#ä»£ç†æ¨¡å¼" class="headerlink" title="ä»£ç†æ¨¡å¼"></a>ä»£ç†æ¨¡å¼</h5><blockquote><p>å®¢æˆ·ç«¯ç›´æ¥ä½¿ç”¨çš„éƒ½æ˜¯ä»£ç†å¯¹è±¡ï¼Œä¸çŸ¥é“çœŸå®å¯¹è±¡æ˜¯è°ï¼Œæ­¤æ—¶ä»£ç†å¯¹è±¡å¯ä»¥åœ¨å®¢æˆ·ç«¯å’ŒçœŸå®å¯¹è±¡ä¹‹é—´èµ·åˆ°ä¸­ä»‹çš„ä½œç”¨ã€‚</p></blockquote><p>1.1ã€ä»£ç†å¯¹è±¡å®Œå…¨åŒ…å«çœŸå®å¯¹è±¡ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨çš„éƒ½æ˜¯ä»£ç†å¯¹è±¡çš„æ–¹æ³•ï¼Œå’ŒçœŸå®å¯¹è±¡æ²¡æœ‰ç›´æ¥å…³ç³»ï¼›<br>1.2ã€ä»£ç†æ¨¡å¼çš„èŒè´£ï¼šæŠŠä¸æ˜¯çœŸå®å¯¹è±¡è¯¥åšçš„äº‹æƒ…ä»çœŸå®å¯¹è±¡ä¸Šæ’‡å¼€â€”â€”èŒè´£åˆ†ç¦»ã€‚</p><h5 id="1-é™æ€ä»£ç†"><a href="#1-é™æ€ä»£ç†" class="headerlink" title="1. é™æ€ä»£ç†"></a>1. é™æ€ä»£ç†</h5><p>åœ¨ç¨‹åºè¿è¡Œå‰å°±å·²ç»å­˜åœ¨ä»£ç†ç±»çš„å­—èŠ‚ç æ–‡ä»¶,ä»£ç†å¯¹è±¡å’ŒçœŸå®å¯¹è±¡çš„å…³ç³»åœ¨è¿è¡Œå‰å°±ç¡®å®šäº†.<br><img src="/images/pasted-22.png" alt="filename already exists, renamed"></p><h5 id="2-ä»£ç å®ç°"><a href="#2-ä»£ç å®ç°" class="headerlink" title="2. ä»£ç å®ç°"></a>2. ä»£ç å®ç°</h5><ul><li>ä»£ç†æ¥å£</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/5/9 9:42</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> ä»£ç†æ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EmployeeService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç­¾è®¢åˆåŒ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name å§“å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> contract åˆåŒ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">save</span><span class="params">(String name, String contract)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>çœŸå®å¯¹è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/5/9 10:31</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> çœŸå®å¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmployeeServiceImpl</span> <span class="keyword">implements</span> <span class="title">EmployeeService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç­¾è®¢åˆåŒ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name     å§“å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> contract åˆåŒ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(String name, String contract)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æˆ‘æ˜¯çœŸå®å¯¹è±¡,ä¸"</span> + name + <span class="string">"ç­¾è®¢äº†"</span> + contract);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä»£ç†å¯¹è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/5/9 10:34</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> ä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmployeeProxyImpl</span> <span class="keyword">implements</span> <span class="title">EmployeeService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * çœŸå®å¯¹è±¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> EmployeeService target;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> MyTransactionManger myTransactionManger;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTarget</span><span class="params">(EmployeeService target)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMyTransactionManger</span><span class="params">(MyTransactionManger myTransactionManger)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.myTransactionManger = myTransactionManger;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç­¾è®¢åˆåŒ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name     å§“å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> contract åˆåŒ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(String name, String contract)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        myTransactionManger.begin();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// çœŸå®å¯¹è±¡åªè´Ÿè´£ç­¾è®¢åˆåŒ</span></span><br><span class="line">            target.save(name,contract);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// TODO ç­¾è®¢åˆåŒåå¤„ç†ä¸€ç³»åˆ—å…¶ä»–é—®é¢˜</span></span><br><span class="line"></span><br><span class="line">            myTransactionManger.commit();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            myTransactionManger.rollback();</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>äº‹åŠ¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/5/9 11:17</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> äº‹åŠ¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTransactionManger</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">begin</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"å¼€å¯äº‹åŠ¡"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span>  <span class="title">rollback</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"å›æ»šäº‹åŠ¡"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">commit</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æäº¤äº‹åŠ¡"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æµ‹è¯•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/5/9 11:01</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> æµ‹è¯•</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        EmployeeServiceImpl employeeService = <span class="keyword">new</span> EmployeeServiceImpl();</span><br><span class="line">        EmployeeProxyImpl employeeProxy = <span class="keyword">new</span> EmployeeProxyImpl();</span><br><span class="line">        MyTransactionManger myTransactionManger = <span class="keyword">new</span> MyTransactionManger();</span><br><span class="line">        employeeProxy.setMyTransactionManger(myTransactionManger);</span><br><span class="line"></span><br><span class="line">        employeeProxy.setTarget(employeeService);</span><br><span class="line"></span><br><span class="line">        employeeProxy.save(<span class="string">" å¼ ä¸‰ "</span>,<span class="string">"10é•¿æœŸåˆåŒ~!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æµ‹è¯•ç»“æœ</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¼€å¯äº‹åŠ¡</span><br><span class="line">æˆ‘æ˜¯çœŸå®å¯¹è±¡,ä¸ å¼ ä¸‰ ç­¾è®¢äº†10é•¿æœŸåˆåŒ~!</span><br><span class="line">æäº¤äº‹åŠ¡</span><br></pre></td></tr></table></figure><h5 id="3-é™æ€ä»£ç†ä¼˜ç¼ºç‚¹"><a href="#3-é™æ€ä»£ç†ä¼˜ç¼ºç‚¹" class="headerlink" title="3. é™æ€ä»£ç†ä¼˜ç¼ºç‚¹"></a>3. é™æ€ä»£ç†ä¼˜ç¼ºç‚¹</h5><ul><li>ä¼˜ç‚¹<br>ä¸šåŠ¡åªéœ€è¦å…³æ³¨ä¸šåŠ¡é€»è¾‘æœ¬èº«,ä¿è¯äº†ä¸šåŠ¡ç±»çš„é‡è¦æ€§.æŠŠçœŸå®å¯¹è±¡éšè—èµ·æ¥,ä¿æŠ¤çœŸå®å¯¹è±¡</li><li>ç¼ºç‚¹<br>ä»£ç†å¯¹è±¡çš„æŸä¸ªæ¥å£åªæœåŠ¡äºæŸä¸€ç§ç±»å‹çš„å¯¹è±¡,ä¹Ÿå°±æ˜¯ä¸ºæ¯ä¸ªçœŸå®ç±»åˆ›å»ºä¸€ä¸ªä»£ç†ç±».<br>è‹¥éœ€è¦ä»£ç†çš„æ–¹æ³•å¾ˆå¤š,é‚£ä¹ˆå°±è¦ä¸ºæ¯ä¸€ç§æ–¹æ³•éƒ½è¿›è¡Œä»£ç†å¤„ç†.<br>è‹¥æ¥å£å¢åŠ ä¸€ä¸ªæ–¹æ³•,é™¤äº†æ‰€æœ‰å®ç°ç±»éœ€è¦å®ç°è¿™ä¸ªæ–¹æ³•,ä»£ç†ç±»ä¹Ÿéœ€è¦å®ç°æ­¤æ–¹æ³•.</li></ul><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼</title>
      <link href="/2019/05/08/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/"/>
      <url>/2019/05/08/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:06 GMT+0800 (China Standard Time) --><p>åœ¨å¯¹è±¡ä¹‹é—´å®šä¹‰äº†ä¸€å¯¹å¤šçš„ä¾èµ–ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ”¹å˜çŠ¶æ€ï¼Œä¾èµ–å®ƒçš„å¯¹è±¡ä¼šæ”¶åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°ã€‚<br><a id="more"></a></p><h5 id="è§‚å¯Ÿè€…æ¨¡å¼çš„å®šä¹‰"><a href="#è§‚å¯Ÿè€…æ¨¡å¼çš„å®šä¹‰" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼çš„å®šä¹‰"></a>è§‚å¯Ÿè€…æ¨¡å¼çš„å®šä¹‰</h5><p>åœ¨å¯¹è±¡ä¹‹é—´å®šä¹‰äº†ä¸€å¯¹å¤šçš„ä¾èµ–ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ”¹å˜çŠ¶æ€ï¼Œä¾èµ–å®ƒçš„å¯¹è±¡ä¼šæ”¶åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°ã€‚</p><h5 id="MQçš„å‘å¸ƒè®¢é˜…æ¨¡å¼"><a href="#MQçš„å‘å¸ƒè®¢é˜…æ¨¡å¼" class="headerlink" title="MQçš„å‘å¸ƒè®¢é˜…æ¨¡å¼"></a>MQçš„å‘å¸ƒè®¢é˜…æ¨¡å¼</h5><p>å…¶å®å°±æ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œå‘å¸ƒè€…å‘å¸ƒä¿¡æ¯ï¼Œè®¢é˜…è€…è·å–ä¿¡æ¯ï¼Œè®¢é˜…äº†å°±èƒ½æ”¶åˆ°ä¿¡æ¯ï¼Œæ²¡è®¢é˜…å°±æ”¶ä¸åˆ°ä¿¡æ¯ã€‚</p><h5 id="æ¨¡å¼æ¶µç›–çš„è§’è‰²"><a href="#æ¨¡å¼æ¶µç›–çš„è§’è‰²" class="headerlink" title="æ¨¡å¼æ¶µç›–çš„è§’è‰²"></a>æ¨¡å¼æ¶µç›–çš„è§’è‰²</h5><ul><li>æŠ½è±¡è¢«è§‚å¯Ÿè€…è§’è‰²ï¼š<blockquote><p>ä¹Ÿå°±æ˜¯ä¸€ä¸ªæŠ½è±¡ä¸»é¢˜ï¼Œå®ƒæŠŠæ‰€æœ‰å¯¹è§‚å¯Ÿè€…å¯¹è±¡çš„å¼•ç”¨ä¿å­˜åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œæ¯ä¸ªä¸»é¢˜éƒ½å¯ä»¥æœ‰ä»»æ„æ•°é‡çš„è§‚å¯Ÿè€…ã€‚æŠ½è±¡ä¸»é¢˜æä¾›ä¸€ä¸ªæ¥å£ï¼Œå¯ä»¥å¢åŠ å’Œåˆ é™¤è§‚å¯Ÿè€…è§’è‰²ã€‚ä¸€èˆ¬ç”¨ä¸€ä¸ªæŠ½è±¡ç±»å’Œæ¥å£æ¥å®ç°ã€‚</p></blockquote></li><li>æŠ½è±¡è§‚å¯Ÿè€…è§’è‰²ï¼š<blockquote><p>ä¸ºæ‰€æœ‰çš„å…·ä½“è§‚å¯Ÿè€…å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œåœ¨å¾—åˆ°ä¸»é¢˜é€šçŸ¥æ—¶æ›´æ–°è‡ªå·±ã€‚</p></blockquote></li><li>å…·ä½“è¢«è§‚å¯Ÿè€…è§’è‰²ï¼š<blockquote><p>ä¹Ÿå°±æ˜¯ä¸€ä¸ªå…·ä½“çš„ä¸»é¢˜ï¼Œåœ¨é›†ä½“ä¸»é¢˜çš„å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶ï¼Œæ‰€æœ‰ç™»è®°è¿‡çš„è§‚å¯Ÿè€…å‘å‡ºé€šçŸ¥ã€‚</p></blockquote></li><li>å…·ä½“è§‚å¯Ÿè€…è§’è‰²ï¼š<blockquote><p>å®ç°æŠ½è±¡è§‚å¯Ÿè€…è§’è‰²æ‰€éœ€è¦çš„æ›´æ–°æ¥å£ï¼Œä¸€è¾¹ä½¿æœ¬èº«çš„çŠ¶æ€ä¸åˆ¶å›¾çš„çŠ¶æ€ç›¸åè°ƒã€‚</p></blockquote></li></ul><h5 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h5><ul><li>è¢«è§‚å¯Ÿè€…æ¥å£</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/5/8 13:42</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> è¢«è§‚å¯Ÿè€…æ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Observerable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ³¨å†Œè§‚å¯Ÿè€…</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> observer è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">registerObServer</span><span class="params">(Observer observer)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç§»é™¤è§‚å¯Ÿ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> observer è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">removeObServer</span><span class="params">(Observer observer)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€šçŸ¥è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">notifyObServer</span><span class="params">(String message)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è§‚å¯Ÿè€…æ¥å£</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/5/8 13:44</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å½“è¢«è§‚å¯Ÿè€…å‘å¸ƒæ¶ˆæ¯æ—¶,è°ƒç”¨è§‚å¯Ÿè€…çš„updateæ–¹æ³•,æ›´æ–°æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(String message)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è¢«è§‚å¯Ÿè€…</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/5/8 13:51</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> å…¬ä¼—å·</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WechatServer</span> <span class="keyword">implements</span> <span class="title">Observerable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯„å­˜è®¢é˜…äº†è¯¥å…¬ä¼—å·çš„ç”¨æˆ·(è§‚å¯Ÿè€…)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Observer&gt; observerList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ³¨å†Œè§‚å¯Ÿè€…</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> observer è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registerObServer</span><span class="params">(Observer observer)</span> </span>&#123;</span><br><span class="line">        observerList.add(observer);</span><br><span class="line">        System.out.println(<span class="string">"["</span> + ((User) observer).getName() + <span class="string">"]"</span> + <span class="string">"å…³æ³¨äº†å…¬ä¼—å·~!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å–æ¶ˆè§‚å¯Ÿ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> observer è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeObServer</span><span class="params">(Observer observer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (observer == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">boolean</span> remove = observerList.remove(observer);</span><br><span class="line">        <span class="keyword">if</span> (remove) &#123;</span><br><span class="line">            System.out.println(<span class="string">"["</span> + ((User) observer).getName() + <span class="string">"]"</span> + <span class="string">"å–æ¶ˆäº†å…³æ³¨~! (â•¯â€µâ–¡â€²)â•¯ï¸µâ”»â”â”»"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€šçŸ¥è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">notifyObServer</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Observer observer : observerList) &#123;</span><br><span class="line">            observer.update(message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è§‚å¯Ÿè€…</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/5/8 13:56</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å½“è¢«è§‚å¯Ÿè€…å‘å¸ƒæ¶ˆæ¯æ—¶,è°ƒç”¨è§‚å¯Ÿè€…çš„updateæ–¹æ³•,æ›´æ–°æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æˆ‘æ˜¯:"</span> + name + <span class="string">","</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æµ‹è¯•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/5/8 14:24</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Observer u1 = <span class="keyword">new</span> User(<span class="string">"å¼ ä¸‰"</span>);</span><br><span class="line">        Observer u2 = <span class="keyword">new</span> User(<span class="string">"æå››"</span>);</span><br><span class="line">        Observer u3 = <span class="keyword">new</span> User(<span class="string">"ç‹äº”"</span>);</span><br><span class="line"></span><br><span class="line">        Observerable wecahtService = <span class="keyword">new</span> WechatServer();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è§‚å¯Ÿ(è®¢é˜…)å…¬ä¼—å·</span></span><br><span class="line">        wecahtService.registerObServer(u1);</span><br><span class="line">        wecahtService.registerObServer(u2);</span><br><span class="line">        wecahtService.registerObServer(u3);</span><br><span class="line">        System.out.println(<span class="string">"--------------------------------"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å‘å¸ƒæ¶ˆæ¯</span></span><br><span class="line">        wecahtService.notifyObServer(<span class="string">"ç¬¬ä¸€æ³¢ç¦åˆ©"</span>);</span><br><span class="line">        System.out.println(<span class="string">"--------------------------------"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å–æ¶ˆå…³æ³¨</span></span><br><span class="line">        wecahtService.removeObServer(u1);</span><br><span class="line">        System.out.println(<span class="string">"--------------------------------"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å‘å¸ƒæ¶ˆæ¯</span></span><br><span class="line">        wecahtService.notifyObServer(<span class="string">"è¿™æ˜¯ç¬¬äºŒæ³¢ç¦åˆ©"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æµ‹è¯•ç»“æœ</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[å¼ ä¸‰]å…³æ³¨äº†å…¬ä¼—å·~!</span><br><span class="line">[æå››]å…³æ³¨äº†å…¬ä¼—å·~!</span><br><span class="line">[ç‹äº”]å…³æ³¨äº†å…¬ä¼—å·~!</span><br><span class="line">--------------------------------</span><br><span class="line">æˆ‘æ˜¯:å¼ ä¸‰,ç¬¬ä¸€æ³¢ç¦åˆ©</span><br><span class="line">æˆ‘æ˜¯:æå››,ç¬¬ä¸€æ³¢ç¦åˆ©</span><br><span class="line">æˆ‘æ˜¯:ç‹äº”,ç¬¬ä¸€æ³¢ç¦åˆ©</span><br><span class="line">--------------------------------</span><br><span class="line">[å¼ ä¸‰]å–æ¶ˆäº†å…³æ³¨~! (â•¯â€µâ–¡â€²)â•¯ï¸µâ”»â”â”»</span><br><span class="line">--------------------------------</span><br><span class="line">æˆ‘æ˜¯:æå››,è¿™æ˜¯ç¬¬äºŒæ³¢ç¦åˆ©</span><br><span class="line">æˆ‘æ˜¯:ç‹äº”,è¿™æ˜¯ç¬¬äºŒæ³¢ç¦åˆ©</span><br></pre></td></tr></table></figure><h5 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ:"></a>å‚è€ƒ:</h5><p><a href="https://www.cnblogs.com/luohanguo/p/7825656.html" target="_blank" rel="noopener">JAVAè®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼</a></p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxç›¸å…³å‘½ä»¤</title>
      <link href="/2019/04/26/Linux%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/"/>
      <url>/2019/04/26/Linux%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><ul><li>å¦‚é¢˜<br>è®°å½•ä¸å¸¸ç”¨çš„Linuxå‘½ä»¤<a id="more"></a></li></ul><h6 id="è¿è¡Œjavaé¡¹ç›®"><a href="#è¿è¡Œjavaé¡¹ç›®" class="headerlink" title="è¿è¡Œjavaé¡¹ç›®"></a>è¿è¡Œ<code>java</code>é¡¹ç›®</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup java -jar -Xms10m -Xmx200m ylcloud-item-service-0.0.1-SNAPSHOT.jar &gt; /pro/test/home/yanfa/nohup_item.out &amp; 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><p>nohup: åå°å¯åŠ¨é¡¹ç›®</p><p>-Xms10m -Xmx200m: jvmè™šæ‹Ÿæœºå‚æ•°</p><h6 id="æŸ¥çœ‹æŸç«¯å£å ç”¨çš„çº¿ç¨‹çš„pid"><a href="#æŸ¥çœ‹æŸç«¯å£å ç”¨çš„çº¿ç¨‹çš„pid" class="headerlink" title="æŸ¥çœ‹æŸç«¯å£å ç”¨çš„çº¿ç¨‹çš„pid"></a>æŸ¥çœ‹æŸç«¯å£å ç”¨çš„çº¿ç¨‹çš„<code>pid</code></h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -nlp |grep :4000</span><br></pre></td></tr></table></figure><h6 id="æŸ¥çœ‹pidå ç”¨çš„ç«¯å£å·"><a href="#æŸ¥çœ‹pidå ç”¨çš„ç«¯å£å·" class="headerlink" title="æŸ¥çœ‹pidå ç”¨çš„ç«¯å£å·"></a>æŸ¥çœ‹<code>pid</code>å ç”¨çš„ç«¯å£å·</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -nap | grep 32716</span><br></pre></td></tr></table></figure><h5 id="äºŒ-é˜²ç«å¢™"><a href="#äºŒ-é˜²ç«å¢™" class="headerlink" title="äºŒ. é˜²ç«å¢™"></a>äºŒ. é˜²ç«å¢™</h5><h6 id="2-1-æŸ¥çœ‹æ‰€æœ‰æ‰“å¼€çš„ç«¯å£"><a href="#2-1-æŸ¥çœ‹æ‰€æœ‰æ‰“å¼€çš„ç«¯å£" class="headerlink" title="2.1 æŸ¥çœ‹æ‰€æœ‰æ‰“å¼€çš„ç«¯å£"></a>2.1 æŸ¥çœ‹æ‰€æœ‰æ‰“å¼€çš„ç«¯å£</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --list-ports</span><br></pre></td></tr></table></figure><h6 id="2-2-å¼€å¯ç«¯å£ï¼ˆâ€“permanentå‚æ•°ä¸ºæ°¸ä¹…ç”Ÿæ•ˆï¼Œä¸åŠ åˆ™é‡å¯åå¤±æ•ˆï¼‰"><a href="#2-2-å¼€å¯ç«¯å£ï¼ˆâ€“permanentå‚æ•°ä¸ºæ°¸ä¹…ç”Ÿæ•ˆï¼Œä¸åŠ åˆ™é‡å¯åå¤±æ•ˆï¼‰" class="headerlink" title="2.2 å¼€å¯ç«¯å£ï¼ˆâ€“permanentå‚æ•°ä¸ºæ°¸ä¹…ç”Ÿæ•ˆï¼Œä¸åŠ åˆ™é‡å¯åå¤±æ•ˆï¼‰"></a>2.2 å¼€å¯ç«¯å£ï¼ˆâ€“permanentå‚æ•°ä¸ºæ°¸ä¹…ç”Ÿæ•ˆï¼Œä¸åŠ åˆ™é‡å¯åå¤±æ•ˆï¼‰</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=ç«¯å£å·/tcp --permanent</span><br></pre></td></tr></table></figure><h6 id="2-3-æ›´æ–°é˜²ç«å¢™è§„åˆ™ï¼š"><a href="#2-3-æ›´æ–°é˜²ç«å¢™è§„åˆ™ï¼š" class="headerlink" title="2.3 æ›´æ–°é˜²ç«å¢™è§„åˆ™ï¼š"></a>2.3 æ›´æ–°é˜²ç«å¢™è§„åˆ™ï¼š</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><h6 id="æŸ¥çœ‹å®‰è£…ç›®å½•"><a href="#æŸ¥çœ‹å®‰è£…ç›®å½•" class="headerlink" title="æŸ¥çœ‹å®‰è£…ç›®å½•"></a>æŸ¥çœ‹å®‰è£…ç›®å½•</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">which git</span><br></pre></td></tr></table></figure><h5 id="æŸ¥çœ‹æ–‡ä»¶å¤§å°"><a href="#æŸ¥çœ‹æ–‡ä»¶å¤§å°" class="headerlink" title="æŸ¥çœ‹æ–‡ä»¶å¤§å°"></a>æŸ¥çœ‹æ–‡ä»¶å¤§å°</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du -sh *</span><br></pre></td></tr></table></figure><h5 id="é‡å¯nginx"><a href="#é‡å¯nginx" class="headerlink" title="é‡å¯nginx"></a>é‡å¯<code>nginx</code></h5><ul><li>åœ¨<code>sbin</code>ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./nginx -s reload</span><br></pre></td></tr></table></figure><h5 id="VIæ“ä½œ"><a href="#VIæ“ä½œ" class="headerlink" title="VIæ“ä½œ"></a>VIæ“ä½œ</h5><p>VIæ“ä½œ:</p><p>ç”¨çš„æ˜¯é”®ç›˜çš„å·¦è¾¹çš„æ•°å­—é”®</p><p>é€å­—ç¬¦ç§»åŠ¨:<br>è¡Œå†…è·³è½¬:<br>å³è¾¹çš„æ•°å­—é”®0:è·³è½¬åˆ°è¡Œé¦–(ç¼–è¾‘æ¨¡å¼)<br>$(Shift+4): è·³è½¬åˆ°è¡Œå°¾(ç¼–è¾‘æ¨¡å¼)<br>^(Shift+6): è·³è½¬åˆ°è¡Œé¦–çš„ç¬¬ä¸€ä¸ªå­—æ¯ä½ç½®(ç¼–è¾‘æ¨¡å¼)</p><p>è¡Œé—´è·³è½¬:(æœ«è¡Œæ¨¡å¼)<br>gg: è·³è½¬åˆ°æ–‡ä»¶ç¬¬ä¸€è¡Œ(ç¼–è¾‘æ¨¡å¼)<br>G(Shift+g): è·³åˆ°æ–‡ä»¶çš„æœ€åä¸€è¡Œ(ç¼–è¾‘æ¨¡å¼)</p><p>ç›´æ¥è¾“å…¥è¡Œå·å°±å¯ä»¥è·³è½¬åˆ°å¯¹åº”è¡Œ<br>æ³¨æ„:å¯ä»¥å…ˆæŠŠè¡Œå·æ˜¾ç¤ºå‡ºæ¥:set number</p><p>åœ¨ç¼–è¾‘æ¨¡å¼ä¸‹:<br>ctrl+f å‘ä¸‹ç¿»ä¸€é¡µ forward<br>ctrl+b å‘ä¸Šç¿»ä¸€é¡µ backward</p><p>dd: åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œ (ç¼–è¾‘æ¨¡å¼)<br>3dd:ä»å…‰æ ‡è¡Œå¼€å§‹åˆ é™¤3è¡Œ(ç¼–è¾‘æ¨¡å¼)<br>â€”â€”1,4d åˆ é™¤ç¬¬ä¸€è¡Œåˆ°ç¬¬å››è¡Œ(æœ«è¡Œæ¨¡å¼)</p><p>u æ’¤é”€ä¸Šä¸€ä¸ªæ“ä½œ(ç¼–è¾‘æ¨¡å¼)</p><p>yy å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œ (ç¼–è¾‘æ¨¡å¼)<br>2yy ä»å…‰æ ‡è¡Œå¼€å§‹å¤åˆ¶2è¡Œ(ç¼–è¾‘æ¨¡å¼)<br>p: ç²˜è´´å‘½ä»¤</p><p>æœ«è¡Œæ¨¡å¼:<br>æ–‡ä»¶çš„æŸ¥æ‰¾<br>/parttern ä»å‰å¾€åæŸ¥æ‰¾<br>?parttern ä»åå¾€å‰æŸ¥æ‰¾<br>n: ä¸‹ä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²<br>N: ä¸Šä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²</p><p>g:å…¨å±€æ›¿æ¢<br>i:å¿½ç•¥å¤§å°å†™<br>%s/f/F/gi</p><p>åˆ›å»ºæ–‡ä»¶<br>vi æ–‡ä»¶å<br>touch æ–‡ä»¶å</p><p>åˆ›å»ºç›®å½•<br>mkdir ç›®å½•å<br>mkdir -p ç›®å½•å1/ç›®å½•å2 åˆ›å»ºå±‚çº§ç›®å½• å¯ä»¥æ˜¯ç›¸å¯¹ç›®å½•,ä¹Ÿå¯ä»¥æ˜¯ç»å¯¹ç›®å½•</p><p>rm æ–‡ä»¶å<br>rm -f æ–‡ä»¶å<br>rm -fr ç›®å½• åˆ é™¤ç›®å½•å¿…é¡»ä½¿ç”¨ -r é€’å½’åˆ é™¤</p><p>æ‹·è´: cp<br>æ‹·è´ç›®å½•çš„è¯è¦å¸¦ä¸Šå‚æ•°-r<br>ç§»åŠ¨: mv</p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡å™¨ç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼ä¹‹ç­–ç•¥æ¨¡å¼</title>
      <link href="/2019/04/26/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/"/>
      <url>/2019/04/26/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><p>ç­–ç•¥æ¨¡å¼æ€æƒ³æ˜¯é’ˆå¯¹ä¸€ç»„ç®—æ³•ï¼Œå°†æ¯ä¸€ç§ç®—æ³•éƒ½å°è£…åˆ°å…·æœ‰å…±åŒæ¥å£çš„ç‹¬ç«‹çš„ç±»ä¸­ï¼Œä»è€Œæ˜¯å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢.ç­–ç•¥æ¨¡å¼çš„æœ€å¤§ç‰¹ç‚¹æ˜¯ä½¿å¾—ç®—æ³•å¯ä»¥åœ¨ä¸å½±å“å®¢æˆ·ç«¯çš„æƒ…å†µä¸‹å‘ç”Ÿå˜åŒ–ï¼Œä»è€Œæ”¹å˜ä¸åŒçš„åŠŸèƒ½ã€‚<br><a id="more"></a></p><h3 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1. ç®€ä»‹"></a>1. ç®€ä»‹</h3><p>æ€æƒ³æ˜¯é’ˆå¯¹ä¸€ç»„ç®—æ³•ï¼Œå°†æ¯ä¸€ç§ç®—æ³•éƒ½å°è£…åˆ°å…·æœ‰å…±åŒæ¥å£çš„ç‹¬ç«‹çš„ç±»ä¸­ï¼Œä»è€Œæ˜¯å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢.ç­–ç•¥æ¨¡å¼çš„æœ€å¤§ç‰¹ç‚¹æ˜¯ä½¿å¾—ç®—æ³•å¯ä»¥åœ¨ä¸å½±å“å®¢æˆ·ç«¯çš„æƒ…å†µä¸‹å‘ç”Ÿå˜åŒ–ï¼Œä»è€Œæ”¹å˜ä¸åŒçš„åŠŸèƒ½ã€‚</p><h3 id="2-ä»£ç å®ç°"><a href="#2-ä»£ç å®ç°" class="headerlink" title="2. ä»£ç å®ç°"></a>2. ä»£ç å®ç°</h3><ul><li><p>æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/4/26 14:37</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Condition</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¡ä»¶</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> num æ•°æ®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> num)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LuGuoZheng</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/4/26 14:36</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 3.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> ç­–ç•¥æ¨¡å¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Strategy</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿‡æ»¤æ•°æ®æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums æ•°æ®æº</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> condition ç­–ç•¥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">filteNum</span><span class="params">(List&lt;Integer&gt; nums,Condition condition)</span></span>&#123;</span><br><span class="line">        List&lt;Integer&gt; newNums = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Integer num : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (condition.check(num))&#123;</span><br><span class="line">                newNums.add(num);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> newNums;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; list = List.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>);</span><br><span class="line">        <span class="comment">// ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»æµ‹è¯•</span></span><br><span class="line">        list = filteNum(list, <span class="keyword">new</span> Condition() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> num % <span class="number">2</span> == <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println(list); <span class="comment">// [2, 4, 6]</span></span><br><span class="line"></span><br><span class="line">        list = filteNum(list, <span class="keyword">new</span> Condition() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> num &lt; <span class="number">5</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println(list); <span class="comment">// [2, 4]</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼ä¹‹æ¨¡æ¿æ¨¡å¼</title>
      <link href="/2019/04/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F/"/>
      <url>/2019/04/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><p>æ¨¡æ¿æ¨¡å¼å°±æ˜¯æœ‰å¾ˆå¤šç›¸åŒçš„æ­¥éª¤çš„ï¼Œåœ¨æŸä¸€äº›åœ°æ–¹å¯èƒ½æœ‰ä¸€äº›å·®åˆ«é€‚åˆäºè¿™ç§æ¨¡å¼,ä¸åŒçš„åœ°æ–¹é€šè¿‡å­ç±»è¦†å†™æ–¹æ³•å®ç°å­ç±»çš„ç‰¹æ€§.<br><a id="more"></a></p><h3 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1. ç®€ä»‹"></a>1. ç®€ä»‹</h3><p>æ¨¡æ¿æ¨¡å¼å°±æ˜¯æœ‰å¾ˆå¤šç›¸åŒçš„æ­¥éª¤çš„ï¼Œåœ¨æŸä¸€äº›åœ°æ–¹å¯èƒ½æœ‰ä¸€äº›å·®åˆ«é€‚åˆäºè¿™ç§æ¨¡å¼,ä¸åŒçš„åœ°æ–¹é€šè¿‡å­ç±»è¦†å†™æ–¹æ³•å®ç°å­ç±»çš„ç‰¹æ€§.</p><h3 id="2-ä»£ç å®ç°"><a href="#2-ä»£ç å®ç°" class="headerlink" title="2. ä»£ç å®ç°"></a>2. ä»£ç å®ç°</h3><ul><li>æŠ½è±¡ç±»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Times</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> SimpleDateFormat fmt = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"HH:mm:ss.SSS"</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">doWord</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(String title)</span> </span>&#123;</span><br><span class="line">title = (title == <span class="keyword">null</span>) ? <span class="string">""</span> : (<span class="string">"ã€"</span> + title + <span class="string">"ã€‘"</span>);</span><br><span class="line">System.out.println(title);</span><br><span class="line">System.out.println(<span class="string">"å¼€å§‹ï¼š"</span> + fmt.format(<span class="keyword">new</span> Date()));</span><br><span class="line"><span class="keyword">long</span> begin = System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">doWord();</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">System.out.println(<span class="string">"ç»“æŸï¼š"</span> + fmt.format(<span class="keyword">new</span> Date()));</span><br><span class="line"><span class="keyword">double</span> delta = (end - begin) / <span class="number">1000.0</span>;</span><br><span class="line">System.out.println(<span class="string">"è€—æ—¶ï¼š"</span> + delta + <span class="string">"ç§’"</span>);</span><br><span class="line">System.out.println(<span class="string">"-------------------------------------"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å­ç±»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTemplate</span> <span class="keyword">extends</span> <span class="title">Times</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doWord</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">1000</span>; j++) &#123;</span><br><span class="line">                sum += j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        System.out.println(sum);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> MyTemplate().test(<span class="string">"doWord"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼</title>
      <link href="/2019/04/24/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"/>
      <url>/2019/04/24/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><p>å•ä¾‹æ¨¡å¼å°±æ˜¯å•ä¾‹å¯¹è±¡çš„ç±»åªèƒ½è¿è¡Œä¸€ä¸ªå®ä¾‹å­˜åœ¨,å¹¶ä¸”å­˜åœ¨ä¸€ä¸ªå…¬å…±é™æ€çš„æ–¹æ³•æ¥è·å–è¯¥å®ä¾‹<br><a id="more"></a></p><h3 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1. ç®€ä»‹"></a>1. ç®€ä»‹</h3><p>å•ä¾‹æ¨¡å¼å°±æ˜¯å•ä¾‹å¯¹è±¡çš„ç±»åªèƒ½è¿è¡Œä¸€ä¸ªå®ä¾‹å­˜åœ¨,å¹¶ä¸”å­˜åœ¨ä¸€ä¸ªå…¬å…±é™æ€çš„æ–¹æ³•æ¥è·å–è¯¥å®ä¾‹</p><h3 id="2-ä½¿ç”¨åœºæ™¯"><a href="#2-ä½¿ç”¨åœºæ™¯" class="headerlink" title="2. ä½¿ç”¨åœºæ™¯"></a>2. ä½¿ç”¨åœºæ™¯</h3><p><strong>spring</strong>æ¡†æ¶å°±æ˜¯å•ä¾‹æ¨¡å¼çš„</p><h3 id="3-ä»£ç å®ç°"><a href="#3-ä»£ç å®ç°" class="headerlink" title="3. ä»£ç å®ç°"></a>3. ä»£ç å®ç°</h3><h4 id="3-1-æ‡’æ±‰å¼-åŒæ£€æŸ¥ä¿è¯çº¿ç¨‹å®‰å…¨"><a href="#3-1-æ‡’æ±‰å¼-åŒæ£€æŸ¥ä¿è¯çº¿ç¨‹å®‰å…¨" class="headerlink" title="3.1 æ‡’æ±‰å¼(åŒæ£€æŸ¥ä¿è¯çº¿ç¨‹å®‰å…¨)"></a>3.1 æ‡’æ±‰å¼(åŒæ£€æŸ¥ä¿è¯çº¿ç¨‹å®‰å…¨)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String namge;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> Singleton INSTANCE;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç§æœ‰åŒ–æ„é€ å™¨</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span> <span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æä¾›å…¬å…±é™æ€æ–¹æ³•è·å–å®ä¾‹</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (INSTANCE == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (Singleton.class)&#123;</span><br><span class="line">                <span class="keyword">if</span> (INSTANCE == <span class="keyword">null</span>)&#123;</span><br><span class="line">                    INSTANCE = <span class="keyword">new</span> Singleton();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> INSTANCE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-2-é¥¥é¥¿å¼"><a href="#3-2-é¥¥é¥¿å¼" class="headerlink" title="3.2 é¥¥é¥¿å¼"></a>3.2 é¥¥é¥¿å¼</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * ä¼˜ç‚¹: ç›´æ¥åœ¨ç±»åŠ è½½æ—¶å°±åˆå§‹åŒ–ä¸€ä¸ªå®ä¾‹,å¯ä»¥é¿å…çº¿ç¨‹å®‰å…¨é—®é¢˜</span></span><br><span class="line"><span class="comment"> * ç¼ºç‚¹: ç”±äºæ˜¯ç±»åŠ è½½æ—¶å°±åˆå§‹åŒ–äº†ä¸€ä¸ªå®ä¾‹,å¦‚æœä¸€ç›´æ²¡æœ‰ä½¿ç”¨è¯¥å®ä¾‹,ä¼šé€ æˆå†…å­˜æµªè´¹,è€Œä¸”æ²¡èƒ½èµ·åˆ°æ‡’åŠ è½½æ•ˆæœ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç§æœ‰åŒ–æ„é€ å™¨</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–ä¸€ä¸ªå®ä¾‹</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton INSTANCE = <span class="keyword">new</span> Singleton();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æä¾›å…¬å…±é™æ€æ–¹æ³•è·å–å®ä¾‹</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> INSTANCE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-3-æšä¸¾"><a href="#3-3-æšä¸¾" class="headerlink" title="3.3 æšä¸¾"></a>3.3 æšä¸¾</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Singleton &#123;</span><br><span class="line"></span><br><span class="line">    INSTANCE;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-4-æšä¸¾åç¼–è¯‘-ä½¿ç”¨XJadåç¼–è¯‘"><a href="#3-4-æšä¸¾åç¼–è¯‘-ä½¿ç”¨XJadåç¼–è¯‘" class="headerlink" title="3.4 æšä¸¾åç¼–è¯‘(ä½¿ç”¨XJadåç¼–è¯‘)"></a>3.4 æšä¸¾åç¼–è¯‘(ä½¿ç”¨<code>XJad</code>åç¼–è¯‘)</h4><p>é€šè¿‡åç¼–è¯‘å¯ä»¥çœ‹å‡ºå°±æ˜¯ä¸€ä¸ª<strong>é¥¥é¥¿å¼</strong>å•ä¾‹æ¨¡å¼,æ‰€æœ‰å®ç°å•ä¾‹æ¨¡å¼ç›´æ¥å†™ä¸€ä¸ª<strong>æšä¸¾</strong>å³å¯.<br></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨finalä¿®é¥°ç±»,å¹¶ç»§æ‰¿äº†Enumç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> <span class="keyword">extends</span> <span class="title">Enum</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton INSTANCE;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton $VALUES[];</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Singleton[] values()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> (Singleton[])$VALUES.clone();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">valueOf</span><span class="params">(String name)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> (Singleton)Enum.valueOf(<span class="number">53554F</span>8B6A215F0F/Singleton, name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">(String s, <span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">super</span>(s, i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨é™æ€ä»£ç å—ä¸­ç›´æ¥åˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹</span></span><br><span class="line"><span class="keyword">static</span> </span><br><span class="line">&#123;</span><br><span class="line">INSTANCE = <span class="keyword">new</span> Singleton(<span class="string">"INSTANCE"</span>, <span class="number">0</span>);</span><br><span class="line">$VALUES = (<span class="keyword">new</span> Singleton[] &#123;</span><br><span class="line">INSTANCE</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å››â†’å…­æœˆä»½å­¦ä¹ è®¡åˆ’(äºŒå­£åº¦)</title>
      <link href="/2019/04/23/%E5%9B%9B%E2%80%94%E2%80%94%E5%85%AD%E6%9C%88%E4%BB%BD%E5%AD%A6%E4%B9%A0%E7%9B%AE%E6%A0%87/"/>
      <url>/2019/04/23/%E5%9B%9B%E2%80%94%E2%80%94%E5%85%AD%E6%9C%88%E4%BB%BD%E5%AD%A6%E4%B9%A0%E7%9B%AE%E6%A0%87/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><ul><li>å¦‚é¢˜</li></ul><p>springä½¿ç”¨åˆ°çš„è®¾è®¡æ¨¡å¼:</p><ul><li>ç®€å•å·¥å‚</li><li>å·¥å‚æ–¹æ³•ï¼ˆFactory Methodï¼‰</li><li>å•ä¾‹ï¼ˆSingletonï¼‰</li><li>é€‚é…å™¨ï¼ˆAdapterï¼‰</li><li>åŒ…è£…å™¨ï¼ˆDecoratorï¼‰</li><li>ä»£ç†ï¼ˆProxyï¼‰</li><li>è§‚å¯Ÿè€…ï¼ˆObserverï¼‰</li><li>ç­–ç•¥ï¼ˆStrategyï¼‰</li><li>æ¨¡æ¿æ–¹æ³•ï¼ˆTemplate Methodï¼‰</li></ul><a id="more"></a><h5 id="è®¡åˆ’å®‰æ’"><a href="#è®¡åˆ’å®‰æ’" class="headerlink" title="è®¡åˆ’å®‰æ’"></a>è®¡åˆ’å®‰æ’</h5><ul><li style="list-style:none"><input type="checkbox"> å›› â†’ äº”æœˆä»½å­¦ä¹ <a href="https://ke.qq.com/course/385223" target="_blank" rel="noopener">æ•°æ®ç»“æ„ä¸ç®—æ³•è¯¾ç¨‹</a></li><li style="list-style:none"><input type="checkbox"> åœ¨<a href="https://leetcode-cn.com/problemset/all/" target="_blank" rel="noopener">LeetCode</a>ç»ƒä¹ ç®—æ³•é¢˜</li><li style="list-style:none"><input type="checkbox"> å·©å›ºå­¦ä¹ ä¸€ç§è®¾è®¡æ¨¡å¼å¹¶å®ç°<h4 id="è¿›è¡Œä¸­è®¡åˆ’"><a href="#è¿›è¡Œä¸­è®¡åˆ’" class="headerlink" title="è¿›è¡Œä¸­è®¡åˆ’"></a>è¿›è¡Œä¸­è®¡åˆ’</h4></li><li style="list-style:none"><input type="checkbox" checked> <a href="https://ke.qq.com/course/385223" target="_blank" rel="noopener">æ•°æ®ç»“æ„ä¸ç®—æ³•è¯¾ç¨‹</a></li><li style="list-style:none"><input type="checkbox" checked> ç®—æ³•ç»ƒä¹ </li><li style="list-style:none"><input type="checkbox" checked> è®¾è®¡æ¨¡å¼<h4 id="è®¡åˆ’è¿›åº¦-ä»£ç "><a href="#è®¡åˆ’è¿›åº¦-ä»£ç " class="headerlink" title="è®¡åˆ’è¿›åº¦    (ä»£ç )"></a>è®¡åˆ’è¿›åº¦ (<a href="https://github.com/lgz8370/DataStructuresAndAlgorithms" target="_blank" rel="noopener">ä»£ç </a>)</h4></li><li style="list-style:none"><input type="checkbox"> ç®—æ³•ç»ƒä¹ </li><li style="list-style:none"><input type="checkbox"> è®¾è®¡æ¨¡å¼<ul><li style="list-style:none"><input type="checkbox" checked> <a href="https://www.lgzblog.com/2019/04/24/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/" target="_blank" rel="noopener">å•ä¾‹æ¨¡å¼</a></li><li style="list-style:none"><input type="checkbox" checked> <a href="https://www.lgzblog.com/2019/04/25/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F/" target="_blank" rel="noopener">æ¨¡æ¿æ¨¡å¼</a></li><li style="list-style:none"><input type="checkbox" checked> <a href="https://www.lgzblog.com/2019/04/26/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/" target="_blank" rel="noopener">ç­–ç•¥æ¨¡å¼</a></li><li style="list-style:none"><input type="checkbox" checked> <a href="https://www.lgzblog.com/2019/05/08/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/" target="_blank" rel="noopener">è§‚å¯Ÿè€…æ¨¡å¼</a></li><li style="list-style:none"><input type="checkbox" checked> <a href="https://www.lgzblog.com/2019/05/09/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/" target="_blank" rel="noopener">é™æ€ä»£ç†æ¨¡å¼</a></li><li style="list-style:none"><input type="checkbox" checked> <a href="https://www.lgzblog.com/2019/05/13/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/" target="_blank" rel="noopener">åŠ¨æ€ä»£ç†æ¨¡å¼</a></li></ul></li></ul><!-- rebuild by neat -->]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•å¤æ‚åº¦</title>
      <link href="/2019/04/19/%E5%A4%8D%E6%9D%82%E5%BA%A6/"/>
      <url>/2019/04/19/%E5%A4%8D%E6%9D%82%E5%BA%A6/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><ul><li>æ—¶é—´å¤æ‚åº¦:<br>ä¼°ç®—ç¨‹åºæŒ‡ä»¤çš„æ‰§è¡Œæ¬¡æ•°(æ‰§è¡Œæ—¶é—´)</li><li>ç©ºé—´å¤æ‚åº¦:<br>ä¼°ç®—æ‰€éœ€å ç”¨çš„å­˜å‚¨ç©ºé—´</li></ul><p>ç®—æ³•ç½‘ç«™ğŸ‘‡:<br><a href="https://leetcode-cn.com/" target="_blank" rel="noopener">https://leetcode-cn.com/</a><br><a id="more"></a></p><h5 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h5><ul><li style="list-style:none"><input type="checkbox"> ç™¾åº¦ç™¾ç§‘:<br>æ—¶é—´å¤æ‚åº¦æ˜¯åŒä¸€é—®é¢˜å¯ç”¨ä¸åŒç®—æ³•è§£å†³ï¼Œè€Œä¸€ä¸ªç®—æ³•çš„è´¨é‡ä¼˜åŠ£å°†å½±å“åˆ°ç®—æ³•ä¹ƒè‡³ç¨‹åºçš„æ•ˆç‡ã€‚ç®—æ³•åˆ†æçš„ç›®çš„åœ¨äºé€‰æ‹©åˆé€‚ç®—æ³•å’Œæ”¹è¿›ç®—æ³•ã€‚</li><li style="list-style:none"><input type="checkbox" checked> ä¸ªäººç†è§£:<br>ä¼°ç®—ç¨‹åºæŒ‡ä»¤çš„æ‰§è¡Œæ¬¡æ•°(æ‰§è¡Œæ—¶é—´)</li></ul><h5 id="ç©ºé—´å¤æ‚åº¦"><a href="#ç©ºé—´å¤æ‚åº¦" class="headerlink" title="ç©ºé—´å¤æ‚åº¦"></a>ç©ºé—´å¤æ‚åº¦</h5><ul><li style="list-style:none"><input type="checkbox"> ç™¾åº¦ç™¾ç§‘:<br>ç©ºé—´å¤æ‚åº¦(Space Complexity)æ˜¯å¯¹ä¸€ä¸ªç®—æ³•åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¸´æ—¶å ç”¨å­˜å‚¨ç©ºé—´å¤§å°çš„é‡åº¦ï¼Œè®°åšS(n)=O(f(n))ã€‚æ¯”å¦‚ç›´æ¥æ’å…¥æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n^2),ç©ºé—´å¤æ‚åº¦æ˜¯O(1) ã€‚è€Œä¸€èˆ¬çš„é€’å½’ç®—æ³•å°±è¦æœ‰O(n)çš„ç©ºé—´å¤æ‚åº¦äº†ï¼Œå› ä¸ºæ¯æ¬¡é€’å½’éƒ½è¦å­˜å‚¨è¿”å›ä¿¡æ¯ã€‚ä¸€ä¸ªç®—æ³•çš„ä¼˜åŠ£ä¸»è¦ä»ç®—æ³•çš„æ‰§è¡Œæ—¶é—´å’Œæ‰€éœ€è¦å ç”¨çš„å­˜å‚¨ç©ºé—´ä¸¤ä¸ªæ–¹é¢è¡¡é‡ã€‚</li><li style="list-style:none"><input type="checkbox" checked> ä¸ªäººç†è§£:<br>ä¼°ç®—æ‰€éœ€å ç”¨çš„å­˜å‚¨ç©ºé—´</li></ul><h5 id="å¤§Oè¡¨ç¤ºæ³•"><a href="#å¤§Oè¡¨ç¤ºæ³•" class="headerlink" title="å¤§Oè¡¨ç¤ºæ³•"></a>å¤§Oè¡¨ç¤ºæ³•</h5><p>ä¸€èˆ¬ç”¨å¤§Oè¡¨ç¤ºæ³•æ¥æè¿°å¤æ‚åº¦,è¡¨ç¤ºçš„æ˜¯æ•°æ®è§„æ¨¡nå¯¹åº”çš„å¤æ‚åº¦<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">å¿½ç•¥å¸¸æ•°ã€ç³»æ•°ã€ä½é˜¶</span><br><span class="line"></span><br><span class="line">9   &gt;&gt;&gt;   O(1)</span><br><span class="line"></span><br><span class="line">2n + 3   &gt;&gt;&gt;   O(n)</span><br><span class="line"></span><br><span class="line">$n^2$ + 2n + 6   &gt;&gt;&gt;   O($n^2$)</span><br><span class="line"></span><br><span class="line">$4n^3$ + $3n^2$ + 22n + 100  &gt;&gt;&gt;  O($n^3$)</span><br></pre></td></tr></table></figure><p></p><ul><li>æ³¨æ„:<br>å¤§Oè¡¨ç¤ºæ³•ä»…ä»…åªæ˜¯ä¸€ç§ç²—ç•¥çš„åˆ†ææ¨¡å‹,æ˜¯ä¸€ç§ä¼°ç®—,èƒ½å¸®åŠ©æˆ‘ä»¬çŸ­æ—¶é—´å†…äº†è§£ä¸€ä¸ªç®—æ³•çš„æ‰§è¡Œæ•ˆç‡</li></ul><h5 id="å¸¸è§çš„å¤æ‚åº¦"><a href="#å¸¸è§çš„å¤æ‚åº¦" class="headerlink" title="å¸¸è§çš„å¤æ‚åº¦"></a>å¸¸è§çš„å¤æ‚åº¦</h5><p><img src="/images/pasted-18.png" alt="filename already exists, renamed"></p><h5 id="å¯¹æ•°é˜¶ç»†èŠ‚"><a href="#å¯¹æ•°é˜¶ç»†èŠ‚" class="headerlink" title="å¯¹æ•°é˜¶ç»†èŠ‚"></a>å¯¹æ•°é˜¶ç»†èŠ‚</h5><ul><li><p>å¯¹æ•°é˜¶ä¸€èˆ¬çœç•¥åº•æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$log_2 n = log_2 9 * log_9 n$</span><br></pre></td></tr></table></figure></li><li><p>$æ‰€ä»¥log_2 nã€log_9 nç»Ÿç§°ä¸ºlog_n$</p></li></ul><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ä¸ç®—æ³•ç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¤æ‚åº¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dubboéšå¼å‚æ•°ä¼ é€’</title>
      <link href="/2019/04/17/Dobbu%E9%9A%90%E5%BC%8F%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/"/>
      <url>/2019/04/17/Dobbu%E9%9A%90%E5%BC%8F%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><blockquote><p>è®°å½•ä¸€ä¸ª<code>dobbu</code>ä¼ é€’éšå¼å‚æ•°<code>demo</code>,è°ƒç”¨<code>RPC</code>æœåŠ¡æ—¶ç”¨äº<strong>æœåŠ¡æ¶ˆè´¹è€…</strong>å‘<strong>æœåŠ¡æä¾›è€…</strong>ä¼ é€’éšå¼å‚æ•°,æ¯”å¦‚å‘æœåŠ¡æä¾›è€…ä¼ é€’<code>token</code>ä¿¡æ¯.<br><a id="more"></a></p></blockquote><h5 id="ä¸Šä¸‹æ–‡ä¿¡æ¯"><a href="#ä¸Šä¸‹æ–‡ä¿¡æ¯" class="headerlink" title="ä¸Šä¸‹æ–‡ä¿¡æ¯"></a>ä¸Šä¸‹æ–‡ä¿¡æ¯</h5><p><code>RpcContext</code>æ˜¯ä¸€ä¸ª<code>ThreadLocal</code>çš„ä¸´æ—¶çŠ¶æ€è®°å½•å™¨ï¼Œå½“æ¥æ”¶åˆ°RPCè¯·æ±‚ï¼Œæˆ–å‘èµ·RPCè¯·æ±‚æ—¶ï¼Œ<code>RpcContext</code>çš„çŠ¶æ€éƒ½ä¼šå˜åŒ–ã€‚æ¯”å¦‚Aè°ƒç”¨Bï¼ŒBå†è°ƒç”¨Cï¼Œåˆ™Bæœºå™¨ä¸Šï¼Œåœ¨Bè°ƒç”¨Cä¹‹å‰ï¼Œ<code>RpcContext</code>è®°å½•çš„æ˜¯Aè°ƒç”¨Bçš„ä¿¡æ¯ï¼Œåœ¨Bè°ƒç”¨Cä¹‹åï¼Œ<code>RpcContext</code>è®°å½•çš„æ˜¯Bè°ƒç”¨Cã€‚</p><hr><h5 id="æœåŠ¡æ¶ˆè´¹è€…-controllerå±‚"><a href="#æœåŠ¡æ¶ˆè´¹è€…-controllerå±‚" class="headerlink" title="æœåŠ¡æ¶ˆè´¹è€…:controllerå±‚"></a>æœåŠ¡æ¶ˆè´¹è€…:controllerå±‚</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/test"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Reference</span></span><br><span class="line">    <span class="keyword">private</span> ICarService iCarService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/test"</span>)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// ä¼ é€’å‚æ•°</span></span><br><span class="line">        RpcContext.getContext().setAttachment(<span class="string">"TOKEN"</span>,<span class="string">"æµ‹è¯•éšå£«å‚æ•°ä¼ é€’"</span>);</span><br><span class="line">        iCarService.test();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"å‚æ•°"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æœåŠ¡æä¾›è€…-serviceå±‚"><a href="#æœåŠ¡æä¾›è€…-serviceå±‚" class="headerlink" title="æœåŠ¡æä¾›è€…:serviceå±‚"></a>æœåŠ¡æä¾›è€…:serviceå±‚</h5><ul><li>æ¥å£</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ICarService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å®ç°ç±»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CarServiceImpl</span> <span class="keyword">implements</span> <span class="title">ICarService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è·å–å‚æ•°</span></span><br><span class="line">        String token = RpcContext.getContext().getAttachment(<span class="string">"TOKEN"</span>);</span><br><span class="line">        System.out.println(token);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="é¡¹ç›®ä½¿ç”¨åœºæ™¯"><a href="#é¡¹ç›®ä½¿ç”¨åœºæ™¯" class="headerlink" title="é¡¹ç›®ä½¿ç”¨åœºæ™¯"></a>é¡¹ç›®ä½¿ç”¨åœºæ™¯</h5><p>åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„æ˜¯ç™»å½•å,ä¼šç”Ÿæˆä¸€ä¸ª<code>token</code>è¿”å›ç»™ç”¨æˆ·,ç”¨æˆ·æ¯æ¬¡ç™»å½•éƒ½è¦æŠŠæ”¹<code>token</code>å¸¦è¿‡æ¥è¿›è¡Œç™»å½•éªŒè¯,éªŒè¯é€šè¿‡ååˆ™å»è°ƒç”¨<code>RPC</code>æœåŠ¡,å¯ä»¥é€šè¿‡éšå£«å‚æ•°ä¼ é€’æŠŠ<code>token</code>ä¼ é€’åˆ°æœåŠ¡æä¾›è€…,è¿™æ ·å°±å¯ä»¥è·å–åˆ°å½“å‰ç™»å½•ç”¨æˆ·çš„<code>token</code>,ç„¶åå»è·å–å½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯.</p><h5 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h5><p>å¦‚æœä½¿ç”¨<code>setAttachments</code>ä¼šæŠŠåŸæ¥çš„å‚æ•°æ¸…ç©º,åå†ä¿å­˜ç°åœ¨çš„å‚æ•°.</p><ul><li>æºç </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> RpcContext <span class="title">setAttachments</span><span class="params">(Map&lt;String, String&gt; attachment)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ¸…ç©ºå‚æ•°</span></span><br><span class="line">    <span class="keyword">this</span>.attachments.clear();</span><br><span class="line">    <span class="keyword">if</span> (attachment != <span class="keyword">null</span> &amp;&amp; attachment.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.attachments.putAll(attachment);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Dubboç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> dubbo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é…ç½®mavenæ‰“åŒ…æ–¹å¼</title>
      <link href="/2019/04/15/%E9%85%8D%E7%BD%AEmaven%E6%89%93%E5%8C%85%E6%96%B9%E5%BC%8F/"/>
      <url>/2019/04/15/%E9%85%8D%E7%BD%AEmaven%E6%89%93%E5%8C%85%E6%96%B9%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:06 GMT+0800 (China Standard Time) --><p>ä½¿ç”¨<code>maven-jar-pluginå’Œmaven-dependency-plugin</code>æ’ä»¶æ‰“åŒ…<br><img src="/images/pasted-17.png" alt="filename already exists, renamed"><br><a id="more"></a></p><h5 id="ä½¿ç”¨maven-jar-pluginå’Œmaven-dependency-pluginæ‰“åŒ…çš„åŸå› åŠå¥½å¤„"><a href="#ä½¿ç”¨maven-jar-pluginå’Œmaven-dependency-pluginæ‰“åŒ…çš„åŸå› åŠå¥½å¤„" class="headerlink" title="ä½¿ç”¨maven-jar-pluginå’Œmaven-dependency-pluginæ‰“åŒ…çš„åŸå› åŠå¥½å¤„"></a>ä½¿ç”¨<code>maven-jar-plugin</code>å’Œ<code>maven-dependency-plugin</code>æ‰“åŒ…çš„åŸå› åŠå¥½å¤„</h5><p>ç°åœ¨é¡¹ç›®ä½¿ç”¨çš„<code>springboot</code>æ¡†æ¶æ­å»ºçš„<code>maven</code>é¡¹ç›®,ç”±äºä½¿ç”¨<code>jenkins</code>è‡ªåŠ¨éƒ¨ç½²é¡¹ç›®,è€Œä¸”å¹¶æ²¡æœ‰é…ç½®å•ä¸ªæ¨¡å—éƒ¨ç½²,å¯¼è‡´æ¯æ¬¡éƒ¨ç½²éƒ½è¦<code>10</code>æ¥åˆ†é’Ÿ,ä¸¥é‡æµªè´¹æ—¶é—´,ç°åœ¨ä½¿ç”¨è¯¥æ’ä»¶æ‰“åŒ…åä¸ç”¨æ¯æ¬¡éƒ½ä½¿ç”¨<code>jenkins</code>éƒ¨ç½²,ç›´æ¥æœ¬åœ°æ‰“åŒ…å¥½ä¹‹åæ›¿æ¢æ‰æœåŠ¡å™¨çš„<code>jar</code>å°±è¡Œ,è€Œä¸”æ‰“åŒ…å®Œå¯ä»¥çœ‹åˆ°<code>jar</code>æ˜¯å¾ˆå°çš„,ä¸Šä¼ ä¹Ÿå¾ˆå¿«</p><h5 id="1-é…ç½®pomæ–‡ä»¶"><a href="#1-é…ç½®pomæ–‡ä»¶" class="headerlink" title="1. é…ç½®pomæ–‡ä»¶"></a>1. é…ç½®<code>pom</code>æ–‡ä»¶</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;plugin&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;</span><br><span class="line">    &lt;configuration&gt;</span><br><span class="line">        &lt;archive&gt;</span><br><span class="line">            &lt;manifest&gt;</span><br><span class="line">            &lt;!-- springbootå¯åŠ¨ç±» --&gt;</span><br><span class="line">                &lt;mainClass&gt;cn.lgz.shop.GoodsApp&lt;/mainClass&gt;</span><br><span class="line">                &lt;addClasspath&gt;true&lt;/addClasspath&gt;</span><br><span class="line">                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;</span><br><span class="line">            &lt;/manifest&gt;</span><br><span class="line">        &lt;/archive&gt;</span><br><span class="line">    &lt;/configuration&gt;</span><br><span class="line">&lt;/plugin&gt;</span><br><span class="line">&lt;plugin&gt;</span><br><span class="line">  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;3.1.1&lt;/version&gt;</span><br><span class="line">  &lt;executions&gt;</span><br><span class="line">      &lt;execution&gt;</span><br><span class="line">          &lt;id&gt;copy-dependencies&lt;/id&gt;</span><br><span class="line">          &lt;phase&gt;package&lt;/phase&gt;</span><br><span class="line">          &lt;goals&gt;</span><br><span class="line">              &lt;goal&gt;copy-dependencies&lt;/goal&gt;</span><br><span class="line">          &lt;/goals&gt;</span><br><span class="line">          &lt;configuration&gt;</span><br><span class="line">              &lt;outputDirectory&gt;$&#123;project.build.directory&#125;/lib&lt;/outputDirectory&gt;</span><br><span class="line">              &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;</span><br><span class="line">              &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;</span><br><span class="line">              &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;</span><br><span class="line">          &lt;/configuration&gt;</span><br><span class="line">      &lt;/execution&gt;</span><br><span class="line">  &lt;/executions&gt;</span><br><span class="line">&lt;/plugin&gt;</span><br></pre></td></tr></table></figure><h5 id="2-æ‰“åŒ…æ•ˆæœ"><a href="#2-æ‰“åŒ…æ•ˆæœ" class="headerlink" title="2. æ‰“åŒ…æ•ˆæœ"></a>2. æ‰“åŒ…æ•ˆæœ</h5><p>æ‰“åŒ…åä¼šæŠŠé¡¹ç›®ä»£ç å’Œä¾èµ–åˆ†ç¦»å¼€æ¥:</p><ul><li>ä¾èµ–ä¼šæ‰“åŒ…åˆ°<code>lib</code>ç›®å½•</li><li>é¡¹ç›®ä»£ç ä¼šæ‰“åŒ…æˆä¸€ä¸ª<code>jar</code>åŒ…</li></ul><p><img src="/images/pasted-17.png" alt="filename already exists, renamed"></p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> java </category>
          
          <category> å·¥å…·é…ç½®ç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSLæ•°å­—è¯ä¹¦Nginxé…ç½®éƒ¨ç½²</title>
      <link href="/2019/04/13/SSL%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6Nginx%E9%85%8D%E7%BD%AE%E9%83%A8%E7%BD%B2/"/>
      <url>/2019/04/13/SSL%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6Nginx%E9%85%8D%E7%BD%AE%E9%83%A8%E7%BD%B2/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><blockquote><p>è®°å½•Nginxé…ç½®SSLæ•°å­—è¯ä¹¦çš„æ­¥éª¤ä»¥åŠé‡åˆ°ä¸€äº›çš„é—®é¢˜</p></blockquote><ul><li style="list-style:none"><input type="checkbox" checked> å®è·µæˆæœï¼šä¸ºæœ¬ç½‘ç«™éƒ¨ç½²<code>SSL</code>è¯ä¹¦ï¼Œå®ç°<code>https</code>è®¿é—®</li></ul><p>ğŸ‘‡ç¯å¢ƒä»¥åŠè¯ä¹¦ğŸ‘‡:</p><ul><li>é˜¿é‡Œäº‘æœåŠ¡å™¨: CentOS7</li><li><p>SSLæ•°å­—è¯ä¹¦: Symantec DV SSLè¯ä¹¦ï¼ˆå…è´¹ç‰ˆï¼‰</p><a id="more"></a><h5 id="ä¸€-æ·»åŠ SSLæ¨¡å—"><a href="#ä¸€-æ·»åŠ SSLæ¨¡å—" class="headerlink" title="ä¸€. æ·»åŠ SSLæ¨¡å—"></a>ä¸€. æ·»åŠ <code>SSL</code>æ¨¡å—</h5><h6 id="1-0-è¿›å…¥nginxè§£å‹ç›®å½•"><a href="#1-0-è¿›å…¥nginxè§£å‹ç›®å½•" class="headerlink" title="1.0 è¿›å…¥nginxè§£å‹ç›®å½•"></a>1.0 è¿›å…¥<code>nginx</code>è§£å‹ç›®å½•</h6></li></ul><p><img src="/images/pasted-12.png" alt="filename already exists, renamed"></p><ul><li>ä½¿ç”¨æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ·»åŠ <code>SSL</code>æ¨¡å—</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure --with-http_ssl_module</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœæŠ¥é”™<code>./configure: error: SSL modules require the OpenSSL library.</code>åˆ™æ‰§è¡Œ</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum -y install openssl openssl-devel</span><br><span class="line"></span><br><span class="line">./configure</span><br></pre></td></tr></table></figure><ul><li><p>æ‰§è¡Œ<code>make</code>ï¼ˆåˆ‡è®°ä¸èƒ½<code>make install</code>ä¼šè¦†ç›–å®‰è£…ç›®å½•ï¼‰</p></li><li><p>å°†åŸæ¥<code>nginx</code>å¤‡ä»½(å¯é€‰ï¼‰:å¦‚æœè‡ªå·±<code>nginx</code>æœ‰ä»€ä¹ˆé‡è¦é…ç½®å¯ä»¥å…ˆå¤‡ä»½ä»¥é˜²ä¸¢å¤±</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp objs/nginx /usr/local/nginx/sbin/nginx</span><br></pre></td></tr></table></figure><ul><li>å°†æ–°çš„<code>nginx</code>è¦†ç›–æ—§å®‰è£…ç›®å½•</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp objs/nginx /usr/local/nginx/sbin/nginx</span><br></pre></td></tr></table></figure><h5 id="äºŒ-é…ç½®SSLè¯ä¹¦"><a href="#äºŒ-é…ç½®SSLè¯ä¹¦" class="headerlink" title="äºŒ. é…ç½®SSLè¯ä¹¦"></a>äºŒ. é…ç½®<code>SSL</code>è¯ä¹¦</h5><h6 id="1-0-è¿›å…¥Nginxå®‰è£…ç›®å½•confç›®å½•-PS-å®‰è£…ç›®å½•å’Œè§£å‹ç›®å½•ä¸æ˜¯åŒä¸€ä¸ªç›®å½•ï¼‰"><a href="#1-0-è¿›å…¥Nginxå®‰è£…ç›®å½•confç›®å½•-PS-å®‰è£…ç›®å½•å’Œè§£å‹ç›®å½•ä¸æ˜¯åŒä¸€ä¸ªç›®å½•ï¼‰" class="headerlink" title="1.0 è¿›å…¥Nginxå®‰è£…ç›®å½•confç›®å½•(PS:å®‰è£…ç›®å½•å’Œè§£å‹ç›®å½•ä¸æ˜¯åŒä¸€ä¸ªç›®å½•ï¼‰"></a>1.0 è¿›å…¥<code>Nginx</code>å®‰è£…ç›®å½•<code>conf</code>ç›®å½•(PS:å®‰è£…ç›®å½•å’Œè§£å‹ç›®å½•ä¸æ˜¯åŒä¸€ä¸ªç›®å½•ï¼‰</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/nginx/conf/</span><br></pre></td></tr></table></figure><p><img src="/images/pasted-14.png" alt="filename already exists, renamed"></p><ul><li>åˆ›å»º<code>cert</code>ç›®å½•,å¹¶æŠŠå‡†å¤‡å¥½çš„<code>SSL</code>æ•°å­—è¯ä¹¦æ”¾åœ¨è¯¥ç›®å½•ä¸‹</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir cert</span><br></pre></td></tr></table></figure><p><img src="/images/pasted-15.png" alt="filename already exists, renamed"></p><ul><li>è¿”å›<code>conf</code>æ–‡ä»¶ï¼Œç¼–è¾‘<code>nginx.conf</code>é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ°ä»¥ä¸‹å†…å®¹</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> # HTTPS server</span><br><span class="line"> #server &#123;</span><br><span class="line"> #listen 443;</span><br><span class="line"> #server_name localhost;</span><br><span class="line"> #ssl_certificate cert.pem;</span><br><span class="line"> #ssl_certificate_key cert.key;</span><br><span class="line"> #ssl_session_timeout 5m;</span><br><span class="line"> #ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line"> #ssl_ciphers ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP;</span><br><span class="line"> #ssl_prefer_server_ciphers on;</span><br><span class="line"> #location / &#123;</span><br><span class="line">#root   html;</span><br><span class="line">#index  index.html index.htm;</span><br><span class="line">#proxy_pass      http://localhost:4000;</span><br><span class="line">#&#125;</span><br><span class="line">#&#125;</span><br></pre></td></tr></table></figure><ul><li>æŠŠä»¥ä¸Šå†…å®¹æ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹ï¼Œæˆ–è€…æ³¨é‡Šä»¥ä¸Šå†…å®¹é‡æ–°æ·»åŠ ä¹Ÿå¯ä»¥ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># ä»¥ä¸‹å±æ€§ä¸­ä»¥sslå¼€å¤´çš„å±æ€§ä»£è¡¨ä¸è¯ä¹¦é…ç½®æœ‰å…³ï¼Œå…¶ä»–å±æ€§è¯·æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œé…ç½®ã€‚</span><br><span class="line">  server &#123;</span><br><span class="line">  listen 443;</span><br><span class="line">  server_name localhost;  # localhostä¿®æ”¹ä¸ºæ‚¨è¯ä¹¦ç»‘å®šçš„åŸŸåã€‚</span><br><span class="line">  ssl on;   #è®¾ç½®ä¸ºonå¯ç”¨SSLåŠŸèƒ½ã€‚</span><br><span class="line">  root html;</span><br><span class="line">  index index.html index.htm;</span><br><span class="line">  ssl_certificate cert/domain name.pem;   #å°†domain name.pemæ›¿æ¢æˆæ‚¨è¯ä¹¦çš„æ–‡ä»¶åã€‚</span><br><span class="line">  ssl_certificate_key cert/domain name.key;   #å°†domain name.keyæ›¿æ¢æˆæ‚¨è¯ä¹¦çš„å¯†é’¥æ–‡ä»¶åã€‚</span><br><span class="line">  ssl_session_timeout 5m;</span><br><span class="line">  ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;  #ä½¿ç”¨æ­¤åŠ å¯†å¥—ä»¶ã€‚</span><br><span class="line">  ssl_protocols TLSv1 TLSv1.1 TLSv1.2;   #ä½¿ç”¨è¯¥åè®®è¿›è¡Œé…ç½®ã€‚</span><br><span class="line">  ssl_prefer_server_ciphers on;   </span><br><span class="line">  location / &#123;</span><br><span class="line">  root html;   #ç«™ç‚¹ç›®å½•ã€‚</span><br><span class="line">  index index.html index.htm;   #æ·»åŠ å±æ€§ã€‚</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h5 id="ä¸‰-é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨å®‰å…¨ç»„è§„åˆ™"><a href="#ä¸‰-é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨å®‰å…¨ç»„è§„åˆ™" class="headerlink" title="ä¸‰. é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨å®‰å…¨ç»„è§„åˆ™"></a>ä¸‰. é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨å®‰å…¨ç»„è§„åˆ™</h5><p>â­ å¦‚æœä½ ä»¥ä¸Šæ­¥éª¤éƒ½æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯è¿˜æ˜¯è®¿é—®ä¸äº†ï¼Œé‚£å°±è¦æŸ¥çœ‹ä¸‹æ˜¯å¦æœ‰é…ç½®<code>443</code>ç«¯å£çš„å®‰å…¨ç»„ï¼Œå¦‚æœæ²¡æœ‰<br>åŠ ä¸Šå³å¯ã€‚</p><p><img src="/images/pasted-16.png" alt="filename already exists, renamed"></p><h5 id="å››-å‚è€ƒèµ„æ–™"><a href="#å››-å‚è€ƒèµ„æ–™" class="headerlink" title="å››. å‚è€ƒèµ„æ–™"></a>å››. å‚è€ƒèµ„æ–™</h5><p><a href="https://help.aliyun.com/document_detail/98728.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/98728.html</a><br><a href="https://help.aliyun.com/video_detail/54216.html?spm=5176.2000002.0.0.19057747sUlwcd" target="_blank" rel="noopener">https://help.aliyun.com/video_detail/54216.html?spm=5176.2000002.0.0.19057747sUlwcd</a><br><a href="https://blog.csdn.net/weiyangdong/article/details/80008543" target="_blank" rel="noopener">https://blog.csdn.net/weiyangdong/article/details/80008543</a></p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡å™¨ç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Nginx </tag>
            
            <tag> SSL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Excelå¯¼å…¥å¯¼å‡º</title>
      <link href="/2019/04/10/Excel%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/"/>
      <url>/2019/04/10/Excel%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><blockquote><p>è®°å½•ä¸€ä¸ª<code>java</code>åŸºäº<code>jxl</code>å®ç°çš„<code>Excel</code>å¯¼å…¥å¯¼å‡ºåŠŸèƒ½<br><a id="more"></a></p></blockquote><h5 id="ä¸€-å¼•å…¥ä¾èµ–"><a href="#ä¸€-å¼•å…¥ä¾èµ–" class="headerlink" title="ä¸€. å¼•å…¥ä¾èµ–"></a>ä¸€. å¼•å…¥ä¾èµ–</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;jxl&lt;/artifactId&gt;</span><br><span class="line">&lt;version&gt;2.6.12&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h5 id="äºŒ-å¯¼å‡º"><a href="#äºŒ-å¯¼å‡º" class="headerlink" title="äºŒ. å¯¼å‡º"></a>äºŒ. å¯¼å‡º</h5><h6 id="2-0-æ¥å£ç¼–å†™"><a href="#2-0-æ¥å£ç¼–å†™" class="headerlink" title="2.0 æ¥å£ç¼–å†™"></a>2.0 æ¥å£ç¼–å†™</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">"/export"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(HttpServletResponse response)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">WritableWorkbook workbook = Workbook.createWorkbook(response.getOutputStream());</span><br><span class="line"><span class="comment">// å“åº”æ ¼å¼</span></span><br><span class="line">response.setContentType(<span class="string">"application/vnd.ms-excel"</span>);</span><br><span class="line">response.setHeader(<span class="string">"Content-Disposition"</span>, <span class="string">"attachment;</span></span><br><span class="line"><span class="string">    filename="</span> + URLEncoder.encode(<span class="string">"æ–‡ä»¶åç§°.xls"</span>, <span class="string">"UTF-8"</span>));</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå·¥ä½œç°¿:</span></span><br><span class="line">WritableSheet sheet1 = workbook.createSheet(<span class="string">"å·¥ä½œç°¿åç§°"</span>, <span class="number">0</span>);</span><br><span class="line">Label label1 = <span class="keyword">new</span> Label(<span class="number">0</span>, <span class="number">0</span>, <span class="string">"å•†å“id"</span>);</span><br><span class="line">sheet1.addCell(label1);</span><br><span class="line">Label label2 = <span class="keyword">new</span> Label(<span class="number">1</span>, <span class="number">0</span>, <span class="string">"å…¬å¸ç¼–å·"</span>);</span><br><span class="line">sheet1.addCell(label2);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŸ¥è¯¢æ•°æ®å†™åˆ°workbookä¸­</span></span><br><span class="line">workbook.write();</span><br><span class="line">System.out.println(<span class="string">"æŸ¥è¯¢æ•°æ®å†™åˆ°workbookä¸­"</span>);</span><br><span class="line"><span class="comment">//å…³é—­èµ„æº</span></span><br><span class="line">workbook.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="2-1-å¯¼å‡ºæ•ˆæœå¦‚ä¸‹"><a href="#2-1-å¯¼å‡ºæ•ˆæœå¦‚ä¸‹" class="headerlink" title="2.1 å¯¼å‡ºæ•ˆæœå¦‚ä¸‹"></a>2.1 å¯¼å‡ºæ•ˆæœå¦‚ä¸‹</h6><p><img src="/images/pasted-11.png" alt="filename already exists, renamed"></p><h5 id="ä¸‰-å¯¼å…¥"><a href="#ä¸‰-å¯¼å…¥" class="headerlink" title="ä¸‰. å¯¼å…¥"></a>ä¸‰. å¯¼å…¥</h5><h6 id="3-0-è¯»å–Excelæ¥å£"><a href="#3-0-è¯»å–Excelæ¥å£" class="headerlink" title="3.0 è¯»å–Excelæ¥å£"></a>3.0 è¯»å–<code>Excel</code>æ¥å£</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span>(value = <span class="string">"/excel"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">importExcel</span><span class="params">(MultipartFile file)</span> </span>&#123;</span><br><span class="line">Workbook workbook = <span class="keyword">null</span>;</span><br><span class="line">List&lt;ItemDto&gt; items = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">HashMap&lt;String, ItemDto&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//è·å–xlsæ–‡ä»¶Excel</span></span><br><span class="line">workbook = Workbook.getWorkbook(file.getInputStream());</span><br><span class="line"><span class="comment">//è·å–å•†å“å·¥ä½œç°¿:å¯é€šè¿‡ç´¢å¼•è·å–ä¸åŒå·¥ä½œç°¿</span></span><br><span class="line">Sheet itemSheet = workbook.getSheet(<span class="number">0</span>);</span><br><span class="line"><span class="comment">//è·å–æ€»è¡Œæ•°</span></span><br><span class="line"><span class="keyword">int</span> rows = itemSheet.getRows();</span><br><span class="line"><span class="comment">//æ ¼å¼åŒ–å¯¼å…¥çš„æ—¥æœŸæ ¼å¼</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; rows; i++) &#123;</span><br><span class="line">Cell[] row = itemSheet.getRow(i);</span><br><span class="line"><span class="keyword">if</span> (row.length == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">String itemId = itemSheet.getCell(<span class="number">0</span>, i).getContents();</span><br><span class="line">System.out.println(itemId);</span><br><span class="line"></span><br><span class="line">String scompCode = itemSheet.getCell(<span class="number">1</span>, i).getContents();</span><br><span class="line">System.out.println(scompCode);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line"><span class="comment">//å…³é—­èµ„æº</span></span><br><span class="line">workbook.close();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> Excel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoä¹‹çæŠ˜è…¾ç³»åˆ—</title>
      <link href="/2019/03/30/Hexo%E7%9E%8E%E6%8A%98%E8%85%BE%E7%B3%BB%E5%88%97/"/>
      <url>/2019/03/30/Hexo%E7%9E%8E%E6%8A%98%E8%85%BE%E7%B3%BB%E5%88%97/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:06 GMT+0800 (China Standard Time) --><p>è¯¥æ–‡æ¡£è®°å½•Theme-ADä¸»é¢˜ä¸ªäººåšå®¢éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä»¥åŠè®°å½•æ–°å¢çš„ä¸€äº›å°åŠŸèƒ½~ï¼</p><p>Theme-ADä¸»é¢˜å…·ä½“æ­å»ºæ­¥éª¤å¯ä»¥å‚è€ƒï¼š<a href="https://godbmw.com/tags/Hexo/" target="_blank" rel="noopener">https://godbmw.com/tags/Hexo/</a></p><p>Letâ€™s Go~!<br><a id="more"></a><br>Theme-ADä¸»é¢˜å…·ä½“æ­å»ºæ­¥éª¤å¯ä»¥å‚è€ƒï¼š<a href="https://godbmw.com/tags/Hexo/" target="_blank" rel="noopener">https://godbmw.com/tags/Hexo/</a></p><h5 id="ä¸€-äº‘æœåŠ¡å™¨éƒ¨ç½²Hexo"><a href="#ä¸€-äº‘æœåŠ¡å™¨éƒ¨ç½²Hexo" class="headerlink" title="ä¸€.äº‘æœåŠ¡å™¨éƒ¨ç½²Hexo"></a>ä¸€.äº‘æœåŠ¡å™¨éƒ¨ç½²Hexo</h5><p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://www.jianshu.com/p/b2e47ec9359d" target="_blank" rel="noopener">https://www.jianshu.com/p/b2e47ec9359d</a></p><h6 id="1-1-åå°è¿è¡ŒHexo"><a href="#1-1-åå°è¿è¡ŒHexo" class="headerlink" title="1.1 åå°è¿è¡ŒHexo"></a>1.1 åå°è¿è¡Œ<code>Hexo</code></h6><p>éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨åå¦‚æœè¿˜æ˜¯åœ¨<code>hexo</code>æ ¹ç›®å½•ä¸‹ä½¿ç”¨å‘½ä»¤å¯åŠ¨ï¼Œä¼šæœ‰ä¸ªé—®é¢˜å°±æ˜¯ï¼šå½“ä½ æ–­å¼€æœåŠ¡å™¨è¿æ¥ä¹‹åhexoæœåŠ¡å°±ä¼šåœæ­¢ï¼Œæ— æ³•è®¿é—®ã€‚</p><p>é‚£ä¹ˆå¯ä»¥ç”¨pm2å¯åŠ¨<code>hexo</code>ï¼Œè¿™æ ·hexoå°±åœ¨åå°è¿è¡Œäº†ï¼Œå°±ç®—æ–­å¼€æœåŠ¡å™¨è¿æ¥ä¹Ÿä¸ä¼šåœæ­¢</p><h6 id="1-2-å®‰è£…pm2"><a href="#1-2-å®‰è£…pm2" class="headerlink" title="1.2 å®‰è£…pm2"></a>1.2 å®‰è£…<code>pm2</code></h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g pm2</span><br></pre></td></tr></table></figure><p>psï¼šå¦‚æœæ„Ÿå…´è¶£ä¹Ÿå¯ä»¥äº†è§£ä¸‹<code>Linux</code>çš„<code>nohup</code>å‘½ä»¤</p><h6 id="1-2-åœ¨hexoåˆ›å»ºrun-jsæ–‡ä»¶"><a href="#1-2-åœ¨hexoåˆ›å»ºrun-jsæ–‡ä»¶" class="headerlink" title="1.2 åœ¨hexoåˆ›å»ºrun.jsæ–‡ä»¶"></a>1.2 åœ¨<code>hexo</code>åˆ›å»º<code>run.js</code>æ–‡ä»¶</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//run.js</span></span><br><span class="line"><span class="keyword">const</span> &#123; exec &#125; = <span class="built_in">require</span>(<span class="string">'child_process'</span>)</span><br><span class="line">exec(<span class="string">'hexo server'</span>,(error, stdout, stderr) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span>(error)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`exec error: <span class="subst">$&#123;error&#125;</span>`</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`stdout: <span class="subst">$&#123;stdout&#125;</span>`</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`stderr: <span class="subst">$&#123;stderr&#125;</span>`</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h6 id="1-3-è¿è¡Œè„šæœ¬"><a href="#1-3-è¿è¡Œè„šæœ¬" class="headerlink" title="1.3 è¿è¡Œè„šæœ¬"></a>1.3 è¿è¡Œè„šæœ¬</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 start run.js</span><br></pre></td></tr></table></figure><h5 id="äºŒ-ä¸ºè‡ªå·±çš„åšå®¢æ·»åŠ èŒå® "><a href="#äºŒ-ä¸ºè‡ªå·±çš„åšå®¢æ·»åŠ èŒå® " class="headerlink" title="äºŒ.ä¸ºè‡ªå·±çš„åšå®¢æ·»åŠ èŒå® "></a>äºŒ.ä¸ºè‡ªå·±çš„åšå®¢æ·»åŠ èŒå® </h5><p>å‚è€ƒåšå®¢ï¼š<a href="https://blog.csdn.net/u010820857/article/details/82270736" target="_blank" rel="noopener">https://blog.csdn.net/u010820857/article/details/82270736</a></p><h6 id="2-1-å®‰è£…æ¨¡å—"><a href="#2-1-å®‰è£…æ¨¡å—" class="headerlink" title="2.1 å®‰è£…æ¨¡å—"></a>2.1 å®‰è£…æ¨¡å—</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure><h6 id="2-2-é€‰æ‹©æƒ³è¦çš„èŒå® "><a href="#2-2-é€‰æ‹©æƒ³è¦çš„èŒå® " class="headerlink" title="2.2 é€‰æ‹©æƒ³è¦çš„èŒå® "></a>2.2 é€‰æ‹©æƒ³è¦çš„èŒå® </h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">live2d-widget-model-chitose</span><br><span class="line">live2d-widget-model-epsilon2_1</span><br><span class="line">live2d-widget-model-gf</span><br><span class="line">live2d-widget-model-haru/01 (use npm install --save live2d-widget-model-haru)</span><br><span class="line">live2d-widget-model-haru/02 (use npm install --save live2d-widget-model-haru)</span><br><span class="line">live2d-widget-model-haruto</span><br><span class="line">live2d-widget-model-hibiki</span><br><span class="line">live2d-widget-model-hijiki</span><br><span class="line">live2d-widget-model-izumi</span><br><span class="line">live2d-widget-model-koharu</span><br><span class="line">live2d-widget-model-miku</span><br><span class="line">live2d-widget-model-ni-j</span><br><span class="line">live2d-widget-model-nico</span><br><span class="line">live2d-widget-model-nietzsche</span><br><span class="line">live2d-widget-model-nipsilon</span><br><span class="line">live2d-widget-model-nito</span><br><span class="line">live2d-widget-model-shizuku</span><br><span class="line">live2d-widget-model-tororo</span><br><span class="line">live2d-widget-model-tsumiki</span><br><span class="line">live2d-widget-model-unitychan</span><br><span class="line">live2d-widget-model-wanko</span><br><span class="line">live2d-widget-model-z16</span><br></pre></td></tr></table></figure><h6 id="2-3-é€‰æ‹©å¥½ä¹‹åè¿˜éœ€è¦å®‰è£…"><a href="#2-3-é€‰æ‹©å¥½ä¹‹åè¿˜éœ€è¦å®‰è£…" class="headerlink" title="2.3 é€‰æ‹©å¥½ä¹‹åè¿˜éœ€è¦å®‰è£…"></a>2.3 é€‰æ‹©å¥½ä¹‹åè¿˜éœ€è¦å®‰è£…</h6><p>ä¾‹å¦‚æˆ‘é€‰æ‹©çš„æ˜¯ï¼š<code>live2d-widget-model-z16</code><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install live2d-widget-model-z16</span><br></pre></td></tr></table></figure><p></p><h6 id="2-4-æœ€åä¸€æ­¥é…ç½®Hexoçš„ä¸»é…ç½®æ–‡ä»¶-config-yml"><a href="#2-4-æœ€åä¸€æ­¥é…ç½®Hexoçš„ä¸»é…ç½®æ–‡ä»¶-config-yml" class="headerlink" title="2.4 æœ€åä¸€æ­¥é…ç½®Hexoçš„ä¸»é…ç½®æ–‡ä»¶_config.yml"></a>2.4 æœ€åä¸€æ­¥é…ç½®<code>Hexo</code>çš„ä¸»é…ç½®æ–‡ä»¶<code>_config.yml</code></h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">live2d:</span><br><span class="line">  enable: <span class="literal">true</span></span><br><span class="line">  scriptFrom: local</span><br><span class="line">  model:</span><br><span class="line">    use: live2d-widget-model-z16 <span class="comment">// è¿™é‡Œæ”¹ä¸ºè‡ªå·±é€‰æ‹©çš„èŒå®  å…¶ä»–å‚æ•°å¯ä»¥æ ¹æ®è‡ªå·±å–œå¥½çœ‹ç€ä¿®æ”¹</span></span><br><span class="line">  display:</span><br><span class="line">    position: right</span><br><span class="line">    width: <span class="number">150</span></span><br><span class="line">    height: <span class="number">300</span></span><br><span class="line">  mobile:</span><br><span class="line">    show: <span class="literal">true</span></span><br></pre></td></tr></table></figure><h5 id="ä¸‰-hexoéƒ¨ç½²åˆ°GitHubåç»‘å®šåŸŸå-æœªå¤‡æ¡ˆåŸŸåä¹Ÿå¯ä»¥"><a href="#ä¸‰-hexoéƒ¨ç½²åˆ°GitHubåç»‘å®šåŸŸå-æœªå¤‡æ¡ˆåŸŸåä¹Ÿå¯ä»¥" class="headerlink" title="ä¸‰. hexoéƒ¨ç½²åˆ°GitHubåç»‘å®šåŸŸå(æœªå¤‡æ¡ˆåŸŸåä¹Ÿå¯ä»¥)"></a>ä¸‰. <code>hexo</code>éƒ¨ç½²åˆ°<code>GitHub</code>åç»‘å®šåŸŸå(æœªå¤‡æ¡ˆåŸŸåä¹Ÿå¯ä»¥)</h5><h6 id="3-1-GitHubç›¸å…³é…ç½®"><a href="#3-1-GitHubç›¸å…³é…ç½®" class="headerlink" title="3.1 GitHubç›¸å…³é…ç½®"></a>3.1 <code>GitHub</code>ç›¸å…³é…ç½®</h6><p>åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ <code>CNAME</code>æ–‡ä»¶(åç§°å¤§å†™),åœ¨æ–‡ä»¶ä¸­è¾“å…¥åŸŸå<br>CNAME æ–‡ä»¶:<br><img src="/images/pasted-4.png" alt="filename already exists, renamed"></p><p>æ–‡ä»¶å†…å®¹å°±æ˜¯ä½ çš„åŸŸå:<br><img src="/images/pasted-5.png" alt="filename already exists, renamed"></p><p>åœ¨è®¾ç½®ä¸­é…ç½®åŸŸå:<br><img src="/images/pasted-6.png" alt="filename already exists, renamed"></p><p><img src="/images/pasted-9.png" alt="filename already exists, renamed"></p><h6 id="3-2-ä¿®æ”¹åŸŸåè§£æè®°å½•"><a href="#3-2-ä¿®æ”¹åŸŸåè§£æè®°å½•" class="headerlink" title="3.2 ä¿®æ”¹åŸŸåè§£æè®°å½•"></a>3.2 ä¿®æ”¹åŸŸåè§£æè®°å½•</h6><p>æŒ‰ç…§ä¸‹é¢æ·»åŠ åŸŸåè§£æè®°å½•:<br><img src="/images/pasted-10.png" alt="filename already exists, renamed"><br>ps:æˆªå›¾ä¸­è®°å½•å€¼çš„<code>ip</code>æ˜¯é€šè¿‡<code>ping`è‡ªå·±çš„</code>xxx.github.io<code></code>å¾—åˆ°</p><h5 id="å››-æ–°å¢ç«™å†…æœç´¢åŠŸèƒ½"><a href="#å››-æ–°å¢ç«™å†…æœç´¢åŠŸèƒ½" class="headerlink" title="å››. æ–°å¢ç«™å†…æœç´¢åŠŸèƒ½"></a>å››. æ–°å¢ç«™å†…æœç´¢åŠŸèƒ½</h5><p>åŸæœ¬<code>Theme-AD</code>ä¸»é¢˜æ˜¯æ²¡æœ‰ç«™å†…æœç´¢çš„,æœ¬ç«™ç‚¹ç§»æ¤çš„æ˜¯<a href="https://zhwangart.github.io/" target="_blank" rel="noopener">Ocean</a>ä¸»é¢˜çš„ç«™å†…æœç´¢åŠŸèƒ½.</p><h6 id="4-1-ä¿®æ”¹header-ejsæ–‡ä»¶"><a href="#4-1-ä¿®æ”¹header-ejsæ–‡ä»¶" class="headerlink" title="4.1 ä¿®æ”¹header.ejsæ–‡ä»¶"></a>4.1 ä¿®æ”¹<code>header.ejs</code>æ–‡ä»¶</h6><p>æŠŠåŸæœ¬ä¸»é¢˜çš„æœç´¢æ¡†ç§»é™¤,åœ¨ç›¸å¯¹åº”ä½ç½®åŠ å…¥<code>æœç´¢æŒ‰é’®</code>å’Œ<code>æœç´¢æ¡†</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&lt;header <span class="class"><span class="keyword">class</span></span>=<span class="string">"site-header"</span>&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"site-header-brand"</span>&gt;</span><br><span class="line">    &lt;% <span class="keyword">if</span>(theme.nav_name) &#123; %&gt;</span><br><span class="line">      &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"site-header-brand-title"</span>&gt;</span><br><span class="line">        &lt;a href=<span class="string">"&lt;%- url_for('/') %&gt;"</span>&gt;<span class="xml"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">theme.nav_name</span> %&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">      &lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">    &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="regexp">    &lt;% if(theme.motto) &#123; %&gt;</span></span><br><span class="line"><span class="regexp">      &lt;span class="site-header-brand-motto"&gt; | &lt;%- theme.motto %&gt;&lt;/</span>span&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;div class="site-header-right"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;nav class="site-header-navigation"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;% for(let link of theme.nav) &#123; %&gt;</span></span><br><span class="line"><span class="regexp">        &lt;a href="&lt;%- url_for(link.path) %&gt;" target="&lt;%- link.path.startsWith('http') ? '_blank' : '_self' %&gt;"&gt;&lt;%= link.name%&gt;&lt;/</span>a&gt;</span><br><span class="line">      &lt;% &#125; %&gt;</span><br><span class="line">    &lt;<span class="regexp">/nav&gt;</span></span><br><span class="line"><span class="regexp">    </span></span><br><span class="line"><span class="regexp">    &lt;!-- æœç´¢æŒ‰é’® --&gt;</span></span><br><span class="line"><span class="regexp">    &lt;nav class="navbar"&gt;</span></span><br><span class="line"><span class="regexp">        &lt;a href="#" class="nav-item-link nav-item-search" title="&lt;%= __('æœç´¢') %&gt;"&gt;</span></span><br><span class="line"><span class="regexp">          &lt;i class="fe fe-search"&gt;&lt;/i</span>&gt;</span><br><span class="line">          &lt;%- theme.search_text %&gt;</span><br><span class="line">        &lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>nav&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"site-header-btn"</span>&gt;</span><br><span class="line">      &lt;% <span class="keyword">if</span>(theme.github) &#123; %&gt;</span><br><span class="line">        &lt;a href=<span class="string">"&lt;%- theme.github %&gt;"</span> target=<span class="string">"_blank"</span> id=<span class="string">"site-github"</span>&gt;</span><br><span class="line">          &lt;i <span class="class"><span class="keyword">class</span></span>=<span class="string">"fa fa-github-alt"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">        &lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">      &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>dev&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;!-- æœç´¢æ¡† --&gt;</span></span><br><span class="line"><span class="regexp">&lt;div class="search-form-wrap"&gt;</span></span><br><span class="line"><span class="regexp">  &lt;div class="local-search local-search-plugin"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;input type="search" id="local-search-input" class="local-search-input" placeholder="Search..."&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div id="local-search-result" class="local-search-result"&gt;&lt;/</span>div&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/header&gt;</span></span><br><span class="line"><span class="regexp">&lt;nav class="table-content" id="site-nav"&gt;</span></span><br><span class="line"><span class="regexp">  &lt;div class="table-content-title"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;span&gt;å¯¼èˆª&lt;/</span>span&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;div class="table-content-main"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;ol class="toc"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;% for(let link of theme.nav) &#123; %&gt;</span></span><br><span class="line"><span class="regexp">        &lt;li class="toc-item"&gt;</span></span><br><span class="line"><span class="regexp">          &lt;a href="&lt;%- url_for(link.path) %&gt;" target="&lt;%- link.path.startsWith('http') ? '_blank' : '_self' %&gt;"&gt;</span></span><br><span class="line"><span class="regexp">            &lt;%= link.name %&gt;</span></span><br><span class="line"><span class="regexp">          &lt;/</span>a&gt;</span><br><span class="line">        &lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">      &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>ol&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>nav&gt;</span><br><span class="line">&lt;div id=<span class="string">"site-process"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h6 id="4-2-æŠŠOceanä¸»é¢˜ä¸­sourceä¸­cssçš„feathericonç§»åˆ°è‡ªå·±ä¸»é¢˜çš„cssç›®å½•ä¸‹"><a href="#4-2-æŠŠOceanä¸»é¢˜ä¸­sourceä¸­cssçš„feathericonç§»åˆ°è‡ªå·±ä¸»é¢˜çš„cssç›®å½•ä¸‹" class="headerlink" title="4.2 æŠŠOceanä¸»é¢˜ä¸­sourceä¸­cssçš„feathericonç§»åˆ°è‡ªå·±ä¸»é¢˜çš„cssç›®å½•ä¸‹"></a>4.2 æŠŠ<a href="https://zhwangart.github.io/" target="_blank" rel="noopener">Ocean</a>ä¸»é¢˜ä¸­<code>source</code>ä¸­<code>css</code>çš„<code>feathericon</code>ç§»åˆ°è‡ªå·±ä¸»é¢˜çš„<code>css</code>ç›®å½•ä¸‹</h6><p><img src="/images/pasted-19.png" alt="filename already exists, renamed"></p><h6 id="4-3-åœ¨cssç›®å½•ä¸‹åˆ›å»º-feathericon-stylæ–‡ä»¶"><a href="#4-3-åœ¨cssç›®å½•ä¸‹åˆ›å»º-feathericon-stylæ–‡ä»¶" class="headerlink" title="4.3 åœ¨cssç›®å½•ä¸‹åˆ›å»º_feathericon.stylæ–‡ä»¶"></a>4.3 åœ¨<code>css</code>ç›®å½•ä¸‹åˆ›å»º<code>_feathericon.styl</code>æ–‡ä»¶</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">charset</span> <span class="string">"utf-8"</span></span><br><span class="line"></span><br><span class="line">//---------------------------------------------------------------------------</span><br><span class="line">// feathericon</span><br><span class="line">//---------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">//</span><br><span class="line">// variables</span><br><span class="line">feathericon-font-path = <span class="string">'feathericon/'</span> !default;</span><br><span class="line"></span><br><span class="line">//</span><br><span class="line">// font path</span><br><span class="line">@<span class="keyword">font-face</span></span><br><span class="line">  <span class="selector-tag">font-family</span> <span class="selector-tag">feathericon</span></span><br><span class="line">  <span class="selector-tag">font-weight</span> <span class="selector-tag">normal</span></span><br><span class="line">  <span class="selector-tag">font-style</span> <span class="selector-tag">normal</span></span><br><span class="line">  src: url(feathericon-font-path + 'feathericon.eot')</span><br><span class="line">  src: url(feathericon-font-path + 'feathericon.eot?#iefix') format('embedded-opentype'),</span><br><span class="line">          url(feathericon-font-path + 'feathericon.woff') format('woff'),</span><br><span class="line">          url(feathericon-font-path + 'feathericon.ttf') format('truetype'),</span><br><span class="line">          url(feathericon-font-path + 'feathericon.svg') format('svg');</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//</span><br><span class="line">// feathericon</span><br><span class="line">//</span><br><span class="line"><span class="selector-class">.fe</span></span><br><span class="line">  <span class="selector-tag">display</span> <span class="selector-tag">inline-block</span></span><br><span class="line">  <span class="selector-tag">font</span> <span class="selector-tag">normal</span> <span class="selector-tag">normal</span> <span class="selector-tag">normal</span> 16<span class="selector-tag">px</span> <span class="selector-tag">feathericon</span></span><br><span class="line">  <span class="selector-tag">font-size</span> <span class="selector-tag">inherit</span></span><br><span class="line">  <span class="selector-tag">text-rendering</span> <span class="selector-tag">auto</span></span><br><span class="line">  <span class="selector-tag">-webkit-font-smoothing</span> <span class="selector-tag">antialiased</span></span><br><span class="line">  <span class="selector-tag">-moz-osx-font-smoothing</span> <span class="selector-tag">grayscale</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.fe-search</span><span class="selector-pseudo">:before</span> &#123; <span class="attribute">content</span>: <span class="string">"\f14e"</span>; &#125;</span><br><span class="line"><span class="selector-class">.fe-search-minus</span><span class="selector-pseudo">:before</span> &#123; <span class="attribute">content</span>: <span class="string">"\f16a"</span>; &#125;</span><br><span class="line"><span class="selector-class">.fe-search-plus</span><span class="selector-pseudo">:before</span> &#123; <span class="attribute">content</span>: <span class="string">"\f16b"</span>; &#125;</span><br></pre></td></tr></table></figure><h6 id="4-4-åœ¨cssç›®å½•ä¸‹åˆ›å»º-mixins-stylæ–‡ä»¶"><a href="#4-4-åœ¨cssç›®å½•ä¸‹åˆ›å»º-mixins-stylæ–‡ä»¶" class="headerlink" title="4.4 åœ¨cssç›®å½•ä¸‹åˆ›å»º_mixins.stylæ–‡ä»¶"></a>4.4 åœ¨<code>css</code>ç›®å½•ä¸‹åˆ›å»º<code>_mixins.styl</code>æ–‡ä»¶</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">border-radius</span>(<span class="selector-tag">n</span>)</span><br><span class="line">  <span class="selector-tag">-webkit-border-radius</span> <span class="selector-tag">n</span></span><br><span class="line">  <span class="selector-tag">-moz-border-radius</span> <span class="selector-tag">n</span></span><br><span class="line">  <span class="selector-tag">border-radius</span> <span class="selector-tag">n</span></span><br><span class="line"></span><br><span class="line">// Media queries</span><br></pre></td></tr></table></figure><h6 id="4-5-åœ¨cssç›®å½•ä¸‹åˆ›å»º-variables-stylæ–‡ä»¶"><a href="#4-5-åœ¨cssç›®å½•ä¸‹åˆ›å»º-variables-stylæ–‡ä»¶" class="headerlink" title="4.5 åœ¨cssç›®å½•ä¸‹åˆ›å»º_variables.stylæ–‡ä»¶"></a>4.5 åœ¨<code>css</code>ç›®å½•ä¸‹åˆ›å»º<code>_variables.styl</code>æ–‡ä»¶</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// Config</span><br><span class="line">support-for-ie = false</span><br><span class="line">vendor-prefixes = webkit moz ms official</span><br><span class="line"></span><br><span class="line">// Fonts</span><br><span class="line">font-size-browser = 62.5%</span><br><span class="line">font-size-base    = 1.4rem</span><br><span class="line">font-family-base  = "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "å¾®è½¯é›…é»‘", Arial, sans-serif</span><br><span class="line">font-line-height  = 1.7</span><br><span class="line"></span><br><span class="line">// Colors</span><br><span class="line">sea           = #1e3e3f</span><br><span class="line">froth-light   = #f4f4f4</span><br><span class="line">white         = #ffffff</span><br><span class="line">sand-light    = #9c8079</span><br><span class="line">sand          = #9e6a4d</span><br><span class="line"></span><br><span class="line">// Border</span><br><span class="line">border-radius   = 0.4rem</span><br><span class="line">border-width    = 0.1rem</span><br><span class="line">border-color    = froth</span><br></pre></td></tr></table></figure><h6 id="4-6-åœ¨cssç›®å½•ä¸‹åˆ›å»ºstyle-stylæ–‡ä»¶"><a href="#4-6-åœ¨cssç›®å½•ä¸‹åˆ›å»ºstyle-stylæ–‡ä»¶" class="headerlink" title="4.6 åœ¨cssç›®å½•ä¸‹åˆ›å»ºstyle.stylæ–‡ä»¶"></a>4.6 åœ¨<code>css</code>ç›®å½•ä¸‹åˆ›å»º<code>style.styl</code>æ–‡ä»¶</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;_variables&quot;</span><br><span class="line">@import &quot;_feathericon&quot;</span><br><span class="line">//@import &quot;_normalize&quot;</span><br><span class="line">@import &quot;_mixins&quot;</span><br><span class="line">@import &quot;search&quot;</span><br><span class="line"></span><br><span class="line">*,</span><br><span class="line">*::before</span><br><span class="line">*::after</span><br><span class="line">  box-sizing border-box</span><br><span class="line"></span><br><span class="line">html</span><br><span class="line">  font-size font-size-browser</span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  background-color body-background</span><br><span class="line">  font-family font-family-base</span><br><span class="line">  font-size font-size-base</span><br><span class="line">  line-height font-line-height</span><br><span class="line">  color body-color</span><br><span class="line">  padding 0</span><br><span class="line">  margin 0</span><br><span class="line">  overflow-x hidden</span><br><span class="line">  text-size-adjust: 100%</span><br><span class="line">  ::selection</span><br><span class="line">    background sea-lighter</span><br><span class="line">    color froth</span><br></pre></td></tr></table></figure><h6 id="4-7-ä¿®æ”¹header-jsæ–‡ä»¶-æ›¿æ¢æ‰æ‰€æœ‰å†…å®¹"><a href="#4-7-ä¿®æ”¹header-jsæ–‡ä»¶-æ›¿æ¢æ‰æ‰€æœ‰å†…å®¹" class="headerlink" title="4.7 ä¿®æ”¹header.jsæ–‡ä»¶(æ›¿æ¢æ‰æ‰€æœ‰å†…å®¹)"></a>4.7 ä¿®æ”¹<code>header.js</code>æ–‡ä»¶(æ›¿æ¢æ‰æ‰€æœ‰å†…å®¹)</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">$</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Search ------------</span></span><br><span class="line">    <span class="keyword">var</span> $searchWrap = $(<span class="string">'.search-form-wrap'</span>),</span><br><span class="line">        isSearchAnim = <span class="literal">false</span>,</span><br><span class="line">        searchAnimDuration = <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> startSearchAnim = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        isSearchAnim = <span class="literal">true</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> stopSearchAnim = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            isSearchAnim = <span class="literal">false</span>;</span><br><span class="line">            callback &amp;&amp; callback();</span><br><span class="line">        &#125;, searchAnimDuration);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    $(<span class="string">'.nav-item-search'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isSearchAnim) <span class="keyword">return</span>;</span><br><span class="line">        startSearchAnim();</span><br><span class="line">        $searchWrap.addClass(<span class="string">'on'</span>);</span><br><span class="line">        stopSearchAnim(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            $(<span class="string">'.local-search-input'</span>).focus();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    $(<span class="built_in">document</span>).mouseup(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> _con = $(<span class="string">'.local-search'</span>);</span><br><span class="line">        <span class="keyword">if</span> (!_con.is(e.target) &amp;&amp; _con.has(e.target).length === <span class="number">0</span>) &#123;</span><br><span class="line">            $searchWrap.removeClass(<span class="string">'on'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç§»åŠ¨è®¾å¤‡ä¾¦æµ‹</span></span><br><span class="line">    <span class="keyword">var</span> isMobile = &#123;</span><br><span class="line">        Android: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/Android/i</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        BlackBerry: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/BlackBerry/i</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        iOS: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/iPhone|iPad|iPod/i</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        Opera: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/Opera Mini/i</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        Windows: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/IEMobile/i</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        any: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// å»ºè®®åœ¨ç§»åŠ¨ç«¯ä¸åˆå§‹åŒ–ï¼Œå…¶å® /search.xml æ–‡ä»¶è¿˜æŒºå¤§çš„ï¼Œ</span></span><br><span class="line">    <span class="keyword">if</span> ($(<span class="string">'.local-search'</span>).size() &amp;&amp; !isMobile.any()) &#123;</span><br><span class="line">        $.getScript(<span class="string">'/js/search.js'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            searchFunc(<span class="string">"/search.xml"</span>, <span class="string">'local-search-input'</span>, <span class="string">'local-search-result'</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Share ------------</span></span><br><span class="line">    $(<span class="string">'body'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'.article-share-box.on'</span>).removeClass(<span class="string">'on'</span>);</span><br><span class="line">    &#125;).on(<span class="string">'click'</span>, <span class="string">'.article-share-link'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        e.stopPropagation();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> $<span class="keyword">this</span> = $(<span class="keyword">this</span>),</span><br><span class="line">            url = $<span class="keyword">this</span>.attr(<span class="string">'data-url'</span>),</span><br><span class="line">            encodedUrl = <span class="built_in">encodeURIComponent</span>(url),</span><br><span class="line">            id = <span class="string">'article-share-box-'</span> + $<span class="keyword">this</span>.attr(<span class="string">'data-id'</span>),</span><br><span class="line">            offset = $<span class="keyword">this</span>.offset();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ($(<span class="string">'#'</span> + id).length) &#123;</span><br><span class="line">            <span class="keyword">var</span> box = $(<span class="string">'#'</span> + id);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (box.hasClass(<span class="string">'on'</span>)) &#123;</span><br><span class="line">                box.removeClass(<span class="string">'on'</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">var</span> html = [</span><br><span class="line">                <span class="string">'&lt;div id="'</span> + id + <span class="string">'" class="article-share-box"&gt;'</span>,</span><br><span class="line">                <span class="string">'&lt;input class="article-share-input" value="'</span> + url + <span class="string">'"&gt;'</span>,</span><br><span class="line">                <span class="string">'&lt;div class="article-share-links"&gt;'</span>,</span><br><span class="line">                <span class="string">'&lt;a href="https://twitter.com/intent/tweet?url='</span> + encodedUrl + <span class="string">'" class="article-share-twitter" target="_blank" title="Twitter"&gt;&lt;/a&gt;'</span>,</span><br><span class="line">                <span class="string">'&lt;a href="https://www.facebook.com/sharer.php?u='</span> + encodedUrl + <span class="string">'" class="article-share-facebook" target="_blank" title="Facebook"&gt;&lt;/a&gt;'</span>,</span><br><span class="line">                <span class="string">'&lt;a href="http://pinterest.com/pin/create/button/?url='</span> + encodedUrl + <span class="string">'" class="article-share-pinterest" target="_blank" title="Pinterest"&gt;&lt;/a&gt;'</span>,</span><br><span class="line">                <span class="string">'&lt;a href="https://plus.google.com/share?url='</span> + encodedUrl + <span class="string">'" class="article-share-google" target="_blank" title="Google+"&gt;&lt;/a&gt;'</span>,</span><br><span class="line">                <span class="string">'&lt;/div&gt;'</span>,</span><br><span class="line">                <span class="string">'&lt;/div&gt;'</span></span><br><span class="line">            ].join(<span class="string">''</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> box = $(html);</span><br><span class="line">            $(<span class="string">'body'</span>).append(box);</span><br><span class="line">        &#125;</span><br><span class="line">        $(<span class="string">'.article-share-box.on'</span>).hide();</span><br><span class="line"></span><br><span class="line">        box.css(&#123;</span><br><span class="line">            top: offset.top + <span class="number">25</span>,</span><br><span class="line">            left: offset.left</span><br><span class="line">        &#125;).addClass(<span class="string">'on'</span>);</span><br><span class="line">    &#125;).on(<span class="string">'click'</span>, <span class="string">'.article-share-box'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        e.stopPropagation();</span><br><span class="line">    &#125;).on(<span class="string">'click'</span>, <span class="string">'.article-share-box-input'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="keyword">this</span>).select();</span><br><span class="line">    &#125;).on(<span class="string">'click'</span>, <span class="string">'.article-share-box-link'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        e.preventDefault();</span><br><span class="line">        e.stopPropagation();</span><br><span class="line"></span><br><span class="line">        <span class="built_in">window</span>.open(<span class="keyword">this</span>.href, <span class="string">'article-share-box-window-'</span> + <span class="built_in">Date</span>.now(), <span class="string">'width=500,height=450'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// fancybox</span></span><br><span class="line">    <span class="keyword">if</span> ($.fancybox) &#123;</span><br><span class="line">        $(<span class="string">'[data-fancybox]'</span>).fancybox(&#123;</span><br><span class="line">            protect: <span class="literal">true</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// lazyload</span></span><br><span class="line">    <span class="comment">//$(".lazy").lazyload();</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params">$</span>) </span>&#123;</span><br><span class="line">        $(<span class="string">".anchor"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">            event.preventDefault();</span><br><span class="line">            $(<span class="string">'html,body'</span>).animate(&#123;<span class="attr">scrollTop</span>: $(<span class="keyword">this</span>.hash).offset().top&#125;, <span class="number">500</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Mobile nav</span></span><br><span class="line">    <span class="keyword">var</span> $content = $(<span class="string">'.content'</span>),</span><br><span class="line">        $sidebar = $(<span class="string">'.sidebar'</span>),</span><br><span class="line">        isMobileNavAnim = <span class="literal">false</span>,</span><br><span class="line">        mobileNavAnimDuration = <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> startMobileNavAnim = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        isMobileNavAnim = <span class="literal">true</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> stopMobileNavAnim = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            isMobileNavAnim = <span class="literal">false</span>;</span><br><span class="line">        &#125;, mobileNavAnimDuration);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    $(<span class="string">'.navbar-toggle'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isMobileNavAnim) <span class="keyword">return</span>;</span><br><span class="line">        startMobileNavAnim();</span><br><span class="line">        $content.toggleClass(<span class="string">'on'</span>);</span><br><span class="line">        $sidebar.toggleClass(<span class="string">'on'</span>);</span><br><span class="line">        stopMobileNavAnim();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    $($content).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isMobileNavAnim || !$content.hasClass(<span class="string">'on'</span>)) <span class="keyword">return</span>;</span><br><span class="line">        $content.removeClass(<span class="string">'on'</span>);</span><br><span class="line">        $sidebar.removeClass(<span class="string">'on'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;)(jQuery);</span><br></pre></td></tr></table></figure><h6 id="4-8-å¼•å…¥jquery-2-0-3-min-js"><a href="#4-8-å¼•å…¥jquery-2-0-3-min-js" class="headerlink" title="4.8 å¼•å…¥jquery-2.0.3.min.js"></a>4.8 å¼•å…¥<code>jquery-2.0.3.min.js</code></h6><h6 id="4-9-åˆ›å»ºsearch-jsæ–‡ä»¶"><a href="#4-9-åˆ›å»ºsearch-jsæ–‡ä»¶" class="headerlink" title="4.9 åˆ›å»ºsearch.jsæ–‡ä»¶"></a>4.9 åˆ›å»º<code>search.js</code>æ–‡ä»¶</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A local search script with the help of [hexo-generator-search](https://github.com/PaicHyperionDev/hexo-generator-search)</span></span><br><span class="line"><span class="comment">// Copyright (C) 2015 </span></span><br><span class="line"><span class="comment">// Joseph Pan &lt;http://github.com/wzpan&gt;</span></span><br><span class="line"><span class="comment">// Shuhao Mao &lt;http://github.com/maoshuhao&gt;</span></span><br><span class="line"><span class="comment">// This library is free software; you can redistribute it and/or modify</span></span><br><span class="line"><span class="comment">// it under the terms of the GNU Lesser General Public License as</span></span><br><span class="line"><span class="comment">// published by the Free Software Foundation; either version 2.1 of the</span></span><br><span class="line"><span class="comment">// License, or (at your option) any later version.</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// This library is distributed in the hope that it will be useful, but</span></span><br><span class="line"><span class="comment">// WITHOUT ANY WARRANTY; without even the implied warranty of</span></span><br><span class="line"><span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></span><br><span class="line"><span class="comment">// Lesser General Public License for more details.</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// You should have received a copy of the GNU Lesser General Public</span></span><br><span class="line"><span class="comment">// License along with this library; if not, write to the Free Software</span></span><br><span class="line"><span class="comment">// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA</span></span><br><span class="line"><span class="comment">// 02110-1301 USA</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> searchFunc = <span class="function"><span class="keyword">function</span> (<span class="params">path, search_id, content_id</span>) </span>&#123;</span><br><span class="line"><span class="meta">  'use strict'</span>;</span><br><span class="line">  <span class="keyword">var</span> BTN = <span class="string">"&lt;button type='button' class='local-search-close' id='local-search-close'&gt;&lt;/button&gt;"</span>;</span><br><span class="line">  $.ajax(&#123;</span><br><span class="line">    url: path,</span><br><span class="line">    dataType: <span class="string">"xml"</span>,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span> (<span class="params">xmlResponse</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// get the contents from search data</span></span><br><span class="line">      <span class="keyword">var</span> datas = $(<span class="string">"entry"</span>, xmlResponse).map(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          title: $(<span class="string">"title"</span>, <span class="keyword">this</span>).text(),</span><br><span class="line">          content: $(<span class="string">"content"</span>, <span class="keyword">this</span>).text(),</span><br><span class="line">          url: $(<span class="string">"url"</span>, <span class="keyword">this</span>).text()</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;).get();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> $input = <span class="built_in">document</span>.getElementById(search_id);</span><br><span class="line">      <span class="keyword">var</span> $resultContent = <span class="built_in">document</span>.getElementById(content_id);</span><br><span class="line"></span><br><span class="line">      $input.addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> str = <span class="string">'&lt;ul class="search-result-list"&gt;'</span>;</span><br><span class="line">        <span class="keyword">var</span> keywords = <span class="keyword">this</span>.value.trim().toLowerCase().split(<span class="regexp">/[\s]+/</span>);</span><br><span class="line">        $resultContent.innerHTML = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.value.trim().length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// perform local searching</span></span><br><span class="line">        datas.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">var</span> isMatch = <span class="literal">true</span>;</span><br><span class="line">          <span class="comment">// var content_index = [];</span></span><br><span class="line">          <span class="keyword">if</span> (!data.title || data.title.trim() === <span class="string">''</span>) &#123;</span><br><span class="line">            data.title = <span class="string">"Untitled"</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">var</span> data_title = data.title.trim().toLowerCase();</span><br><span class="line">          <span class="keyword">var</span> data_content = data.content.trim().replace(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">""</span>).toLowerCase();</span><br><span class="line">          <span class="keyword">var</span> data_url = data.url;</span><br><span class="line">          <span class="keyword">var</span> index_title = <span class="number">-1</span>;</span><br><span class="line">          <span class="keyword">var</span> index_content = <span class="number">-1</span>;</span><br><span class="line">          <span class="keyword">var</span> first_occur = <span class="number">-1</span>;</span><br><span class="line">          <span class="comment">// only match artiles with not empty contents</span></span><br><span class="line">          <span class="keyword">if</span> (data_content !== <span class="string">''</span>) &#123;</span><br><span class="line">            keywords.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">keyword, i</span>) </span>&#123;</span><br><span class="line">              index_title = data_title.indexOf(keyword);</span><br><span class="line">              index_content = data_content.indexOf(keyword);</span><br><span class="line"></span><br><span class="line">              <span class="keyword">if</span> (index_title &lt; <span class="number">0</span> &amp;&amp; index_content &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                isMatch = <span class="literal">false</span>;</span><br><span class="line">              &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (index_content &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                  index_content = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                  first_occur = index_content;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// content_index.push(&#123;index_content:index_content, keyword_len:keyword_len&#125;);</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            isMatch = <span class="literal">false</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">// show search results</span></span><br><span class="line">          <span class="keyword">if</span> (isMatch) &#123;</span><br><span class="line">            str += <span class="string">"&lt;li&gt;&lt;a href='"</span> + data_url + <span class="string">"' class='search-result-title'&gt;"</span> + data_title + <span class="string">"&lt;/a&gt;"</span>;</span><br><span class="line">            <span class="keyword">var</span> content = data.content.trim().replace(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">""</span>);</span><br><span class="line">            <span class="keyword">if</span> (first_occur &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">              <span class="comment">// cut out 100 characters</span></span><br><span class="line">              <span class="keyword">var</span> start = first_occur - <span class="number">20</span>;</span><br><span class="line">              <span class="keyword">var</span> end = first_occur + <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line">              <span class="keyword">if</span> (start &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                start = <span class="number">0</span>;</span><br><span class="line">              &#125;</span><br><span class="line"></span><br><span class="line">              <span class="keyword">if</span> (start == <span class="number">0</span>) &#123;</span><br><span class="line">                end = <span class="number">100</span>;</span><br><span class="line">              &#125;</span><br><span class="line"></span><br><span class="line">              <span class="keyword">if</span> (end &gt; content.length) &#123;</span><br><span class="line">                end = content.length;</span><br><span class="line">              &#125;</span><br><span class="line"></span><br><span class="line">              <span class="keyword">var</span> match_content = content.substr(start, end);</span><br><span class="line"></span><br><span class="line">              <span class="comment">// highlight all keywords</span></span><br><span class="line">              keywords.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">keyword</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> regS = <span class="keyword">new</span> <span class="built_in">RegExp</span>(keyword, <span class="string">"gi"</span>);</span><br><span class="line">                match_content = match_content.replace(regS, <span class="string">"&lt;em class=\"search-keyword\"&gt;"</span> + keyword + <span class="string">"&lt;/em&gt;"</span>);</span><br><span class="line">              &#125;);</span><br><span class="line"></span><br><span class="line">              str += <span class="string">"&lt;p class=\"search-result\"&gt;"</span> + match_content + <span class="string">"...&lt;/p&gt;"</span></span><br><span class="line">            &#125;</span><br><span class="line">            str += <span class="string">"&lt;/li&gt;"</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        str += <span class="string">"&lt;/ul&gt;"</span>;</span><br><span class="line">        <span class="keyword">if</span> (str.indexOf(<span class="string">'&lt;li&gt;'</span>) === <span class="number">-1</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> $resultContent.innerHTML = BTN + <span class="string">"&lt;div class=\"search-result-empty\"&gt;&lt;p&gt;&lt;i class=\"fe fe-tired\"&gt;&lt;/i&gt; æ²¡æœ‰æ‰¾åˆ°å†…å®¹ï¼Œæ›´æ¢ä¸‹æœç´¢è¯è¯•è¯•å§~&lt;p&gt;&lt;/div&gt;"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        $resultContent.innerHTML = BTN + str;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  $(<span class="built_in">document</span>).on(<span class="string">'click'</span>, <span class="string">'#local-search-close'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'#local-search-input'</span>).val(<span class="string">''</span>);</span><br><span class="line">    $(<span class="string">'#local-search-result'</span>).html(<span class="string">''</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h6 id="4-10-æœ€åä¿®æ”¹head-ejsæ–‡ä»¶-å¼•å…¥jså’Œcss"><a href="#4-10-æœ€åä¿®æ”¹head-ejsæ–‡ä»¶-å¼•å…¥jså’Œcss" class="headerlink" title="4.10 æœ€åä¿®æ”¹head.ejsæ–‡ä»¶,å¼•å…¥jså’Œcss"></a>4.10 æœ€åä¿®æ”¹<code>head.ejs</code>æ–‡ä»¶,å¼•å…¥<code>js</code>å’Œ<code>css</code></h6><p><img src="/images/pasted-20.png" alt="filename already exists, renamed"></p><h5 id="äº”-æ·»åŠ ç½®é¡¶åŠŸèƒ½"><a href="#äº”-æ·»åŠ ç½®é¡¶åŠŸèƒ½" class="headerlink" title="äº”. æ·»åŠ ç½®é¡¶åŠŸèƒ½"></a>äº”. æ·»åŠ ç½®é¡¶åŠŸèƒ½</h5><h6 id="5-1-åœ¨hexoç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤"><a href="#5-1-åœ¨hexoç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤" class="headerlink" title="5.1 åœ¨hexoç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤"></a>5.1 åœ¨<code>hexo</code>ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-generator-index --save</span><br><span class="line"></span><br><span class="line">npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></table></figure><h6 id="5-2-åœ¨index-ejsåŠ å…¥ä»¥ä¸‹ä»£ç "><a href="#5-2-åœ¨index-ejsåŠ å…¥ä»¥ä¸‹ä»£ç " class="headerlink" title="5.2 åœ¨index.ejsåŠ å…¥ä»¥ä¸‹ä»£ç "></a>5.2 åœ¨<code>index.ejs</code>åŠ å…¥ä»¥ä¸‹ä»£ç </h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if(psg.top === true) &#123;%&gt;</span><br><span class="line">  &lt;i class=&quot;fa fa-thumb-tack&quot;&gt;&lt;/i&gt;</span><br><span class="line">  &lt;font color=7D26CD&gt;ç½®é¡¶&lt;/font&gt; |</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p><img src="/images/pasted-21.png" alt="filename already exists, renamed"></p><h6 id="5-3-åœ¨éœ€è¦ç½®é¡¶çš„åšæ–‡ä¸­æ·»åŠ "><a href="#5-3-åœ¨éœ€è¦ç½®é¡¶çš„åšæ–‡ä¸­æ·»åŠ " class="headerlink" title="5.3 åœ¨éœ€è¦ç½®é¡¶çš„åšæ–‡ä¸­æ·»åŠ "></a>5.3 åœ¨éœ€è¦ç½®é¡¶çš„åšæ–‡ä¸­æ·»åŠ </h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">top: true</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h5 id="å…­-ä½¿ç”¨hexo-neatå‹ç¼©é¡µé¢"><a href="#å…­-ä½¿ç”¨hexo-neatå‹ç¼©é¡µé¢" class="headerlink" title="å…­. ä½¿ç”¨hexo-neatå‹ç¼©é¡µé¢"></a>å…­. ä½¿ç”¨<code>hexo-neat</code>å‹ç¼©é¡µé¢</h5><h6 id="6-1-å®‰è£…hexo-neatæ’ä»¶"><a href="#6-1-å®‰è£…hexo-neatæ’ä»¶" class="headerlink" title="6.1 å®‰è£…hexo-neatæ’ä»¶"></a>6.1 å®‰è£…hexo-neatæ’ä»¶</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-neat --save</span><br></pre></td></tr></table></figure><h6 id="6-2-åœ¨ç«™ç‚¹-config-ymlé…ç½®æ–‡ä»¶ä¸­æ·»åŠ é…ç½®"><a href="#6-2-åœ¨ç«™ç‚¹-config-ymlé…ç½®æ–‡ä»¶ä¸­æ·»åŠ é…ç½®" class="headerlink" title="6.2 åœ¨ç«™ç‚¹_config.ymlé…ç½®æ–‡ä»¶ä¸­æ·»åŠ é…ç½®"></a>6.2 åœ¨ç«™ç‚¹<code>_config.yml</code>é…ç½®æ–‡ä»¶ä¸­æ·»åŠ é…ç½®</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># hexo-neat</span><br><span class="line"># åšæ–‡å‹ç¼©</span><br><span class="line">neat_enable: true</span><br><span class="line"># å‹ç¼©html</span><br><span class="line">neat_html:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line"># å‹ç¼©css: è¿™é‡Œåªæ˜¯å‹ç¼©é¡µé¢çš„css,å¦‚æœæ˜¯åœ¨sourceç›®å½•ä¸‹çš„cssè¦åœ¨excludeç§»é™¤æ‰,å¦åˆ™å‹ç¼©åä¼šç›´æ¥å˜æˆä¸€ä¸ªç©ºæ–‡ä»¶  </span><br><span class="line">neat_css:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line">    - &apos;**/*.min.css&apos;</span><br><span class="line"># å‹ç¼©js:(åŒcssè¯´æ˜)</span><br><span class="line">neat_js:</span><br><span class="line">  enable: true</span><br><span class="line">  mangle: true</span><br><span class="line">  output:</span><br><span class="line">  compress:</span><br><span class="line">  exclude:</span><br><span class="line">    - &apos;**/*.min.js&apos;</span><br><span class="line">    - &apos;**/jquery.fancybox.pack.js&apos;</span><br><span class="line">    - &apos;**/index.js&apos;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Hexoä¹‹çæŠ˜è…¾ç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> åšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker-å®‰è£…(CentOS7)</title>
      <link href="/2019/03/27/Untitled/"/>
      <url>/2019/03/27/Untitled/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sat Jul 06 2019 13:04:05 GMT+0800 (China Standard Time) --><blockquote><p>CentOS7<code>docker</code>å®‰è£…æ­¥éª¤<br><a id="more"></a></p></blockquote><p>1.å®‰è£…éœ€è¦çš„è½¯ä»¶åŒ…:yum-utilæä¾›yum-config-manageråŠŸèƒ½<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></table></figure><p></p><p>ps:å¦‚æœå®‰è£…è¿‡docker,éœ€è¦é‡è£…å¯ä»¥å…ˆåˆ é™¤åœ¨è£…:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// æŸ¥çœ‹æ˜¯å¦æœ‰å®‰è£…</span><br><span class="line">dockeryum list installed | grep docker</span><br><span class="line">    </span><br><span class="line">//æœ‰åˆ™åˆ é™¤å¯¹åº”çš„åŒ…</span><br><span class="line">yum remove docker ......</span><br></pre></td></tr></table></figure><p></p><!-- more --><p>1.å®‰è£…éœ€è¦çš„è½¯ä»¶åŒ…:yum-utilæä¾›yum-config-manageråŠŸèƒ½<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></table></figure><p></p><p>ps:å¦‚æœå®‰è£…è¿‡docker,éœ€è¦é‡è£…å¯ä»¥å…ˆåˆ é™¤åœ¨è£…:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// æŸ¥çœ‹æ˜¯å¦æœ‰å®‰è£…</span><br><span class="line">dockeryum list installed | grep docker</span><br><span class="line">    </span><br><span class="line">//æœ‰åˆ™åˆ é™¤å¯¹åº”çš„åŒ…</span><br><span class="line">yum remove docker ......</span><br></pre></td></tr></table></figure><p></p><p><br><br>2.è®¾ç½®yumæº(é˜¿é‡Œæº)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure><p><br><br>3.æŸ¥çœ‹yumåº“ä¸­æœ‰æ²¡æœ‰docker-ce</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list | grep docker-ce</span><br></pre></td></tr></table></figure><p><img src="/images/pasted-0.png" alt="filename already exists, renamed"></p><p>4.å®‰è£…docker</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y docker-ce</span><br></pre></td></tr></table></figure><p><br><br>5.å¦‚æœéœ€è¦è®¾ç½®å¼€æœºè‡ªåŠ¨å¯åŠ¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//å…ˆå¯åŠ¨dockeræœåŠ¡ç«¯</span><br><span class="line">systemctl start docker</span><br><span class="line"></span><br><span class="line">//å¯åŠ¨dockeræœåŠ¡å¼€æœºè‡ªå¯</span><br><span class="line">systemctl enable docker</span><br></pre></td></tr></table></figure><p><br><br>6.æ ¡éªŒdockeræ˜¯å¦å¯åŠ¨æˆåŠŸ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker version</span><br></pre></td></tr></table></figure><p><img src="/images/pasted-1.png" alt="filename already exists, renamed"><br><br></p><h5 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜:"></a>å¸¸è§é—®é¢˜:</h5><h5 id="æ™®é€šç”¨æˆ·è¿è¡Œdocker-å‘½ä»¤ä¼šæŠ¥é”™"><a href="#æ™®é€šç”¨æˆ·è¿è¡Œdocker-å‘½ä»¤ä¼šæŠ¥é”™" class="headerlink" title="ã€€ã€€æ™®é€šç”¨æˆ·è¿è¡Œdocker å‘½ä»¤ä¼šæŠ¥é”™:"></a>ã€€ã€€æ™®é€šç”¨æˆ·è¿è¡Œdocker å‘½ä»¤ä¼šæŠ¥é”™:</h5><p>ç”±äºdocker daemonéœ€è¦ç»‘å®šåˆ°ä¸»æœºçš„ Unix socket è€Œä¸æ˜¯æ™®é€šçš„TCPç«¯å£,è€Œ Unix socket çš„å®¿ä¸»ä¸º root ç”¨æˆ·,å¦‚æœå…¶ä»–ç”¨æˆ·ä½¿ç”¨ docker å‘½ä»¤åªæœ‰åœ¨å‘½ä»¤é’±æ·»åŠ  sudo æ‰èƒ½æ‰§è¡ŒæˆåŠŸ,å¦‚æœä¸æƒ³æ¯æ¬¡ä½¿ç”¨ docker å‘½ä»¤æ˜¯è¿˜è¦å¤šæ•² sudo ,å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ–¹æ³•è§£å†³:<br>s<br>1.åˆ‡æ¢åˆ° root ç”¨æˆ·</p><p>2.æŠŠæ™®é€šç”¨æˆ·æ·»åŠ åˆ° docker ç»„</p><p>3.å†åˆ‡æ¢åˆ°&lt;æ™®é€šç”¨æˆ·&gt;</p><p>4.éªŒè¯ docker å‘½ä»¤æ˜¯å¦æˆåŠŸ</p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> dockerå®¹å™¨ç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
