<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[LocalDateÊìç‰ΩúÊó∂Èó¥]]></title>
    <url>%2F2019%2F08%2F10%2FLocalDate%E6%93%8D%E4%BD%9C%E6%97%B6%E9%97%B4%2F</url>
    <content type="text"><![CDATA[ËÆ∞ÂΩïÂ∑•ÂÖ∑Á±ªAPIüëá: Â≠óÁ¨¶‰∏≤ËΩ¨LocalDate Ëé∑ÂèñËøûÁª≠Êó∂Èó¥ÈõÜÂêà Ëé∑ÂèñËøûÁª≠Êó∂Èó¥ÈõÜÂêà12// ÈªòËÆ§ÁöÑÊó∂Èó¥Ê†ºÂºèpublic static final String DEFUALT_SHOT_TIME_FORMAT = "yyyy-MM-dd";12// ÈªòËÆ§ÁöÑÊó∂Èó¥Ê†ºÂºèpublic static final String DEFUALT_SHOT_TIME_FORMAT = "yyyy-MM-dd";1. Â≠óÁ¨¶‰∏≤ËΩ¨LocalDate123456789/** * * @param time Êó∂Èó¥yyyy-MM-dd * @return */ public static LocalDateTime stringToLocalDate(String time) &#123; DateTimeFormatter df = DateTimeFormatter.ofPattern("yyyy-MM-dd"); return LocalDateTime.parse(time, df); &#125;2. ‰∏§‰∏™Êó∂Èó¥Áõ∏Â∑ÆÂ§öÂ∞ëÂ§©123456789101112131415/** * Ëé∑Âèñ‰∏§‰∏™Êó∂Èó¥Áõ∏Â∑ÆÂ§öÂ∞ëÂ§© * * @param dates * @return */ public static long getDiffDays(String[] dates) &#123; if (dates.length &lt; 2) &#123; return 1; &#125; DateTimeFormatter fmt = DateTimeFormatter.ofPattern("yyyy-MM-dd"); LocalDate begin = LocalDate.parse(dates[0], fmt); LocalDate end = LocalDate.parse(dates[1], fmt); return end.toEpochDay() - begin.toEpochDay() + 1; &#125;3. Ëé∑ÂèñËøûÁª≠Êó∂Èó¥ÈõÜÂêà1234567891011121314151617/** * Êï∞ÊçÆÂ°´ÂÖÖ * ÂèØÊìç‰Ωú: Â§©/Âë®/Êúà/Âπ¥ * @param time Èó¥ÈöîÂ§©Êï∞ * @param begin ÂºÄÂßãÊó∂Èó¥ * @return */ public static List&lt;String&gt; getRangeIncres2(long time, String begin) &#123; List&lt;String&gt; list = Lists.newArrayList(); DateTimeFormatter fmt = DateTimeFormatter.ofPattern("yyyy-MM-dd"); LocalDate localDate = LocalDate.parse(begin, fmt); for (int i = 0; i &lt; time; i++) &#123; list.add(localDate.plusDays(i).toString()); &#125; return list; &#125;]]></content>
      <categories>
        <category>Â∑•ÂÖ∑Á±ªÊî∂Ëóè</category>
      </categories>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ElasticSearch ‰∏≠boolQueryBuilderÁöÑ‰ΩøÁî®]]></title>
    <url>%2F2019%2F08%2F08%2FElasticSearch-%E4%B8%ADboolQueryBuilder%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[BoolÊü•ËØ¢Áé∞Âú®ÂåÖÊã¨ÂõõÁßçÂ≠êÂè•ÔºåmustÔºåfilter,should,must_not.ËΩ¨ËΩΩËá™:https://blog.csdn.net/metheir/article/details/850803341. ‰∏∫‰ªÄ‰πàfilter‰ºöÂø´ÔºüÁúã‰∏äÈù¢ÁöÑÊµÅÁ®ãÂõæÂ∞±ËÉΩÂæàÊòéÊòæÁöÑÁúãÂà∞Ôºåfilter‰∏équeryËøòÊòØÊúâÂæàÂ§ßÁöÑÂå∫Âà´ÁöÑ„ÄÇÊØîÂ¶ÇÔºåqueryÁöÑÊó∂ÂÄôÔºå‰ºöÂÖàÊØîËæÉÊü•ËØ¢Êù°‰ª∂ÔºåÁÑ∂ÂêéËÆ°ÁÆóÂàÜÂÄºÔºåÊúÄÂêéËøîÂõûÊñáÊ°£ÁªìÊûúÔºõËÄåfilterÂàôÊòØÂÖàÂà§Êñ≠ÊòØÂê¶Êª°Ë∂≥Êü•ËØ¢Êù°‰ª∂ÔºåÂ¶ÇÊûú‰∏çÊª°Ë∂≥Ôºå‰ºöÁºìÂ≠òÊü•ËØ¢ËøáÁ®ãÔºàËÆ∞ÂΩïËØ•ÊñáÊ°£‰∏çÊª°Ë∂≥ÁªìÊûúÔºâÔºõÊª°Ë∂≥ÁöÑËØùÔºåÂ∞±Áõ¥Êé•ÁºìÂ≠òÁªìÊûú„ÄÇÁªº‰∏äÊâÄËø∞ÔºåfilterÂø´Âú®‰∏§‰∏™ÊñπÈù¢Ôºö1 ÂØπÁªìÊûúËøõË°åÁºìÂ≠ò2 ÈÅøÂÖçËÆ°ÁÆóÂàÜÂÄº2. boolÊü•ËØ¢ÁöÑ‰ΩøÁî®BoolÊü•ËØ¢ÂØπÂ∫îLucene‰∏≠ÁöÑBooleanQuery,ÂÆÉÁî±‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™Â≠êÂè•ÁªÑÊàê,ÊØè‰∏™Â≠êÂè•ÈÉΩÊúâÁâπÂÆöÁöÑÁ±ªÂûãmustËøîÂõûÁöÑÊñáÊ°£ÂøÖÈ°ªÊª°Ë∂≥mustÂ≠êÂè•ÁöÑÊù°‰ª∂,Âπ∂‰∏îÂèÇ‰∏éËÆ°ÁÆóÂàÜÂÄºfilterËøîÂõûÁöÑÊñáÊ°£ÂøÖÈ°ªÊª°Ë∂≥filterÂ≠êÂè•ÁöÑÊù°‰ª∂,‰ΩÜÊòØ‰∏ç‰ºöÂÉèmust‰∏ÄÊ†∑,ÂèÇ‰∏éËÆ°ÁÆóÂàÜÂÄºshouldËøîÂõûÁöÑÊñáÊ°£ÂèØËÉΩÊª°Ë∂≥shouldÂ≠êÂè•ÁöÑÊù°‰ª∂.Âú®‰∏Ä‰∏™boolÊü•ËØ¢‰∏≠,Â¶ÇÊûúÊ≤°ÊúâmustÊàñËÄÖfilter,Êúâ‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™shouldÂ≠êÂè•,ÈÇ£‰πàÂè™Ë¶ÅÊª°Ë∂≥‰∏Ä‰∏™Â∞±ÂèØ‰ª•ËøîÂõû.minimum_should_matchÂèÇÊï∞ÂÆö‰πâ‰∫ÜËá≥Â∞ëÊª°Ë∂≥Âá†‰∏™Â≠êÂè•.must_notËøîÂõûÁöÑÊñáÊ°£ÂøÖÈ°ª‰∏çÊª°Ë∂≥ÂÆö‰πâÁöÑÊù°‰ª∂Â¶ÇÊûú‰∏Ä‰∏™Êü•ËØ¢Êó¢ÊúâfilterÂèàÊúâshould,ÈÇ£‰πàËá≥Â∞ëÂåÖÂê´‰∏Ä‰∏™shouldÂ≠êÂè•.boolÊü•ËØ¢‰πüÊîØÊåÅÁ¶ÅÁî®ÂçèÂêåËÆ°ÂàÜÈÄâÈ°πdisable_coord.‰∏ÄËà¨ËÆ°ÁÆóÂàÜÂÄºÁöÑÂõ†Á¥†ÂèñÂÜ≥‰∫éÊâÄÊúâÁöÑÊü•ËØ¢Êù°‰ª∂.boolÊü•ËØ¢‰πüÊòØÈááÁî®more_matches_is_betterÁöÑÊú∫Âà∂,Âõ†Ê≠§Êª°Ë∂≥mustÂíåshouldÂ≠êÂè•ÁöÑÊñáÊ°£Â∞Ü‰ºöÂêàÂπ∂Ëµ∑Êù•ËÆ°ÁÆóÂàÜÂÄº.3.JavaAPI‰ΩøÁî®1234567891011121314151617@Testpublic void searchApi2() throws IOException &#123; SearchRequest searchRequest = new SearchRequest("item"); SearchSourceBuilder sourceBuilder = new SearchSourceBuilder(); BoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery(); // ÂøÖÈ°ªÂåπÈÖçÊù°‰ª∂ boolQueryBuilder.must(QueryBuilders.matchQuery("scompCode", "G0000001")); // Ê®°Á≥äÊü•ËØ¢ boolQueryBuilder.filter(QueryBuilders.wildcardQuery("itemDesc", "*ÊâãÊú∫*")); // ËåÉÂõ¥Êü•ËØ¢ from:Áõ∏ÂΩì‰∫éÈó≠Âå∫Èó¥; gt:Áõ∏ÂΩì‰∫éÂºÄÂå∫Èó¥(&gt;) gte:Áõ∏ÂΩì‰∫éÈó≠Âå∫Èó¥ (&gt;=) lt:ÂºÄÂå∫Èó¥(&lt;) lte:Èó≠Âå∫Èó¥ (&lt;=) boolQueryBuilder.filter(QueryBuilders.rangeQuery("itemPrice").from(4500).to(8899)); sourceBuilder.query(boolQueryBuilder); searchRequest.source(sourceBuilder); SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT); logger.info("Êü•ËØ¢Êï∞ÊçÆ:&#123;&#125;", Arrays.toString(searchResponse.getHits().getHits()));&#125;]]></content>
      <categories>
        <category>ElasticSearchÁ≥ªÂàó</category>
      </categories>
      <tags>
        <tag>ElasticSearch</tag>
        <tag>ËΩ¨ËΩΩ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ElasticSearch API]]></title>
    <url>%2F2019%2F08%2F07%2FElasticSearch-API%2F</url>
    <content type="text"><![CDATA[ElasticSearch java APIÂ∫îÁî®https://www.elastic.co/guide/en/elasticsearch/client/java-rest/7.0/java-rest-high-document-index.html1. ÂàõÂª∫Á¥¢Âºï12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061public class ElasticsearchRestClient &#123; private static final Logger logger = LogManager.getLogger(ElasticsearchRestClient.class); @Before public void beforGet() &#123; client = new RestHighLevelClient( RestClient.builder(new HttpHost("106.14.116.156", 9200, "http"))); logger.info("ESÂÆ¢Êà∑Á´ØÂàùÂßãÂåñ"); &#125; @After public void afterGet() throws IOException &#123; client.close(); logger.info("ÂÖ≥Èó≠ESËøûÊé•"); &#125; /** * ÂàõÂª∫Á¥¢Âºï * * @throws IOException */ @Test public void createIndex() throws IOException &#123; GetIndexRequest getIndexRequest = new GetIndexRequest("item"); // Á¥¢ÂºïÊòØÂê¶Â≠òÂú® boolean exists = client.indices().exists(getIndexRequest, RequestOptions.DEFAULT); if (!exists) &#123; CreateIndexRequest request = new CreateIndexRequest("item"); XContentBuilder builder = XContentFactory.jsonBuilder(); builder.startObject(); &#123; // Âõ∫ÂÆöÊ†ºÂºè builder.startObject("properties"); &#123; // itemCodeÂ≠óÊÆµ builder.startObject("itemCode"); &#123; // Â≠óÊÆµÂ±ûÊÄß builder.field("type", "keyword"); &#125; builder.endObject(); // itemDescÂ≠óÊÆµ builder.startObject("itemDesc"); &#123; // Â≠óÊÆµÂ±ûÊÄß builder.field("type", "keyword"); &#125; builder.endObject(); &#125; builder.endObject(); &#125; builder.endObject(); request.mapping("doc", builder); CreateIndexResponse createIndexResponse = client.indices().create(request, RequestOptions.DEFAULT); logger.info("ÂàõÂª∫Á¥¢ÂºïÁªìÊûú:&#123;&#125;", createIndexResponse.isAcknowledged()); &#125; else &#123; logger.info("[employee]Á¥¢ÂºïÂ∑≤ÁªèÂ≠òÂú®"); &#125; &#125;&#125;2.Êñ∞Â¢ûÊï∞ÊçÆ12345678910111213141516171819202122/** * Êñ∞Â¢ûÊï∞ÊçÆ * * @param client * @param index Á¥¢Âºï * @param id ÊñáÊ°£id * @param jsonMap ÈúÄË¶ÅÂª∫Á´ãÁ¥¢ÂºïÁöÑÊï∞ÊçÆ key:Â≠óÊÆµ,value:ÂÄº */ public static void index(RestHighLevelClient client, String index,String id, Map&lt;String, Object&gt; jsonMap) &#123; IndexRequest indexRequest = new IndexRequest(index); // id‰∏∫Á©∫ÂàôËá™Âä®ÁîüÊàêid if (StringUtil.isNotEmpty(id)) &#123; indexRequest.id(id); &#125; indexRequest.source(jsonMap); try &#123; IndexResponse response = client.index(indexRequest, RequestOptions.DEFAULT); logger.info("Á¥¢ÂºïÁªìÊûú:&#123;&#125;", response.status().getStatus()); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125;3.Âà†Èô§Êï∞ÊçÆ12345678910111213141516171819/** * Âà†Èô§Êï∞ÊçÆ * * @param client * @param index Á¥¢ÂºïÂêçÁß∞ * @param id ÊñáÊ°£id */ @Test public static void delete(RestHighLevelClient client, String index,String id) &#123; DeleteRequest request = new DeleteRequest(index, id); DeleteResponse deleteResponse = null; try &#123; deleteResponse = client.delete(request, RequestOptions.DEFAULT); &#125; catch (Exception e) &#123; e.printStackTrace(); logger.warn("ESÂà†Èô§ÂºÇÂ∏∏‰ø°ÊÅØ:&#123;&#125;",e.getMessage()); &#125; logger.warn("Âà†Èô§ÁªìÊûú:&#123;&#125;",deleteResponse.status().getStatus()); &#125;4.Êõ¥Êñ∞Êï∞ÊçÆ12345678910111213141516171819/** * * @param client * @param index Á¥¢ÂºïÂêçÁß∞ * @param id ÊñáÊ°£id */ @Test public static void update(RestHighLevelClient client, String index,String id,Map&lt;String,Object&gt; map) &#123; UpdateRequest request = new UpdateRequest(index,id); request.doc(map); UpdateResponse updateResponse = null; try &#123; updateResponse = client.update( request, RequestOptions.DEFAULT); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; logger.warn("ESÊõ¥Êñ∞ÁªìÊûú:&#123;&#125;",updateResponse.getResult()); &#125;]]></content>
      <categories>
        <category>ElasticSearchÁ≥ªÂàó</category>
      </categories>
      <tags>
        <tag>ElasticSearch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËøúÁ®ãË∞ÉËØïspringbootÈ°πÁõÆ]]></title>
    <url>%2F2019%2F07%2F27%2F%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95springboot%E9%A1%B9%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[IDEAËøúÁ®ãË∞ÉËØïÈ°πÁõÆ~!1. ÈÖçÁΩÆËøúÁ®ã‚ë†‚ë°‚ë¢2. ÂêØÂä®È°πÁõÆ1nohup java -jar -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8888 &lt;jarÂåÖÂêçÁß∞&gt;3. ËøúÁ®ãdebugÂºÄÂßã4. ËøûÊé•ÊàêÂäüÂú®Êú¨Âú∞ÊâìÊñ≠ÁÇπ,ËÆøÈóÆÊúçÂä°Âô®Êé•Âè£Êó∂,Âú®Êú¨Âú∞Âç≥ÂèØÂÆûÊó∂Ë∞ÉËØï‰∫Ü]]></content>
      <categories>
        <category>Â∑•ÂÖ∑ÈÖçÁΩÆÁõ∏ÂÖ≥</category>
      </categories>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÈòøÈáåCodeGITË¥¶Âè∑ÂØÜÁ†ÅËé∑ÂèñÊñπÊ≥ï]]></title>
    <url>%2F2019%2F07%2F22%2F%E9%98%BF%E9%87%8CCodeGIT%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81%E8%8E%B7%E5%8F%96%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ËæìÂÖ•https://code.aliyun.com -&gt; ËÆæÁΩÆ -&gt; ‰∏™‰∫∫ËÆæÁΩÆ Username ÔºàGITË¥¶Âè∑ÔºâËæìÂÖ•https://code.aliyun.com/profile/password/edit -&gt; ÂøòËÆ∞ÂØÜÁ†Å ‚Äì&gt;Âà∞ÈÇÆÁÆ±ÈáçÁΩÆÂØÜÁ†Å ÔºàGITÂØÜÁ†ÅÔºâËæìÂÖ•https://code.aliyun.com -&gt; ËÆæÁΩÆ -&gt; ‰∏™‰∫∫ËÆæÁΩÆ Username ÔºàGITË¥¶Âè∑ÔºâËæìÂÖ•https://code.aliyun.com/profile/password/edit -&gt; ÂøòËÆ∞ÂØÜÁ†Å ‚Äì&gt;Âà∞ÈÇÆÁÆ±ÈáçÁΩÆÂØÜÁ†Å ÔºàGITÂØÜÁ†ÅÔºâ]]></content>
      <categories>
        <category>Â∑•ÂÖ∑‰ΩøÁî®</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Alibaba Cloud ToolkitÊèí‰ª∂‰ΩøÁî®]]></title>
    <url>%2F2019%2F07%2F22%2FAlibaba-Cloud-Toolkit%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[Alibaba Cloud Toolkit Â∑•ÂÖ∑‰∏ÄÈîÆÈÉ®ÁΩ≤Êú¨Âú∞jarÂåÖ1.ÂÆâË£Ö Alibaba Cloud ToolkitÁõ¥Êé•Âú®IDEAÊèí‰ª∂‰∏≠ÊêúÁ¥¢ÂÆâË£ÖÂç≥ÂèØ2.Ê∑ªÂä†ËøúÁ®ãÊúçÂä°Âô®3. ÈÖçÁΩÆÊâìÂåÖÈÉ®ÁΩ≤È°πÁõÆ]]></content>
      <categories>
        <category>Êèí‰ª∂‰ΩøÁî®Á≥ªÂàó</category>
      </categories>
      <tags>
        <tag>Êèí‰ª∂</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êó∂Èó¥ËΩ¨cronË°®ËææÂºè]]></title>
    <url>%2F2019%2F07%2F15%2F%E6%97%B6%E9%97%B4%E8%BD%ACcron%E8%A1%A8%E8%BE%BE%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ËÆ∞ÂΩï‰∏Ä‰∏™Êó∂Èó¥ËΩ¨cronË°®ËææÂºèÁöÑÂ∑•ÂÖ∑Á±ªDateToCronUtil12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697/** * @author LuGuoZheng * @date 2019/7/12 13:45 * @Version 3.0 * @description */public class DateToCronUtil &#123; private static final Logger logger = LoggerFactory.getLogger(DateToCronUtil.class); public static final String DEFUALT_LONG_TIME_FORMAT = "yyyy-MM-dd HH:mm:ss"; private final static String H = "H"; private final static String D = "D"; private final static String W = "W"; private final static String M = "M"; private final static String Q = "Q"; private final static String Y = "Y"; /** * ÊØèÂ∞èÊó∂ */ private final static String DEFAULT_H_CRON = "0 H * * * ? *"; /** * ÊØèÂ§© */ private final static String DEFAULT_D_CRON = "0 H D * * ? *"; /** * ÊØèÂë® */ private final static String DEFAULT_W_CRON = "0 H D ? * W"; /** * ÊØèÊúà */ private final static String DEFAULT_M_CRON = "0 H D M * ? *"; /** * ÊØèÂ≠£Â∫¶ */ private final static String DEFAULT_Q_CRON = "0 H D M 1/3 ? *"; /** * ÊØèÂπ¥ */ private final static String DEFAULT_Y_CRON = "0 H D M Y ? *"; public static LocalDateTime stringToLocalDate(String time) &#123; DateTimeFormatter df = DateTimeFormatter.ofPattern(DEFUALT_LONG_TIME_FORMAT); return LocalDateTime.parse(time, df); &#125; /** * @param time Êó∂Èó¥ yyyy-MM-dd HH:mm * @param timeType Á±ªÂûã:H-&gt;Â∞èÊó∂,D-&gt;Â§©,W-&gt;Âë®,M-&gt;Êúà,Q-&gt;Â≠£Â∫¶,Y-&gt;ÊØèÂπ¥ * @return */ public static String getCron(String time, String timeType) &#123; LocalDateTime localDateTime = stringToLocalDate(time); logger.info("localDateTime:&#123;&#125;", localDateTime); if (DateToCronUtil.H.equals(timeType)) &#123; return DEFAULT_H_CRON.replace(DateToCronUtil.H, localDateTime.get(ChronoField.MINUTE_OF_HOUR) + ""); &#125; else if (DateToCronUtil.D.equals(timeType)) &#123; return DEFAULT_D_CRON.replace(DateToCronUtil.H, localDateTime.get(ChronoField.MINUTE_OF_HOUR) + "") .replace(DateToCronUtil.D, localDateTime.get(ChronoField.HOUR_OF_DAY) + ""); &#125; else if (DateToCronUtil.W.equals(timeType)) &#123; return DEFAULT_W_CRON.replace(DateToCronUtil.H, localDateTime.get(ChronoField.MINUTE_OF_HOUR) + "") .replace(DateToCronUtil.D, localDateTime.get(ChronoField.HOUR_OF_DAY) + "") .replace(DateToCronUtil.W, (localDateTime.get(ChronoField.DAY_OF_WEEK) == 7 ? 1 : localDateTime.get(ChronoField.DAY_OF_WEEK) + 1) + ""); &#125; else if (DateToCronUtil.M.equals(timeType)) &#123; return DEFAULT_M_CRON.replace(DateToCronUtil.H, localDateTime.get(ChronoField.MINUTE_OF_HOUR) + "") .replace(DateToCronUtil.D, localDateTime.get(ChronoField.HOUR_OF_DAY) + "") .replace(DateToCronUtil.M, localDateTime.get(ChronoField.MONTH_OF_YEAR) + ""); &#125; else if (DateToCronUtil.Q.equals(timeType)) &#123; return DEFAULT_Q_CRON.replace(DateToCronUtil.H, localDateTime.get(ChronoField.MINUTE_OF_HOUR) + "") .replace(DateToCronUtil.D, localDateTime.get(ChronoField.HOUR_OF_DAY) + "") .replace(DateToCronUtil.D, localDateTime.get(ChronoField.DAY_OF_MONTH) + ""); &#125; else if (DateToCronUtil.Y.equals(timeType)) &#123; return DEFAULT_Y_CRON.replace(DateToCronUtil.H, localDateTime.get(ChronoField.MINUTE_OF_HOUR) + "") .replace(DateToCronUtil.D, localDateTime.get(ChronoField.HOUR_OF_DAY) + "") .replace(DateToCronUtil.D, localDateTime.get(ChronoField.DAY_OF_MONTH) + "") .replace(DateToCronUtil.Y, localDateTime.get(ChronoField.MONTH_OF_YEAR) + ""); &#125; return DEFAULT_D_CRON; &#125; @Test public void get() &#123;// DateTimeFormatter df = DateTimeFormatter.ofPattern(DEFUALT_LONG_TIME_FORMAT);// LocalDateTime now = LocalDateTime.parse("2019-07-11 14:22",df);// System.out.println(now);// System.out.println(now.get(ChronoField.MINUTE_OF_HOUR)); String d = getCron("2019-07-16 14:25:12", "W"); System.out.println(d); &#125;&#125;]]></content>
      <categories>
        <category>Â∑•ÂÖ∑Á±ªÊî∂Ëóè</category>
      </categories>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ElasticSearch 9200Á´ØÂè£‰∏é9300Á´ØÂè£ÁöÑÂå∫Âà´]]></title>
    <url>%2F2019%2F07%2F06%2FElasticSearch-JAVA%E5%AE%A2%E6%88%B7%E7%AB%AF-%E7%AB%AF%E5%8F%A3%2F</url>
    <content type="text"><![CDATA[ESÂêØÂä®ÁõëÂê¨‰∏§‰∏™Á´ØÂè£:9300Âíå92009300Á´ØÂè£9300ÊòØTcpÂçèËÆÆÁ´ØÂè£:ÈÄöËøáTcpÂçèËÆÆÈÄöËÆØ,ESÈõÜÁæ§‰πãÈó¥ÊòØÈÄöËøá9300ËøõË°åÈÄöËÆØ,javaÂÆ¢Êà∑Á´Ø(TransportClient)ÁöÑÊñπÂºè‰πüÊòØ‰ª•TcpÂçèËÆÆÂú®9300Á´ØÂè£‰∏ä‰∏éÈõÜÁæ§ËøõË°åÈÄöËÆØ.9200Á´ØÂè£9200ÊòØHttpÂçèËÆÆÁ´ØÂè£:‰∏ªË¶ÅÁî®‰∫éÂ§ñÈÉ®ÈÄöËÆØ,Â§ñÈÉ®‰ΩøÁî®RESTfulÊé•Âè£ËøõË°åËÆøÈóÆ.ESÂêØÂä®ÁõëÂê¨‰∏§‰∏™Á´ØÂè£:9300Âíå92009300Á´ØÂè£9300ÊòØTcpÂçèËÆÆÁ´ØÂè£:ÈÄöËøáTcpÂçèËÆÆÈÄöËÆØ,ESÈõÜÁæ§‰πãÈó¥ÊòØÈÄöËøá9300ËøõË°åÈÄöËÆØ,javaÂÆ¢Êà∑Á´Ø(TransportClient)ÁöÑÊñπÂºè‰πüÊòØ‰ª•TcpÂçèËÆÆÂú®9300Á´ØÂè£‰∏ä‰∏éÈõÜÁæ§ËøõË°åÈÄöËÆØ.9200Á´ØÂè£9200ÊòØHttpÂçèËÆÆÁ´ØÂè£:‰∏ªË¶ÅÁî®‰∫éÂ§ñÈÉ®ÈÄöËÆØ,Â§ñÈÉ®‰ΩøÁî®RESTfulÊé•Âè£ËøõË°åËÆøÈóÆ.]]></content>
      <categories>
        <category>ElasticSearchÁ≥ªÂàó</category>
      </categories>
      <tags>
        <tag>ElasticSearch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Docker ÁÆÄÂçïÈÉ®ÁΩ≤ ElasticSearch]]></title>
    <url>%2F2019%2F07%2F02%2FDocker-%E7%AE%80%E5%8D%95%E9%83%A8%E7%BD%B2-ElasticSearch%2F</url>
    <content type="text"><![CDATA[ElasticSearchÂÆòÁΩëAPI‰∏Ä„ÄÅElasticSearchÊòØ‰ªÄ‰πà?Elasticsearch‰πü‰ΩøÁî®JavaÂºÄÂèëÂπ∂‰ΩøÁî®Lucene‰Ωú‰∏∫ÂÖ∂Ê†∏ÂøÉÊù•ÂÆûÁé∞ÊâÄÊúâÁ¥¢ÂºïÂíåÊêúÁ¥¢ÁöÑÂäüËÉΩÔºå‰ΩÜÊòØÂÆÉÁöÑÁõÆÁöÑÊòØÈÄöËøáÁÆÄÂçïÁöÑRESTful APIÊù•ÈöêËóèLuceneÁöÑÂ§çÊùÇÊÄßÔºå‰ªéËÄåËÆ©ÂÖ®ÊñáÊêúÁ¥¢ÂèòÂæóÁÆÄÂçï„ÄÇ‰∏çËøáÔºåElasticsearch‰∏ç‰ªÖ‰ªÖÊòØLuceneÂíåÂÖ®ÊñáÊêúÁ¥¢ÔºåÊàë‰ª¨ËøòËÉΩËøôÊ†∑ÂéªÊèèËø∞ÂÆÉÔºöÂàÜÂ∏ÉÂºèÁöÑÂÆûÊó∂Êñá‰ª∂Â≠òÂÇ®ÔºåÊØè‰∏™Â≠óÊÆµÈÉΩË¢´Á¥¢ÂºïÂπ∂ÂèØË¢´ÊêúÁ¥¢ÂàÜÂ∏ÉÂºèÁöÑÂÆûÊó∂ÂàÜÊûêÊêúÁ¥¢ÂºïÊìéÂèØ‰ª•Êâ©Â±ïÂà∞‰∏äÁôæÂè∞ÊúçÂä°Âô®ÔºåÂ§ÑÁêÜPBÁ∫ßÁªìÊûÑÂåñÊàñÈùûÁªìÊûÑÂåñÊï∞ÊçÆElasticSearchÂÆòÁΩëAPI‰∏Ä„ÄÅElasticSearchÊòØ‰ªÄ‰πà?Elasticsearch‰πü‰ΩøÁî®JavaÂºÄÂèëÂπ∂‰ΩøÁî®Lucene‰Ωú‰∏∫ÂÖ∂Ê†∏ÂøÉÊù•ÂÆûÁé∞ÊâÄÊúâÁ¥¢ÂºïÂíåÊêúÁ¥¢ÁöÑÂäüËÉΩÔºå‰ΩÜÊòØÂÆÉÁöÑÁõÆÁöÑÊòØÈÄöËøáÁÆÄÂçïÁöÑRESTful APIÊù•ÈöêËóèLuceneÁöÑÂ§çÊùÇÊÄßÔºå‰ªéËÄåËÆ©ÂÖ®ÊñáÊêúÁ¥¢ÂèòÂæóÁÆÄÂçï„ÄÇ‰∏çËøáÔºåElasticsearch‰∏ç‰ªÖ‰ªÖÊòØLuceneÂíåÂÖ®ÊñáÊêúÁ¥¢ÔºåÊàë‰ª¨ËøòËÉΩËøôÊ†∑ÂéªÊèèËø∞ÂÆÉÔºöÂàÜÂ∏ÉÂºèÁöÑÂÆûÊó∂Êñá‰ª∂Â≠òÂÇ®ÔºåÊØè‰∏™Â≠óÊÆµÈÉΩË¢´Á¥¢ÂºïÂπ∂ÂèØË¢´ÊêúÁ¥¢ÂàÜÂ∏ÉÂºèÁöÑÂÆûÊó∂ÂàÜÊûêÊêúÁ¥¢ÂºïÊìéÂèØ‰ª•Êâ©Â±ïÂà∞‰∏äÁôæÂè∞ÊúçÂä°Âô®ÔºåÂ§ÑÁêÜPBÁ∫ßÁªìÊûÑÂåñÊàñÈùûÁªìÊûÑÂåñÊï∞ÊçÆ‰∫å„ÄÅDocker ÈÉ®ÁΩ≤ ElasticSearch2.1 ÊãâÂèñÈïúÂÉè1docker pull docker.elastic.co/elasticsearch/elasticsearch:7.0.02.2 ËøêË°åÂÆπÂô®ElasticSearchÁöÑÈªòËÆ§Á´ØÂè£ÊòØ9200ÔºåÊàë‰ª¨ÊääÂÆø‰∏ªÁéØÂ¢É9200Á´ØÂè£Êò†Â∞ÑÂà∞DockerÂÆπÂô®‰∏≠ÁöÑ9200Á´ØÂè£ÔºåÂ∞±ÂèØ‰ª•ËÆøÈóÆÂà∞DockerÂÆπÂô®‰∏≠ÁöÑElasticSearchÊúçÂä°‰∫ÜÔºåÂêåÊó∂Êàë‰ª¨ÊääËøô‰∏™ÂÆπÂô®ÂëΩÂêç‰∏∫es„ÄÇ1docker run -d --name es -p 9200:9200 -p 9300:9300 -e &quot;discovery.type=single-node&quot; &lt;ÂÆπÂô®ID&gt;2.3 ÈÖçÁΩÆË∑®Âüü2.3.1 ËøõÂÖ•ÂÆπÂô®Áî±‰∫éË¶ÅËøõË°åÈÖçÁΩÆÔºåÂõ†Ê≠§ÈúÄË¶ÅËøõÂÖ•ÂÆπÂô®ÂΩì‰∏≠‰øÆÊîπÁõ∏Â∫îÁöÑÈÖçÁΩÆ‰ø°ÊÅØ„ÄÇ1docker exec -it es /bin/bash2.3.2 ËøõË°åÈÖçÁΩÆ123456789101112131415161718192021# ÊòæÁ§∫Êñá‰ª∂lsÁªìÊûúÂ¶Ç‰∏ãÔºöLICENSE.txt README.textile config lib modulesNOTICE.txt bin data logs plugins# ËøõÂÖ•ÈÖçÁΩÆÊñá‰ª∂Â§πcd config# ÊòæÁ§∫Êñá‰ª∂lsÁªìÊûúÂ¶Ç‰∏ãÔºöelasticsearch.keystore ingest-geoip log4j2.properties roles.yml users_roleselasticsearch.yml jvm.options role_mapping.yml users# ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂vi elasticsearch.yml# Âä†ÂÖ•Ë∑®ÂüüÈÖçÁΩÆhttp.cors.enabled: truehttp.cors.allow-origin: &quot;*&quot;2.3 ÈáçÂêØÂÆπÂô®Áî±‰∫é‰øÆÊîπ‰∫ÜÈÖçÁΩÆÔºåÂõ†Ê≠§ÈúÄË¶ÅÈáçÂêØElasticSearchÂÆπÂô®„ÄÇ1docker restart esÂ±ïÁ§∫Â¶Ç‰∏ãÔºö‰∏â„ÄÅDocker ÈÉ®ÁΩ≤ ElasticSearch-Head‰∏∫‰ªÄ‰πàË¶ÅÂÆâË£ÖElasticSearch-HeadÂë¢ÔºåÂéüÂõ†ÊòØÈúÄË¶ÅÊúâ‰∏Ä‰∏™ÁÆ°ÁêÜÁïåÈù¢ËøõË°åÊü•ÁúãElasticSearchÁõ∏ÂÖ≥‰ø°ÊÅØ3.1 ÊãâÂèñÈïúÂÉè1docker pull mobz/elasticsearch-head:53.2 ËøêË°åÂÆπÂô®1docker run -d --name es_admin -p 9100:9100 mobz/elasticsearch-head:5Â±ïÁ§∫Â¶Ç‰∏ãÔºöËøôÊ†∑ÔºåÊàë‰ª¨Â∞±ÂÆåÊàê‰∫ÜÁî®DockerÊèê‰æõElasticsearchÊúçÂä°ÔºåËÄå‰∏çÊ±°ÊüìÂÆø‰∏ªÊú∫ÁéØÂ¢É‰∫ÜÔºåËøôÊ†∑ËøòÊúâ‰∏Ä‰∏™Â•ΩÂ§ÑÔºåÂ¶ÇÊûúÊÉ≥ÂêåÊó∂ÂêØÂä®Â§ö‰∏™‰∏çÂêåÁâàÊú¨ÁöÑElastcsearchÊàñËÄÖÂÖ∂‰ªñÊúçÂä°ÔºåDocker‰πüÊòØ‰∏Ä‰∏™ÁêÜÊÉ≥ÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇÂéüÊñáÂá∫Â§Ñ:https://www.cnblogs.com/jianxuanbing/p/9410800.html]]></content>
      <categories>
        <category>ElasticSearchÁ≥ªÂàó</category>
      </categories>
      <tags>
        <tag>ElasticSearch</tag>
        <tag>ËΩ¨ËΩΩ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[dubboÈöêÂºèÂèÇÊï∞‰∏¢Â§±ÈóÆÈ¢ò]]></title>
    <url>%2F2019%2F06%2F29%2Fdubbo%E9%9A%90%E5%BC%8F%E5%8F%82%E6%95%B0%E4%B8%A2%E5%A4%B1%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[ËÆ∞ÂΩïÂú®Ê∂àË¥πÁ´ØËøûÁª≠Ë∞ÉÁî®‰∏§Ê¨°ËøúÁ®ãÊúçÂä°ÂØºËá¥ÈöêÂºèÂèÇÊï∞‰∏¢Â§±ÈóÆÈ¢ò~!ÊºîÁ§∫‰ª£Á†ÅcontrollerÂ±Ç12345678910111213141516@Controller@RequestMapping("/test")public class TestController &#123; @Reference private ICarService iCarService; @RequestMapping("/test") @ResponseBody public String test()&#123; // ‰º†ÈÄíÂèÇÊï∞ RpcContext.getContext().setAttachment("TOKEN","ÊµãËØïÈöêÂ£´ÂèÇÊï∞‰º†ÈÄí"); iCarService.test(); return "ÂèÇÊï∞"; &#125;&#125;ÊúçÂä°Â±Ç123456789101112131415161718192021@Service(retries = -1)public class CeshiServiceImpl implements ICeshiService &#123; private static final Logger logger = LoggerFactory.getLogger(CeshiServiceImpl.class); @Reference private ICarService iCarService; @Reference private IUserInfoService iUserInfoService; @Override public void test() &#123; String token = RpcContext.getContext().getAttachment("TOKEN"); logger.info("token‰ø°ÊÅØ:&#123;&#125;", token); // Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî®rpcÊúçÂä° iCarService.test(); logger.info("token‰ø°ÊÅØ:&#123;&#125;", RpcContext.getContext().getAttachment("TOKEN")); // Á¨¨‰∫åÊ¨°Ë∞ÉÁî®rpcÊúçÂä° iUserInfoService.test(); &#125;&#125;ICarServiceImpl12345678910@Service(retries = -1)public class CarServiceImpl implements ICarService &#123; private static final Logger logger = LoggerFactory.getLogger(CarServiceImpl.class); public void test() &#123; String token = RpcContext.getContext().getAttachment("TOKEN"); logger.info("carService:&#123;&#125;",token); &#125;&#125;userInfoServiceImpl1234567891011@Service(retries = -1)@Transactionalpublic class UserInfoServiceImpl implements IUserInfoService &#123; private static final Logger logger = LoggerFactory.getLogger(UserInfoServiceImpl.class); public void test() &#123; String token = RpcContext.getContext().getAttachment("TOKEN"); logger.info("userInfoService:&#123;&#125;",token); &#125; &#125;ÊâìÂç∞ÁªìÊûúceshiServiceÁªìÊûúICarServiceImplÁªìÊûúuserInfoServiceImplÁªìÊûúÊ∫êÁ†Å12345678910111213141516171819202122@Activate(group = Constants.CONSUMER, order = -10000)public class ConsumerContextFilter implements Filter &#123; public Result invoke(Invoker&lt;?&gt; invoker, Invocation invocation) throws RpcException &#123; RpcContext.getContext() .setInvoker(invoker) .setInvocation(invocation) .setLocalAddress(NetUtils.getLocalHost(), 0) .setRemoteAddress(invoker.getUrl().getHost(), invoker.getUrl().getPort()); if (invocation instanceof RpcInvocation) &#123; ((RpcInvocation) invocation).setInvoker(invoker); &#125; try &#123; return invoker.invoke(invocation); &#125; finally &#123; // Ê∏ÖÁ©∫ÈöêÂºèÂèÇÊï∞ RpcContext.getContext().clearAttachments(); &#125; &#125;&#125;Ê∂àË¥πÁ´ØÂú®ÊâßË°åRpcË∞ÉÁî®‰πãÂâçÔºåÁªèËøáFilterÂ§ÑÁêÜ, ‰ºöÂ∞Ü‰ø°ÊÅØÂÜôÂÖ•RpcContex,ËÄå‰∏îÂú®ÊØèÊ¨°Ë∞ÉÁî®rpcÂêéÈÉΩ‰ºöÊääÈöêÂºèÂèÇÊï∞Ê∏ÖÁ©∫,ÊâÄ‰ª•Âú®Á¨¨‰∫åÊ¨°Ë∞ÉÁî®rpcÂ∞±Êó†Ê≥ïÊãøÂà∞‰πãÂâçÁöÑÈöêÂºèÂèÇÊï∞‰∫ÜÊãìÂ±ïFilter‰ΩïÊó∂ËøõË°åurlËøáÊª§filterÔºàËøáÊª§Âô®Ôºâ‰ΩúÁî®‰∫éÂú®intreceptor(Êã¶Êà™Âô®)‰πãÂâçÔºå‰∏çÂÉèintreceptor‰∏ÄÊ†∑‰æùËµñ‰∫éspringmvcÊ°ÜÊû∂ÔºåÂè™ÈúÄË¶Å‰æùËµñ‰∫éserverlet„ÄÇ]]></content>
      <categories>
        <category>DubboÁ≥ªÂàó</category>
      </categories>
      <tags>
        <tag>dubbo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[dockerÂü∫Êú¨ÂëΩ‰ª§‰ΩøÁî®]]></title>
    <url>%2F2019%2F06%2F24%2Fdocker%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[ËÆ∞ÂΩïdockerÂ∏∏Áî®ÂëΩ‰ª§Êü•ÁúãÊú¨Âú∞ÈïúÂÉèÂàóË°®1docker imagesÊü•ÁúãËøêË°å‰∏≠ÁöÑÂÆπÂô®1docker psÊü•ÁúãÊâÄÊúâÂÆπÂô®(ÂåÖÊã¨Êú™ËøêË°åÁöÑ)1docker ps -aÂà†Èô§ÈïúÂÉè1docker rmi &lt;ÈïúÂÉèID&gt;runÂëΩ‰ª§docker run [ÂèÇÊï∞] [ÈïúÂÉèid] | [ÈïúÂÉèÂêç]:[ÈïúÂÉèÊ†áÁ≠æ] [ÂëΩ‰ª§]-i Ë°®Á§∫ÂÆπÂô®ÁöÑËæìÂÖ•ÁªàÁ´Ø‰øùÊåÅÊâìÂºÄ,‰∏çÁõ¥Êé•ÂÖ≥Èó≠-t Ë°®Á§∫ÂºÄÂêØ‰∏Ä‰∏™ËôöÊãüÁªàÁ´Ø, ÁªëÂÆöÂà∞Ê†áÂáÜËæìÂÖ•‰∏ä-d Ë°®Á§∫ËÆ©ËØ•ÂÆπÂô®Âú®ÂêéÂè∞ËøêË°å‚Äìname ÁªôËØ•ÂÆπÂô®Ëµ∑‰∏Ä‰∏™ÂÆπÂô®ÂêçÔºåÂ¶ÇÊûúÊ≤°ÊúâÊ≠§ÂèÇÊï∞ÔºåÂàôÊúâ‰∏Ä‰∏™ÈªòËÆ§ÁöÑÂÆπÂô®Âêç‚Äìrm ÂÅúÊ≠¢ËØ•ÂÆπÂô®Êó∂ÔºåÊääÂÆπÂô®Âà†Èô§Êéâ‰ΩøÁî®ÈïúÂÉèËøêË°åÂÆπÂô®1docker run -it --name &lt;ÂÆπÂô®ÂêçÁß∞&gt; -d -p &lt;port:port&gt; &lt;ÈïúÂÉèID&gt;ÂêØÂä®ÂÆπÂô®1docker start &lt;ÂÆπÂô®ID&gt;ÂÅúÊ≠¢ÂÆπÂô®1docker stop &lt;ÂÆπÂô®ID&gt;Âà†Èô§ÂÆπÂô®1docker rm &lt;ÂÆπÂô®ID&gt;Êü•ÁúãdockerÁöÑÊâÄÊúâÂÆπÂô®ËøêË°åÁä∂ÊÄÅ1docker statsËøõÂÖ•ÂÆπÂô®ÈáåÈù¢1docker exec -it &lt;ÂÆπÂô®ID&gt; /bin/bashÊü•ÁúãÂÆπÂô®ËøêË°åÊó•Âøó(Á±ª‰ºº tail -f ÂëΩ‰ª§)1docker logs]]></content>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî® JConsole ÁõëÊéß springboot È°πÁõÆ]]></title>
    <url>%2F2019%2F06%2F24%2F%E4%BD%BF%E7%94%A8-JConsole-%E7%9B%91%E6%8E%A7-springboot-%E9%A1%B9%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[JConsole ‰ΩøÁî®ËÆ∞ÂΩï~!Ê∑ªÂä†ÂêØÂä®ÂèÇÊï∞1234567nohup java -jar -Djava.rmi.server.hostname=x.x.x.x # ÊúçÂä°ip-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=1099 # Á´ØÂè£(‰∏çËÉΩ‰∏éÊúçÂä°Á´ØÂè£ÂÜ≤Á™Å)-Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Xms200m -Xmx200m ylcloud-item-service-0.0.1-SNAPSHOT.jar &gt; /pro/test/home/yanfa/nohup_item.out &amp; 2&gt;&amp;1 &amp;ÂêØÂä®JConsoleÁõ¥Êé•Âú®windowsÂëΩ‰ª§Á™óÂè£ËæìÂÖ•JConsoleÈÄâÊã©ËøúÁ®ãËøõÁ®ãËæìÂÖ•ÂØπÂ∫îÁöÑip:portÂç≥ÂèØ]]></content>
      <categories>
        <category>Â∑•ÂÖ∑‰ΩøÁî®</category>
      </categories>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[dubboÈáçËØïÊú∫Âà∂]]></title>
    <url>%2F2019%2F06%2F15%2FDubbo%E9%87%8D%E8%AF%95%E6%9C%BA%E5%88%B6%2F</url>
    <content type="text"><![CDATA[DUBBO‰∏≠ÊñáÂÆòÊñπÊñáÊ°£ËÆ∞ÂΩïDubboÈáçËØïÊú∫Âà∂ÈÖçÁΩÆ~!DUBBO‰∏≠ÊñáÂÆòÊñπÊñáÊ°£ÈªòËÆ§ÈáçËØïÊ¨°Êï∞: 2Âú®ÂÆòÊñπÊñáÊ°£‰∏≠Êúâ‰ªãÁªçÂà∞dubboÁöÑÈáçËØïÊ¨°Êï∞ÈªòËÆ§ÊòØ2Â±ûÊÄßÂØπÂ∫îURLÂèÇÊï∞Á±ªÂûãÊòØÂê¶ÂøÖÂ°´Áº∫ÁúÅÂÄº‰ΩúÁî®ÊèèËø∞ÂÖºÂÆπÊÄßretriesretriesintÂèØÈÄâ2ÊÄßËÉΩË∞É‰ºòËøúÁ®ãÊúçÂä°Ë∞ÉÁî®ÈáçËØïÊ¨°Êï∞Ôºå‰∏çÂåÖÊã¨Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî®Ôºå‰∏çÈúÄË¶ÅÈáçËØïËØ∑ËÆæ‰∏∫02.0.0‰ª•‰∏äÁâàÊú¨‰øÆÊîπÈáçËØïÊ¨°Êï∞duboo-provider.xmlÈÖçÁΩÆÊñπÂºè: Âú®dubbo:serviceÈÖçÁΩÆretriesÂèÇÊï∞123&lt;!--Â∏∏Áî®ËèúÂçïÊé®Ëçê--&gt;&lt;dubbo:service ref="userMenuClickFacade" interface="com.ylcloud.user.facade.UserMenuClickFacade" retries="1"/&gt;&lt;bean id="userMenuClickFacade" class="com.ylcloud.user.facade.impl.UserMenuClickFacadeImpl"/&gt;‰ΩøÁî®Ê≥®Ëß£Â¶ÇÊûú‰ΩøÁî®ÁöÑ@ServiceÈÖçÁΩÆÈáçËØïÊ¨°Êï∞,‰∏çËÆæÁΩÆretriesÂèÇÊï∞,ÈÇ£‰πàËØ•ÂèÇÊï∞ÈªòËÆ§ÂÄºÊòØ0,‰ΩÜÊòØ‰∏çÁÆ°ÊòæÁ§∫ÈÖçÁΩÆretries‰∏∫0,ËøòÊòØ‰∏çÊòæÁ§∫ËÆæÁΩÆ,0ÈÉΩÊòØ‰ΩøÁî®dubboÈªòËÆ§ÁöÑÈáçËØïÊ¨°Êï∞Â¶ÇÊûúË¶ÅÈÖçÁΩÆÈáçËØïÊ¨°Êï∞‰∏∫0,Âè™ÊúâÊääretriesÂ∞è‰∫é0Êâç‰ºöËµ∑‰ΩúÁî®Â¶ÇÊûú‰ΩøÁî®@ReferenceÂºïÁî®ÊúçÂä°Êó∂ÈÖçÁΩÆ‰∫Üretries,ÈáçËØïÊ¨°Êï∞‰ª•ÊîπÊ¨°Êï∞‰∏∫ÂáÜÂè™ÊúâÊòæÁ§∫ËÆæÁΩÆretriesÂ§ß‰∫éÊàñÁ≠â‰∫é1Êâç‰ºöËµ∑‰ΩúÁî®dubboÁõ∏ÂÖ≥‰ª£Á†Å(dubboÁâàÊú¨:2.6.1)package com.alibaba.dubbo.rpc.cluster.support.FailoverClusterInvoker;1234567891011public Result doInvoke(Invocation invocation, final List&lt;Invoker&lt;T&gt;&gt; invokers, LoadBalance loadbalance) throws RpcException &#123; List&lt;Invoker&lt;T&gt;&gt; copyinvokers = invokers; checkInvokers(copyinvokers, invocation); // len:ÊúÄÂ§öË∞ÉÁî®Ê¨°Êï∞--&gt; ÈáçËØïÊ¨°Êï∞ + 1 int len = getUrl().getMethodParameter(invocation.getMethodName(), Constants.RETRIES_KEY, Constants.DEFAULT_RETRIES) + 1; // ÊéßÂà∂Ëá≥Â∞ëË∞ÉÁî®‰∏ÄÊ¨°:Âç≥ÈáçËØïÊ¨°Êï∞‰∏∫ 0 if (len &lt;= 0) &#123; len = 1; &#125; /** ÈÉ®ÂàÜÊ∫êÁ†ÅÁúÅÁï•**/&#125;dubboÊ≥®ÂÜåÊúçÂä°Áõ∏ÂÖ≥‰ª£Á†Åpackage com.alibaba.dubbo.config.AbstractConfig;123456789101112131415protected void appendAnnotation(Class&lt;?&gt; annotationClass, Object annotation) &#123; /** ÁúÅÁï•ÈÉ®ÂàÜ‰ª£Á†Å **/ // Ëé∑ÂèñÁõ¥Êé•ÈÖçÁΩÆÁöÑÊï∞ÊçÆ Object value = method.invoke(annotation, new Object[0]); // Â¶ÇÊûú‰∏ç‰∏∫Á©∫Âπ∂‰∏î‰∏çÁ≠â‰∫éÈªòËÆ§ÂÄº,ÂàôÊ≥®ÂÜåurl‰∏≠ if (value != null &amp;&amp; !value.equals(method.getDefaultValue())) &#123; /** ÁúÅÁï•ÈÉ®ÂàÜ‰ª£Á†Å **/ &#125; /** ÁúÅÁï•ÈÉ®ÂàÜ‰ª£Á†Å **/ &#125;ÊâÄ‰ª•Â¶ÇÊûú‰ΩøÁî®Ê≥®Ëß£ÈÖçÁΩÆÈáçËØïÊ¨°Êï∞,Â¶ÇÊûúÈÖçÁΩÆÁöÑÊòØÈªòËÆ§ÂÄº,Âàô‰∏ç‰ºöÊ≥®ÂÜåÂà∞url‰∏≠,‰ºö‰ΩøÁî®dubboÈªòËÆ§ÁöÑÂÄº]]></content>
      <categories>
        <category>DubboÁ≥ªÂàó</category>
      </categories>
      <tags>
        <tag>dubbo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nginx+ffmpegÊê≠Âª∫Êé®ÊµÅÊúçÂä°Âô®]]></title>
    <url>%2F2019%2F06%2F14%2FNginx-ffmpeg%E6%90%AD%E5%BB%BA%E6%8E%A8%E6%B5%81%E6%9C%8D%E5%8A%A1%E5%99%A8%2F</url>
    <content type="text"><![CDATA[ÁéØÂ¢Éüëá:CentOS7Êê≠Âª∫Êé®ÊµÅÊúçÂä°Âô®~!ÂÆâË£ÖNginx(ÂøΩÁï•)Áï•Áõ¥Êé•ËøõÂÖ•Âà∞NginxÁöÑËß£ÂéãÁõÆÂΩï// ÂèÇËÄÉ:ËøôÊòØÊàëÁõÆÂΩï1cd /usr/local/softs/nginx-1.10.1ÁõÆÂΩï‰∏ãÈù¢ÁöÑÂÜÖÂÆπ:‰∏ãËΩΩnginx-rtmp-module,Âπ∂Ëß£Âéã123wget https://github.com/arut/nginx-rtmp-module/archive/master.zipunzip master.zipÂÖàÂ§á‰ªΩNginx(Á®≥ÁÇπÊù•)1cp objs/nginx /usr/local/nginx/sbin/nginxÈáçÊñ∞ÈÖçÁΩÆNginx123./configure --with-http_ssl_module --add-module=/usr/local/softs/nginx-1.10.1/nginx-rtmp-module-mastermakePS: Áî®make,‰∏çË¶Å‰ΩøÁî®make install,‰∏çÁÑ∂‰ºöË¶ÜÁõñÂ∑≤ÁªèÊ∑ªÂä†ÁöÑÊ®°Âùó(ÁΩë‰∏äÊòØËøô‰πàËØ¥ÁöÑ,‰ΩÜÊòØÂ•ΩÂÉèÊ≤°ÊúâÊïàÊûú,Êàë‰πãÂâçË£Ö‰∫ÜsslÊ®°ÂùóÁöÑ,Áõ¥Êé•Â∞±ÁªôÊàëË¶ÜÁõñÊéâ‰∫Ü)Âõ†‰∏∫Êàë‰πãÂâçÂ∞±Âä†‰∫Ü‰∏™sslÊ®°Âùó,ÊâÄÊúâÊàëÁõ¥Êé•Âú®ÈÖçÁΩÆ‰∏äÂä†‰∏ä‰∫Ü,‰∏çËøá‰πãÂâç‰πüÊúâÂ§á‰ªΩÂ∞ÜÊñ∞ÁöÑnginxË¶ÜÁõñÊóßÂÆâË£ÖÁõÆÂΩï1cp objs/nginx /usr/local/nginx/sbin/nginx‰øÆÊîπNginxÈÖçÁΩÆÊñá‰ª∂(nginx.conf)123456789101112rtmp &#123; #RTMPÊúçÂä° server &#123; listen 1935; #//ÊúçÂä°Á´ØÂè£ chunk_size 4096; #//Êï∞ÊçÆ‰º†ËæìÂùóÁöÑÂ§ßÂ∞è application vod &#123; play /opt/video; #//ËßÜÈ¢ëÊñá‰ª∂Â≠òÊîæ‰ΩçÁΩÆ„ÄÇ &#125; application live&#123; #Áõ¥Êí≠ live on; &#125; &#125;&#125;PS: rtmpÊòØ‰∏Ä‰∏™ÂçïÁã¨ÁöÑÊ®°Âùó,‰∏çË¶ÅÊîæÂú®httpÈáåÈù¢ÈáçÂêØNginx123cd /usr/local/nginx/sbin./nginx -s reloadÂÆâË£ÖEPEL ReleaseÔºåÂõ†‰∏∫ÂÆâË£ÖÈúÄË¶Å‰ΩøÁî®ÂÖ∂‰ªñÁöÑrepoÊ∫êÔºåÊâÄ‰ª•ÈúÄË¶ÅEPELÊîØÊåÅ1yum install -y epel-releaseÂÆâË£ÖÂÆåÊàê‰πãÂêéÔºåÂèØ‰ª•Êü•ÁúãÊòØÂê¶ÂÆâË£ÖÊàêÂäü1yum repolistÂÆâË£Önux-dextop Ê∫ê1rpm -Uvh http://li.nux.ro/download/nux/dextop/el7/x86_64/nux-dextop-release-0-1.el7.nux.noarch.rpmÂÆâË£Öffmpeg1yum install -y ffmpegÂÆâË£ÖÂÆåÊàêÂêéÊ£ÄÊü•ffmpeg ÁâàÊú¨1ffmpeg -versionÊµãËØï1ffmpeg -re -i lgz.mp4 -c copy -f flv rtmp://localhost:1935/live/film‰ΩøÁî®VLC1rtmp://&#123;‰Ω†ÁöÑÊúçÂä°IP&#125;:1935/live/film]]></content>
      <categories>
        <category>ÊúçÂä°Âô®Á≥ªÂàó</category>
      </categories>
      <tags>
        <tag>Nginx</tag>
        <tag>Êé®ÊµÅÊúçÂä°Âô®</tag>
        <tag>ffmpeg</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁªìÊùüWindowsÂç†Áî®Á´ØÂè£ËøõÁ®ã]]></title>
    <url>%2F2019%2F06%2F12%2F%E7%BB%93%E6%9D%9FWindows%E5%8D%A0%E7%94%A8%E7%AB%AF%E5%8F%A3%E8%BF%9B%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[netstat -ano | findstr 80 //ÂàóÂá∫ËøõÁ®ãÊûÅÂÖ∂Âç†Áî®ÁöÑÁ´ØÂè£Ôºå‰∏îÂåÖÂê´ 80tasklist | findstr 9268taskkill -PID &lt;ËøõÁ®ãÂè∑&gt; -F //Âº∫Âà∂ÂÖ≥Èó≠Êüê‰∏™ËøõÁ®ã]]></content>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SQLÂáΩÊï∞‰ΩøÁî®ËÆ∞ÂΩï]]></title>
    <url>%2F2019%2F06%2F06%2FQL%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[sqlÂáΩÊï∞‰ΩøÁî®ËÆ∞ÂΩï~!SUMÂáΩÊï∞‰∏≠‰ΩøÁî®caseÁªüËÆ°t1.groupNumberÂ§ß‰∫é2ÁöÑÊï∞Èáè12345678SELECT IF(SUM(case when t1.groupNumber &gt; 2 then 1 else 0 end) / COUNT(t1.groupNumber),SUM(case when t1.groupNumber &gt; 2 then 1 else 0 end) / COUNT(t1.groupNumber),0) AS fgl FROM (SELECT COUNT(visitor_code) groupNumber FROM sales_order WHERE scomp_code = 'G0000001' GROUP BY visitor_code) t1;Ê†ºÂºèÂåñÊó•ÊúüÂàÜÁªÑÊü•ËØ¢ÂáΩÊï∞ÊèèËø∞DATE_FORMAT(creater_time,‚Äô%Y-%m‚Äô)ËÆ¢Ë¥ßÊó•Êúü(Êó•)DATE_FORMAT(creater_time,‚Äô%Y-%m-%d‚Äô)ËÆ¢Ë¥ßÊó•Êúü(Êúà)1SELECT COUNT(1),DATE_FORMAT(creater_time,'%Y-%m-%d') FROM patrolshop_plan GROUP BY DATE_FORMAT(creater_time,'%Y-%m-%d')Êó•ÊïàÊûú:ÊúàÊïàÊûú:]]></content>
      <categories>
        <category>MySQLÊï∞ÊçÆÂ∫ìÁ≥ªÂàó</category>
      </categories>
      <tags>
        <tag>SQLÂáΩÊï∞</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[xmlÊñá‰ª∂Ê≥®ÈáäÊ≥®ÊÑè‰∫ãÈ°π]]></title>
    <url>%2F2019%2F06%2F06%2Fxml%E6%96%87%E4%BB%B6%E6%B3%A8%E9%87%8A%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%2F</url>
    <content type="text"><![CDATA[ËÆ∞ÂΩï‰∏Ä‰∏™Ë∞ÉËØï‰∏≠ÂÅ∂ÁÑ∂Á¢∞Âà∞ÁöÑÈóÆÈ¢ò~!Âú®mapper.xmlÊñá‰ª∂‰∏≠Ê≥®ÈáäËØ≠Âè•ÂøÖÈ°ª‰ΩøÁî®&lt;!-- --&gt;Âú®‰∏ÄÊ¨°Ë∞ÉËØï‰∏≠Áõ¥Êé•Âú®mapper.xmlÈ°∫Êâã‰ΩøÁî®CTRL + /‰∫ÜÂø´Êç∑ÈîÆÊ≥®Èáä:#Á¨¶Âè∑ÁÑ∂ËÄåÈÇ£‰∏ÄË°å‰ª£Á†Å‰πüÊòØÂèòÁÅ∞‰∫Ü‰πüÂ∞±Ê≤°ÁïôÊÑèÂú®ËÆøÈóÆÁöÑÊó∂ÂÄôÁõ¥Êé•Êä•Èîô‰∫Ü‰πãÂêéÊç¢Êàê&lt;!-- --&gt;Âç≥ÂèØ]]></content>
      <categories>
        <category>BUGÁ≥ªÂàó</category>
      </categories>
      <tags>
        <tag>Mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Sourcetree Êõ¥Êñ∞gitË¥¶Âè∑ÂØÜÁ†Å]]></title>
    <url>%2F2019%2F05%2F31%2Fsourectree%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[SourcetreeËÆ∞ÂΩï~!Êõ¥Êñ∞gitÂØÜÁ†Å‰ΩøÁî®sourcetreeÊó∂ÁôªÂΩïgitË¥¶Âè∑,gitË¥¶Âè∑‰øÆÊîπ‰∫ÜÂØÜÁ†ÅÂêésourcetreeÂú®Êèê‰∫§/ÊãâÂèñ‰ª£Á†ÅÊó∂Âè™‰ºöÊä•Èîô,Âπ∂‰∏ç‰ºöÂºπÂá∫gitÁôªÂΩïÁ™óÂè£ËÆ©Áî®Êà∑ÈáçÊñ∞ÁôªÂΩï.Ëß£ÂÜ≥ÊñπÊ≥ï: windowsËøõÂÖ•‰ª•‰∏ãÁõÆÂΩï,Âà†Èô§passwdÊñá‰ª∂1C:\Users\USERNAME\AppData\Local\Atlassian\SourceTreeÂà†Èô§Êñá‰ª∂Âêé,ÂÜçÊ¨°ÊãâÂèñ/Êèê‰∫§‰ª£Á†ÅÂ∞±‰ºöÂºπÂá∫gitÁôªÂΩïÁ™óÂè£‰øÆÊîπgitÁôªÂΩïÂêçÁß∞sourcetreeÈáçÊñ∞ÁôªÂΩïgitÊó∂Êó†Ê≥ï‰øÆÊîπÁî®Êà∑ÂêçÁß∞Ëß£ÂÜ≥ÊñπÊ≥ï: windowsËøõÂÖ•‰∏äÈù¢ÁõÆÂΩï,‰øÆÊîπuserhostsÊñá‰ª∂ÂØπÂ∫îÁöÑÁôªÂΩïÂêçÁß∞Âç≥ÂèØ]]></content>
      <categories>
        <category>Â∑•ÂÖ∑‰ΩøÁî®</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ZKÂàÜÂ∏ÉÂºèÈîÅ]]></title>
    <url>%2F2019%2F05%2F17%2FZK%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%2F</url>
    <content type="text"><![CDATA[Âè™ÂÅöËÆ∞ÂΩï‰ªãÁªç‰ΩøÁî®curatorÂÆ¢Êà∑Á´ØÊìç‰ΩúzookeeperÂºïÂÖ•‰æùËµñ123456789&lt;!-- ÁâàÊú¨Âè∑ --&gt;&lt;curator.version&gt;4.0.0&lt;/curator.version&gt;&lt;!-- ZKÂÆ¢Êà∑Á´Ø:curator --&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.curator&lt;/groupId&gt; &lt;artifactId&gt;curator-recipes&lt;/artifactId&gt; &lt;version&gt;$&#123;curator.version&#125;&lt;/version&gt;&lt;/dependency&gt;zookeeperÁõ∏ÂÖ≥‰æùËµñ1234567891011121314&lt;!-- ÁâàÊú¨Âè∑ --&gt;&lt;zookeeper.version&gt;3.4.10&lt;/zookeeper.version&gt;&lt;zkclient.version&gt;0.10&lt;/zkclient.version&gt;&lt;dependency&gt; &lt;groupId&gt;com.101tec&lt;/groupId&gt; &lt;artifactId&gt;zkclient&lt;/artifactId&gt; &lt;version&gt;$&#123;zkclient.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;version&gt;$&#123;zookeeper.version&#125;&lt;/version&gt;&lt;/dependency&gt;‰ª£Á†ÅÂÆûÁé∞1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768/** * @author LuGuoZheng * @date 2019/5/15 13:33 * @Version 3.0 * @description */public class ZKLock &#123; /** * zkÂÆ¢Êà∑Á´Ø */ public static CuratorFramework client = null; public InterProcessMutex mutex = null; /** * ÂàùÂßãÂåñzkÂÆ¢Êà∑Á´Ø */ static &#123; System.out.println("ÂºÄÂßãÂàùÂßãÂåñzkÂÆ¢Êà∑Á´Ø"); // ÈáçËØïÁ≠ñÁï•:ÈáçËØï3Ê¨°,ÊØèÊ¨°ÈáçËØïÈó¥Èöî1s RetryPolicy retryPolicy = new ExponentialBackoffRetry(1000, 3); client = CuratorFrameworkFactory.builder() .connectString("139.159.253.188:2181")// zkÂú∞ÂùÄ .sessionTimeoutMs(15000) // ‰ºöËØùË∂ÖÊó∂Êó∂Èó¥ .connectionTimeoutMs(30000) // ËøûÊé•Ë∂ÖÊó∂Êó∂Èó¥ .retryPolicy(retryPolicy) // ÈáçËØïÁ≠ñÁï• .namespace("YL_LGZ") // ÂêçÁß∞ .build(); // ÂêØÂä®zkÂÆ¢Êà∑Á´ØËøûÊé•zk client.start(); &#125; /** * * @param code ËäÇÁÇπÂêçÁß∞ */ public void init(String code) &#123; System.out.println("ÂàõÂª∫ËäÇÁÇπÂØπË±°"); mutex = new InterProcessMutex(client, code); &#125; /** * Âä†ÈîÅ:‰∫íÊñ•ÈîÅ */ public void lock()&#123; try &#123; mutex.acquire(); &#125; catch (Exception e) &#123; e.printStackTrace(); System.out.println("Êû∑ÈîÅÂ§±Ë¥•"); &#125; &#125; /** * ÈáäÊîæÈîÅ */ public void unLock() &#123; try &#123; mutex.release(); &#125; catch (Exception e) &#123; e.printStackTrace(); System.out.println("ÈáäÊîæÈîÅÂ§±Ë¥•"); &#125; &#125;&#125;ÊµãËØï123456789101112131415161718192021222324/** * @author LuGuoZheng * @date 2019/5/15 15:06 * @Version 3.0 * @description */public class TestLock extends ZKLock &#123; public TestLock()&#123; super.init("/LGZ_TEST_CODE"); &#125; @Test public void test() throws InterruptedException &#123; TestLock testLock = new TestLock(); try &#123; testLock.lock(); System.out.println(""); Thread.sleep(5000); &#125; finally &#123; testLock.unLock(); System.out.println("ÈáäÊîæÊàêÂäü"); &#125; &#125;&#125;]]></content>
      <categories>
        <category>‰∏≠Èó¥‰ª∂</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ÂàÜÂ∏ÉÂºèÈîÅ</tag>
        <tag>zookeeper</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[zkÂëΩ‰ª§]]></title>
    <url>%2F2019%2F05%2F15%2Fzk%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[zkÊìç‰ΩúÂëΩ‰ª§ÂêØÂä®zk1./zkServer.sh startËøûÊé•ÂÆ¢Êà∑Á´Ø1[root@ecs-e339-0002 bin]# ./zkCli.shlsÊü•ÁúãÂëΩ‰ª§1[zk: localhost:2181(CONNECTED) 2] ls /]]></content>
      <categories>
        <category>‰∏≠Èó¥‰ª∂</category>
      </categories>
      <tags>
        <tag>zookeeper</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ShellËÑöÊú¨]]></title>
    <url>%2F2019%2F05%2F13%2FShell%E8%84%9A%E6%9C%AC%2F</url>
    <content type="text"><![CDATA[Êî∂ËóèÂ∏∏Áî®ÁöÑshellËÑöÊú¨ÈáçÂêØjavaÈ°πÁõÆtest.sh (ÁªìÊùüËøõÁ®ã)12345678910#!/bin/bashecho "Stopping SpringBoot Application for CMP"pid=`ps -ef | grep $1* | grep -v grep | awk '&#123;print $2&#125;'`if [ -n "$pid" ]then kill -9 $pidecho 'kill process'else echo "no pid"fitt.sh(Ê£ÄÊü•È°πÁõÆÊòØÂê¶ÂêØÂä®ÂÆåÊØï)12345678910111213141516171819#!/bin/bashecho "start script ................"file=$1while [ -f $file ]do echo "find log ........." result=`grep "ÂêØÂä®ÊàêÂäü" $file` if [[ "$result" != "" ]] then echo "springboot start ........." break else echo "running ......." sleep 1s fidoneecho "springboot Started..........."run.sh(‰∏ªshellËÑöÊú¨)1234567891011121314151617181920212223#!/bin/bashsource /etc/profile#ÁâàÊú¨‰ø°ÊÅØjarversion='-0.0.1-SNAPSHOT.jar'#Êó•ÂøóË∑ØÂæÑlogpath='/pro/test/home/yanfa/'runjar()&#123; sh test.sh $1 nohup java -jar $4 $1$jarversion &gt; $logpath$2 &amp; 2&gt;&amp;1 &amp; sh tt.sh $logpath$2 echo $3&#125;runjar 'ylcloud-item-service' 'nohup_item.out' 'ÂïÜÂìÅÊ®°ÂùóÂêØÂä®ÂÆåÊàê' '-Xms10m -Xmx200m'echo 'È°πÁõÆÂêØÂä®ÊàêÂäü']]></content>
      <tags>
        <tag>Linux</tag>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[gitÂëΩ‰ª§]]></title>
    <url>%2F2019%2F05%2F13%2Fgit%E5%91%BD%E4%BB%A4-1%2F</url>
    <content type="text"><![CDATA[ËÆ∞ÂΩïÂ∏∏Áî®ÁöÑgitÂëΩ‰ª§Âà†Èô§Â∑≤ÂÖ≥ËÅîÁöÑËøúÁ®ã‰ªìÂ∫ì1git remote rm originÊé®ÈÄÅÂà∞ËøúÁ®ã‰ªìÂ∫ì1234git pull origin master// Âº∫Ë°åÊé®ÈÄÅgit pull origin master -f]]></content>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÂä®ÊÄÅ‰ª£ÁêÜÊ®°Âºè]]></title>
    <url>%2F2019%2F05%2F13%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[Âä®ÊÄÅ‰ª£ÁêÜÁ±ªÊòØÂú®Á®ãÂ∫èËøêË°åÊúüÈó¥Áî± JVM ÈÄöËøáÂèçÂ∞ÑÁ≠âÊú∫Âà∂Âä®ÊÄÅÁöÑÁîüÊàêÁöÑÔºåÊâÄ‰ª•‰∏çÂ≠òÂú®‰ª£ÁêÜÁ±ªÁöÑÂ≠óËäÇÁ†ÅÊñá‰ª∂Ôºå‰ª£ÁêÜÂØπË±°ÂíåÁúüÂÆûÂØπË±°ÁöÑÂÖ≥Á≥ªÊòØÂú®Á®ãÂ∫èËøêË°åÊó∂ÊúüÊâçÁ°ÆÂÆöÁöÑ„ÄÇÂä®ÊÄÅ‰ª£ÁêÜÁ±ªÊòØÂú®Á®ãÂ∫èËøêË°åÊúüÈó¥Áî± JVM ÈÄöËøáÂèçÂ∞ÑÁ≠âÊú∫Âà∂Âä®ÊÄÅÁöÑÁîüÊàêÁöÑÔºåÊâÄ‰ª•‰∏çÂ≠òÂú®‰ª£ÁêÜÁ±ªÁöÑÂ≠óËäÇÁ†ÅÊñá‰ª∂Ôºå‰ª£ÁêÜÂØπË±°ÂíåÁúüÂÆûÂØπË±°ÁöÑÂÖ≥Á≥ªÊòØÂú®Á®ãÂ∫èËøêË°åÊó∂ÊúüÊâçÁ°ÆÂÆöÁöÑ„ÄÇÂ¶Ç‰ΩïÂä®ÊÄÅÁöÑÂàõÂª∫‰∏Ä‰ªΩÂ≠óËäÇÁ†ÅÔºöÁî±‰∫é JVM ÈÄöËøáÂ≠óËäÇÁ†ÅÁöÑ‰∫åËøõÂà∂‰ø°ÊÅØÂä†ËΩΩÁ±ªÁöÑÔºåÂ¶ÇÊûúÊàë‰ª¨Âú®ËøêË°åÊúüÁ≥ªÁªü‰∏≠ÔºåÈÅµÂæ™ Java ÁºñËØëÁ≥ªÁªüÁªÑÁªá .class Êñá‰ª∂ÁöÑÊ†ºÂºèÂíåÁªìÊûÑÔºåÁîüÊàêÁõ∏Â∫îÁöÑ‰∫åËøõÂà∂Êï∞ÊçÆÔºåÁÑ∂ÂêéÂÜçÊääËøô‰∏™‰∫åËøõÂà∂Êï∞ÊçÆÂä†ËΩΩËΩ¨Êç¢ÊàêÂØπÂ∫îÁöÑÁ±ª„ÄÇÂ¶ÇÊ≠§ÔºåÂ∞±ÂÆåÊàê‰∫ÜÂú®‰ª£Á†Å‰∏≠Âä®ÊÄÅÂàõÂª∫‰∏Ä‰∏™Á±ªÁöÑËÉΩÂäõ‰∫Ü„ÄÇÁõ∏ÂÖ≥ËµÑÊñôInvocationHandler Á±ªInvocationHandlerÊòØÁî±‰ª£ÁêÜÂÆû‰æãÁöÑË∞ÉÁî®Â§ÑÁêÜÁ®ãÂ∫èÂÆûÁé∞ÁöÑÊé•Âè£ „ÄÇÊØè‰∏™‰ª£ÁêÜÂÆû‰æãÈÉΩÊúâ‰∏Ä‰∏™ÂÖ≥ËÅîÁöÑË∞ÉÁî®Â§ÑÁêÜÁ®ãÂ∫è„ÄÇ ÂΩìÂú®‰ª£ÁêÜÂÆû‰æã‰∏äË∞ÉÁî®ÊñπÊ≥ïÊó∂ÔºåÊñπÊ≥ïË∞ÉÁî®Â∞ÜË¢´ÁºñÁ†ÅÂπ∂ÂàÜÊ¥æÂà∞ÂÖ∂Ë∞ÉÁî®Â§ÑÁêÜÁ®ãÂ∫èÁöÑinvokeÊñπÊ≥ï„ÄÇ1234567‰∏ªË¶ÅÊñπÊ≥ïÔºöpublic Object invoke(Object proxy, Method method, Object[] args) ÊñπÊ≥ïËÅåË¥£ÔºöË¥üË¥£ÈõÜ‰∏≠Â§ÑÁêÜÂä®ÊÄÅ‰ª£ÁêÜÁ±ª‰∏äÁöÑÊâÄÊúâÊñπÊ≥ïË∞ÉÁî® ÂèÇÊï∞Ôºö proxy ÔºöÁîüÊàêÁöÑ‰ª£ÁêÜÂØπË±° methodÔºöÂΩìÂâçË∞ÉÁî®ÁöÑÁúüÂÆûÊñπÊ≥ïÂØπË±° args ÔºöÂΩìÂâçË∞ÉÁî®ÊñπÊ≥ïÁöÑÂÆûÂèÇ ËøîÂõûÔºöÁúüÂÆûÊñπÊ≥ïÁöÑËøîÂõûÁªìÊûúProxy Á±ªProxyÊèê‰æõ‰∫ÜÂàõÂª∫Âä®ÊÄÅ‰ª£ÁêÜÁ±ªÂíåÂÆû‰æãÁöÑÈùôÊÄÅÊñπÊ≥ïÔºåÂÆÉ‰πüÊòØÁî±Ëøô‰∫õÊñπÊ≥ïÂàõÂª∫ÁöÑÊâÄÊúâÂä®ÊÄÅ‰ª£ÁêÜÁ±ªÁöÑË∂ÖÁ±ª„ÄÇ1234567‰∏ªË¶ÅÊñπÊ≥ïÔºöpublic static Object newProxyInstance(ClassLoader loader, Class&lt;?&gt;[] interfaces,InvocationHandler hanlder) ÊñπÊ≥ïËÅåË¥£Ôºö‰∏∫ÊåáÂÆöÁ±ªÂä†ËΩΩÂô®„ÄÅ‰∏ÄÁªÑÊé•Âè£ÂèäË∞ÉÁî®Â§ÑÁêÜÂô®ÁîüÊàêÂä®ÊÄÅ‰ª£ÁêÜÁ±ªÂÆû‰æã ÂèÇÊï∞: loader ÔºöÁ±ªÂä†ËΩΩÂô®Ôºå‰∏ÄËà¨‰º†ÈÄíÁúüÂÆûÂØπË±°ÁöÑÁ±ªÂä†ËΩΩÂô® interfacesÔºö‰ª£ÁêÜÁ±ªÈúÄË¶ÅÂÆûÁé∞ÁöÑÊé•Âè£ hanlderÔºö‰ª£ÁêÜÂØπË±°Â¶Ç‰ΩïÂÅöÂ¢ûÂº∫: ËøîÂõûÔºöÂàõÂª∫ÁöÑ‰ª£ÁêÜÂØπË±°ÈùôÊÄÅÊñπÊ≥ïstatic ObjectnewProxyInstance(ClassLoader loader, Á±ª&lt;?&gt;[] interfaces, InvocationHandler h) ËøîÂõûÊåáÂÆöÊé•Âè£ÁöÑ‰ª£ÁêÜÁ±ªÁöÑÂÆû‰æãÔºåËØ•Êé•Âè£Â∞ÜÊñπÊ≥ïË∞ÉÁî®ÂàÜÊ¥æÁªôÊåáÂÆöÁöÑË∞ÉÁî®Â§ÑÁêÜÁ®ãÂ∫è„ÄÇÂÆûÁé∞Âä®ÊÄÅ‰ª£ÁêÜÊñπÂºè ÈíàÂØπÊúâÊé•Âè£Ôºö‰ΩøÁî® JDK Âä®ÊÄÅ‰ª£ÁêÜÔºõ ÈíàÂØπÊó†Êé•Âè£Ôºö‰ΩøÁî® CGLIB Êàñ Javassist ÁªÑ‰ª∂„ÄÇËã•‰ΩøÁî® JDK Âä®ÊÄÅ‰ª£ÁêÜÁîüÊàê‰ª£ÁêÜÁ±ª,ÁúüÂÆûÁ±ªÂøÖÈ°ªÂÆûÁé∞‰∏Ä‰∏™Êé•Âè£‰ª£Á†ÅÂÆûÁé∞(JDKÂä®ÊÄÅ‰ª£ÁêÜ)‰ª£ÁêÜÊé•Âè£123456789101112131415/** * @author LuGuoZheng * @date 2019/5/9 9:42 * @Version 3.0 * @description ‰ª£ÁêÜÊé•Âè£ */public interface EmployeeService &#123; /** * Á≠æËÆ¢ÂêàÂêå * @param name ÂßìÂêç * @param contract ÂêàÂêå */ void save(String name, String contract);&#125;ÁúüÂÆûÂØπË±°12345678910111213141516171819/** * @author LuGuoZheng * @date 2019/5/9 10:31 * @Version 3.0 * @description ÁúüÂÆûÂØπË±° */public class EmployeeServiceImpl implements EmployeeService &#123; /** * Á≠æËÆ¢ÂêàÂêå * * @param name ÂßìÂêç * @param contract ÂêàÂêå */ @Override public void save(String name, String contract) &#123; System.out.println("ÊàëÊòØÁúüÂÆûÂØπË±°,‰∏é" + name + "Á≠æËÆ¢‰∫Ü" + contract); &#125;&#125;‰∫ãÂä°1234567891011121314151617181920/** * @author LuGuoZheng * @date 2019/5/9 11:17 * @Version 3.0 * @description ‰∫ãÂä° */public class MyTransactionManger &#123; public void begin()&#123; System.out.println("ÂºÄÂêØ‰∫ãÂä°"); &#125; public void rollback()&#123; System.out.println("ÂõûÊªö‰∫ãÂä°"); &#125; public void commit()&#123; System.out.println("Êèê‰∫§‰∫ãÂä°"); &#125;&#125;Â§ÑÁêÜÂô®123456789101112131415161718192021222324252627282930313233343536373839404142434445/** * @author LuGuoZheng * @date 2019/5/11 16:45 * @Version 3.0 * @description */public class TransactionManagerHandler implements InvocationHandler &#123; // ÁúüÂÆûÂØπË±° private Object target; // ‰∫ãÂä°ÂØπË±° private MyTransactionManger tx; public void setTarget(Object target) &#123; this.target = target; &#125; public void setMyTransactionManger(MyTransactionManger tx) &#123; this.tx = tx; &#125; // Ëé∑Âèñ‰ª£ÁêÜÂØπË±° public &lt;T&gt; T getProxy()&#123; return (T) Proxy.newProxyInstance( target.getClass().getClassLoader(), target.getClass().getInterfaces(), this); &#125; @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; Object result = null; tx.begin(); try &#123; result = method.invoke(target,args); tx.commit(); &#125; catch (Exception e) &#123; e.printStackTrace(); tx.rollback(); &#125; return result; &#125;&#125;ÊµãËØï12345678910111213141516171819202122232425/** * @author LuGuoZheng * @date 2019/5/11 16:58 * @Version 3.0 * @description */public class Test &#123; public static void main(String[] args) &#123; MyTransactionManger tx = new MyTransactionManger(); EmployeeService employeeService = new EmployeeServiceImpl(); TransactionManagerHandler handler = new TransactionManagerHandler(); handler.setMyTransactionManger(tx); handler.setTarget(employeeService); System.out.println("ÁúüÂÆûÁ±ª:" + employeeService); EmployeeService proxy = handler.getProxy(); System.out.println("‰ª£ÁêÜÁ±ª:" + proxy); proxy.save("Âº†‰∏â","10Âπ¥ÈïøÊúüÂêàÂêå"); &#125;&#125;ÁªìÊûú123ÂºÄÂêØ‰∫ãÂä°ÊàëÊòØÁúüÂÆûÂØπË±°,‰∏éÂº†‰∏âÁ≠æËÆ¢‰∫Ü10Âπ¥ÈïøÊúüÂêàÂêåÊèê‰∫§‰∫ãÂä°Ë∞ÉÁî®ÊµÅÁ®ãJDKÂä®ÊÄÅ‰ª£ÁêÜÊÄªÁªìJava Âä®ÊÄÅ‰ª£ÁêÜÊòØ‰ΩøÁî® java.lang.reflect ÂåÖ‰∏≠ÁöÑ Proxy Á±ª‰∏é InvocationHandler Êé•Âè£Ëøô‰∏§‰∏™Êù•ÂÆåÊàêÁöÑ„ÄÇË¶Å‰ΩøÁî® JDK Âä®ÊÄÅ‰ª£ÁêÜÔºåÂßîÊâòÁ±ªÂøÖÈ°ªÂÆûÁé∞Êé•Âè£„ÄÇJDK Âä®ÊÄÅ‰ª£ÁêÜÂ∞Ü‰ºöÊã¶Êà™ÊâÄÊúâ pubic ÁöÑÊñπÊ≥ïÔºàÂõ†‰∏∫Âè™ËÉΩË∞ÉÁî®Êé•Âè£‰∏≠ÂÆö‰πâÁöÑÊñπÊ≥ïÔºâÔºåËøôÊ†∑Âç≥‰ΩøÂú®Êé•Âè£‰∏≠Â¢ûÂä†‰∫ÜÊñ∞ÁöÑÊñπÊ≥ïÔºå‰∏çÁî®‰øÆÊîπ‰ª£Á†Å‰πü‰ºöË¢´Êã¶Êà™„ÄÇÂä®ÊÄÅ‰ª£ÁêÜÁöÑÊúÄÂ∞èÂçï‰ΩçÊòØÁ±ªÔºàÁ±ª‰∏≠Êüê‰∫õÊñπÊ≥ïÈÉΩ‰ºöË¢´Â§ÑÁêÜÔºâÔºåÂ¶ÇÊûúÂè™ÊÉ≥Êã¶Êà™‰∏ÄÈÉ®ÂàÜÊñπÊ≥ïÔºåÂèØ‰ª•Âú® invoke ÊñπÊ≥ï‰∏≠ÂØπË¶ÅÊâßË°åÁöÑÊñπÊ≥ïÂêçËøõË°åÂà§Êñ≠„ÄÇÂØπÊé•Âè£ÂàõÂª∫‰ª£ÁêÜ‰ºò‰∫éÂØπÁ±ªÂàõÂª∫‰ª£ÁêÜÔºåÂõ†‰∏∫‰ºö‰∫ßÁîüÊõ¥Âä†ÊùæËÄ¶ÂêàÁöÑÁ≥ªÁªüÔºå‰πüÊõ¥Á¨¶ÂêàÈù¢ÂêëÊé•Âè£ÁºñÁ®ãËßÑËåÉ„ÄÇËã•ÂßîÊâòÁ±ªÂÆûÁé∞‰∫ÜÊé•Âè£Ôºå‰ºòÂÖàÈÄâÁî® JDK Âä®ÊÄÅ‰ª£ÁêÜ„ÄÇËã•ÂßîÊâòÁ±ªÊ≤°ÊúâÂÆûÁé∞‰ªª‰ΩïÊé•Âè£Ôºå‰ΩøÁî® Javassit Âíå CGLIB Âä®ÊÄÅ‰ª£ÁêÜ„ÄÇ]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°ÂºèÁ≥ªÂàó</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÈùôÊÄÅ‰ª£ÁêÜÊ®°Âºè]]></title>
    <url>%2F2019%2F05%2F09%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ÂÆ¢Êà∑Á´ØÁõ¥Êé•‰ΩøÁî®ÁöÑÈÉΩÊòØ‰ª£ÁêÜÂØπË±°Ôºå‰∏çÁü•ÈÅìÁúüÂÆûÂØπË±°ÊòØË∞ÅÔºåÊ≠§Êó∂‰ª£ÁêÜÂØπË±°ÂèØ‰ª•Âú®ÂÆ¢Êà∑Á´ØÂíåÁúüÂÆûÂØπË±°‰πãÈó¥Ëµ∑Âà∞‰∏≠‰ªãÁöÑ‰ΩúÁî®„ÄÇ1.1„ÄÅ‰ª£ÁêÜÂØπË±°ÂÆåÂÖ®ÂåÖÂê´ÁúüÂÆûÂØπË±°ÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî®ÁöÑÈÉΩÊòØ‰ª£ÁêÜÂØπË±°ÁöÑÊñπÊ≥ïÔºåÂíåÁúüÂÆûÂØπË±°Ê≤°ÊúâÁõ¥Êé•ÂÖ≥Á≥ªÔºõ1.2„ÄÅ‰ª£ÁêÜÊ®°ÂºèÁöÑËÅåË¥£ÔºöÊää‰∏çÊòØÁúüÂÆûÂØπË±°ËØ•ÂÅöÁöÑ‰∫ãÊÉÖ‰ªéÁúüÂÆûÂØπË±°‰∏äÊíáÂºÄ‚Äî‚ÄîËÅåË¥£ÂàÜÁ¶ª„ÄÇ‰ª£ÁêÜÊ®°ÂºèÂÆ¢Êà∑Á´ØÁõ¥Êé•‰ΩøÁî®ÁöÑÈÉΩÊòØ‰ª£ÁêÜÂØπË±°Ôºå‰∏çÁü•ÈÅìÁúüÂÆûÂØπË±°ÊòØË∞ÅÔºåÊ≠§Êó∂‰ª£ÁêÜÂØπË±°ÂèØ‰ª•Âú®ÂÆ¢Êà∑Á´ØÂíåÁúüÂÆûÂØπË±°‰πãÈó¥Ëµ∑Âà∞‰∏≠‰ªãÁöÑ‰ΩúÁî®„ÄÇ1.1„ÄÅ‰ª£ÁêÜÂØπË±°ÂÆåÂÖ®ÂåÖÂê´ÁúüÂÆûÂØπË±°ÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî®ÁöÑÈÉΩÊòØ‰ª£ÁêÜÂØπË±°ÁöÑÊñπÊ≥ïÔºåÂíåÁúüÂÆûÂØπË±°Ê≤°ÊúâÁõ¥Êé•ÂÖ≥Á≥ªÔºõ1.2„ÄÅ‰ª£ÁêÜÊ®°ÂºèÁöÑËÅåË¥£ÔºöÊää‰∏çÊòØÁúüÂÆûÂØπË±°ËØ•ÂÅöÁöÑ‰∫ãÊÉÖ‰ªéÁúüÂÆûÂØπË±°‰∏äÊíáÂºÄ‚Äî‚ÄîËÅåË¥£ÂàÜÁ¶ª„ÄÇ1. ÈùôÊÄÅ‰ª£ÁêÜÂú®Á®ãÂ∫èËøêË°åÂâçÂ∞±Â∑≤ÁªèÂ≠òÂú®‰ª£ÁêÜÁ±ªÁöÑÂ≠óËäÇÁ†ÅÊñá‰ª∂,‰ª£ÁêÜÂØπË±°ÂíåÁúüÂÆûÂØπË±°ÁöÑÂÖ≥Á≥ªÂú®ËøêË°åÂâçÂ∞±Á°ÆÂÆö‰∫Ü.2. ‰ª£Á†ÅÂÆûÁé∞‰ª£ÁêÜÊé•Âè£123456789101112131415/** * @author LuGuoZheng * @date 2019/5/9 9:42 * @Version 3.0 * @description ‰ª£ÁêÜÊé•Âè£ */public interface EmployeeService &#123; /** * Á≠æËÆ¢ÂêàÂêå * @param name ÂßìÂêç * @param contract ÂêàÂêå */ void save(String name, String contract);&#125;ÁúüÂÆûÂØπË±°12345678910111213141516171819/** * @author LuGuoZheng * @date 2019/5/9 10:31 * @Version 3.0 * @description ÁúüÂÆûÂØπË±° */public class EmployeeServiceImpl implements EmployeeService &#123; /** * Á≠æËÆ¢ÂêàÂêå * * @param name ÂßìÂêç * @param contract ÂêàÂêå */ @Override public void save(String name, String contract) &#123; System.out.println("ÊàëÊòØÁúüÂÆûÂØπË±°,‰∏é" + name + "Á≠æËÆ¢‰∫Ü" + contract); &#125;&#125;‰ª£ÁêÜÂØπË±°1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/** * @author LuGuoZheng * @date 2019/5/9 10:34 * @Version 3.0 * @description ‰ª£ÁêÜÂØπË±° */public class EmployeeProxyImpl implements EmployeeService &#123; /** * ÁúüÂÆûÂØπË±° */ private EmployeeService target; private MyTransactionManger myTransactionManger; public void setTarget(EmployeeService target)&#123; this.target = target; &#125; public void setMyTransactionManger(MyTransactionManger myTransactionManger)&#123; this.myTransactionManger = myTransactionManger; &#125; /** * Á≠æËÆ¢ÂêàÂêå * * @param name ÂßìÂêç * @param contract ÂêàÂêå */ @Override public void save(String name, String contract) &#123; myTransactionManger.begin(); try &#123; // ÁúüÂÆûÂØπË±°Âè™Ë¥üË¥£Á≠æËÆ¢ÂêàÂêå target.save(name,contract); // TODO Á≠æËÆ¢ÂêàÂêåÂêéÂ§ÑÁêÜ‰∏ÄÁ≥ªÂàóÂÖ∂‰ªñÈóÆÈ¢ò myTransactionManger.commit(); &#125; catch (Exception e) &#123; myTransactionManger.rollback(); e.printStackTrace(); &#125; &#125;&#125;‰∫ãÂä°1234567891011121314151617181920/** * @author LuGuoZheng * @date 2019/5/9 11:17 * @Version 3.0 * @description ‰∫ãÂä° */public class MyTransactionManger &#123; public void begin()&#123; System.out.println("ÂºÄÂêØ‰∫ãÂä°"); &#125; public void rollback()&#123; System.out.println("ÂõûÊªö‰∫ãÂä°"); &#125; public void commit()&#123; System.out.println("Êèê‰∫§‰∫ãÂä°"); &#125;&#125;ÊµãËØï123456789101112131415161718192021/** * @author LuGuoZheng * @date 2019/5/9 11:01 * @Version 3.0 * @description ÊµãËØï * * */public class Test &#123; public static void main(String[] args) &#123; EmployeeServiceImpl employeeService = new EmployeeServiceImpl(); EmployeeProxyImpl employeeProxy = new EmployeeProxyImpl(); MyTransactionManger myTransactionManger = new MyTransactionManger(); employeeProxy.setMyTransactionManger(myTransactionManger); employeeProxy.setTarget(employeeService); employeeProxy.save(" Âº†‰∏â ","10ÈïøÊúüÂêàÂêå~!"); &#125;&#125;ÊµãËØïÁªìÊûú123ÂºÄÂêØ‰∫ãÂä°ÊàëÊòØÁúüÂÆûÂØπË±°,‰∏é Âº†‰∏â Á≠æËÆ¢‰∫Ü10ÈïøÊúüÂêàÂêå~!Êèê‰∫§‰∫ãÂä°3. ÈùôÊÄÅ‰ª£ÁêÜ‰ºòÁº∫ÁÇπ‰ºòÁÇπ‰∏öÂä°Âè™ÈúÄË¶ÅÂÖ≥Ê≥®‰∏öÂä°ÈÄªËæëÊú¨Ë∫´,‰øùËØÅ‰∫Ü‰∏öÂä°Á±ªÁöÑÈáçË¶ÅÊÄß.ÊääÁúüÂÆûÂØπË±°ÈöêËóèËµ∑Êù•,‰øùÊä§ÁúüÂÆûÂØπË±°Áº∫ÁÇπ‰ª£ÁêÜÂØπË±°ÁöÑÊüê‰∏™Êé•Âè£Âè™ÊúçÂä°‰∫éÊüê‰∏ÄÁßçÁ±ªÂûãÁöÑÂØπË±°,‰πüÂ∞±ÊòØ‰∏∫ÊØè‰∏™ÁúüÂÆûÁ±ªÂàõÂª∫‰∏Ä‰∏™‰ª£ÁêÜÁ±ª.Ëã•ÈúÄË¶Å‰ª£ÁêÜÁöÑÊñπÊ≥ïÂæàÂ§ö,ÈÇ£‰πàÂ∞±Ë¶Å‰∏∫ÊØè‰∏ÄÁßçÊñπÊ≥ïÈÉΩËøõË°å‰ª£ÁêÜÂ§ÑÁêÜ.Ëã•Êé•Âè£Â¢ûÂä†‰∏Ä‰∏™ÊñπÊ≥ï,Èô§‰∫ÜÊâÄÊúâÂÆûÁé∞Á±ªÈúÄË¶ÅÂÆûÁé∞Ëøô‰∏™ÊñπÊ≥ï,‰ª£ÁêÜÁ±ª‰πüÈúÄË¶ÅÂÆûÁé∞Ê≠§ÊñπÊ≥ï.]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°ÂºèÁ≥ªÂàó</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãËßÇÂØüËÄÖÊ®°Âºè]]></title>
    <url>%2F2019%2F05%2F08%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[Âú®ÂØπË±°‰πãÈó¥ÂÆö‰πâ‰∫Ü‰∏ÄÂØπÂ§öÁöÑ‰æùËµñÔºåËøôÊ†∑‰∏ÄÊù•ÔºåÂΩì‰∏Ä‰∏™ÂØπË±°ÊîπÂèòÁä∂ÊÄÅÔºå‰æùËµñÂÆÉÁöÑÂØπË±°‰ºöÊî∂Âà∞ÈÄöÁü•Âπ∂Ëá™Âä®Êõ¥Êñ∞„ÄÇËßÇÂØüËÄÖÊ®°ÂºèÁöÑÂÆö‰πâÂú®ÂØπË±°‰πãÈó¥ÂÆö‰πâ‰∫Ü‰∏ÄÂØπÂ§öÁöÑ‰æùËµñÔºåËøôÊ†∑‰∏ÄÊù•ÔºåÂΩì‰∏Ä‰∏™ÂØπË±°ÊîπÂèòÁä∂ÊÄÅÔºå‰æùËµñÂÆÉÁöÑÂØπË±°‰ºöÊî∂Âà∞ÈÄöÁü•Âπ∂Ëá™Âä®Êõ¥Êñ∞„ÄÇMQÁöÑÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂºèÂÖ∂ÂÆûÂ∞±ÊòØÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂºèÔºåÂèëÂ∏ÉËÄÖÂèëÂ∏É‰ø°ÊÅØÔºåËÆ¢ÈòÖËÄÖËé∑Âèñ‰ø°ÊÅØÔºåËÆ¢ÈòÖ‰∫ÜÂ∞±ËÉΩÊî∂Âà∞‰ø°ÊÅØÔºåÊ≤°ËÆ¢ÈòÖÂ∞±Êî∂‰∏çÂà∞‰ø°ÊÅØ„ÄÇÊ®°ÂºèÊ∂µÁõñÁöÑËßíËâ≤ÊäΩË±°Ë¢´ËßÇÂØüËÄÖËßíËâ≤Ôºö‰πüÂ∞±ÊòØ‰∏Ä‰∏™ÊäΩË±°‰∏ªÈ¢òÔºåÂÆÉÊääÊâÄÊúâÂØπËßÇÂØüËÄÖÂØπË±°ÁöÑÂºïÁî®‰øùÂ≠òÂú®‰∏Ä‰∏™ÈõÜÂêà‰∏≠ÔºåÊØè‰∏™‰∏ªÈ¢òÈÉΩÂèØ‰ª•Êúâ‰ªªÊÑèÊï∞ÈáèÁöÑËßÇÂØüËÄÖ„ÄÇÊäΩË±°‰∏ªÈ¢òÊèê‰æõ‰∏Ä‰∏™Êé•Âè£ÔºåÂèØ‰ª•Â¢ûÂä†ÂíåÂà†Èô§ËßÇÂØüËÄÖËßíËâ≤„ÄÇ‰∏ÄËà¨Áî®‰∏Ä‰∏™ÊäΩË±°Á±ªÂíåÊé•Âè£Êù•ÂÆûÁé∞„ÄÇÊäΩË±°ËßÇÂØüËÄÖËßíËâ≤Ôºö‰∏∫ÊâÄÊúâÁöÑÂÖ∑‰ΩìËßÇÂØüËÄÖÂÆö‰πâ‰∏Ä‰∏™Êé•Âè£ÔºåÂú®ÂæóÂà∞‰∏ªÈ¢òÈÄöÁü•Êó∂Êõ¥Êñ∞Ëá™Â∑±„ÄÇÂÖ∑‰ΩìË¢´ËßÇÂØüËÄÖËßíËâ≤Ôºö‰πüÂ∞±ÊòØ‰∏Ä‰∏™ÂÖ∑‰ΩìÁöÑ‰∏ªÈ¢òÔºåÂú®ÈõÜ‰Ωì‰∏ªÈ¢òÁöÑÂÜÖÈÉ®Áä∂ÊÄÅÊîπÂèòÊó∂ÔºåÊâÄÊúâÁôªËÆ∞ËøáÁöÑËßÇÂØüËÄÖÂèëÂá∫ÈÄöÁü•„ÄÇÂÖ∑‰ΩìËßÇÂØüËÄÖËßíËâ≤ÔºöÂÆûÁé∞ÊäΩË±°ËßÇÂØüËÄÖËßíËâ≤ÊâÄÈúÄË¶ÅÁöÑÊõ¥Êñ∞Êé•Âè£Ôºå‰∏ÄËæπ‰ΩøÊú¨Ë∫´ÁöÑÁä∂ÊÄÅ‰∏éÂà∂ÂõæÁöÑÁä∂ÊÄÅÁõ∏ÂçèË∞É„ÄÇ‰ª£Á†ÅÂÆûÁé∞Ë¢´ËßÇÂØüËÄÖÊé•Âè£12345678910111213141516171819202122232425262728/** * @author LuGuoZheng * @date 2019/5/8 13:42 * @Version 3.0 * @description Ë¢´ËßÇÂØüËÄÖÊé•Âè£ */public interface Observerable &#123; /** * Ê≥®ÂÜåËßÇÂØüËÄÖ * * @param observer ËßÇÂØüËÄÖ */ void registerObServer(Observer observer); /** * ÁßªÈô§ËßÇÂØü * * @param observer ËßÇÂØüËÄÖ */ void removeObServer(Observer observer); /** * ÈÄöÁü•ËßÇÂØüËÄÖ * @param message Ê∂àÊÅØ */ void notifyObServer(String message);&#125;ËßÇÂØüËÄÖÊé•Âè£12345678910111213141516/** * @author LuGuoZheng * @date 2019/5/8 13:44 * @Version 3.0 * @description */public interface Observer &#123; /** * ÂΩìË¢´ËßÇÂØüËÄÖÂèëÂ∏ÉÊ∂àÊÅØÊó∂,Ë∞ÉÁî®ËßÇÂØüËÄÖÁöÑupdateÊñπÊ≥ï,Êõ¥Êñ∞Ê∂àÊÅØ * * @param message Ê∂àÊÅØ */ void update(String message);&#125;Ë¢´ËßÇÂØüËÄÖ12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152/** * @author LuGuoZheng * @date 2019/5/8 13:51 * @Version 3.0 * @description ÂÖ¨‰ºóÂè∑ */public class WechatServer implements Observerable &#123; /** * ÂØÑÂ≠òËÆ¢ÈòÖ‰∫ÜËØ•ÂÖ¨‰ºóÂè∑ÁöÑÁî®Êà∑(ËßÇÂØüËÄÖ) */ private List&lt;Observer&gt; observerList = new ArrayList&lt;&gt;(); /** * Ê≥®ÂÜåËßÇÂØüËÄÖ * * @param observer ËßÇÂØüËÄÖ */ @Override public void registerObServer(Observer observer) &#123; observerList.add(observer); System.out.println("[" + ((User) observer).getName() + "]" + "ÂÖ≥Ê≥®‰∫ÜÂÖ¨‰ºóÂè∑~!"); &#125; /** * ÂèñÊ∂àËßÇÂØü * * @param observer ËßÇÂØüËÄÖ */ @Override public void removeObServer(Observer observer) &#123; if (observer == null) &#123; return; &#125; boolean remove = observerList.remove(observer); if (remove) &#123; System.out.println("[" + ((User) observer).getName() + "]" + "ÂèñÊ∂à‰∫ÜÂÖ≥Ê≥®~! (‚ïØ‚Äµ‚ñ°‚Ä≤)‚ïØÔ∏µ‚îª‚îÅ‚îª"); &#125; &#125; /** * ÈÄöÁü•ËßÇÂØüËÄÖ * * @param message Ê∂àÊÅØ */ @Override public void notifyObServer(String message) &#123; for (Observer observer : observerList) &#123; observer.update(message); &#125; &#125;&#125;ËßÇÂØüËÄÖ123456789101112131415161718192021222324/** * @author LuGuoZheng * @date 2019/5/8 13:56 * @Version 3.0 * @description ËßÇÂØüËÄÖ */@Data@AllArgsConstructor@NoArgsConstructorpublic class User implements Observer &#123; private String name; /** * ÂΩìË¢´ËßÇÂØüËÄÖÂèëÂ∏ÉÊ∂àÊÅØÊó∂,Ë∞ÉÁî®ËßÇÂØüËÄÖÁöÑupdateÊñπÊ≥ï,Êõ¥Êñ∞Ê∂àÊÅØ * * @param message Ê∂àÊÅØ */ @Override public void update(String message) &#123; System.out.println("ÊàëÊòØ:" + name + "," + message); &#125;&#125;ÊµãËØï1234567891011121314151617181920212223242526272829303132/** * @author LuGuoZheng * @date 2019/5/8 14:24 * @Version 3.0 * @description */public class Test &#123; public static void main(String[] args) &#123; Observer u1 = new User("Âº†‰∏â"); Observer u2 = new User("ÊùéÂõõ"); Observer u3 = new User("Áéã‰∫î"); Observerable wecahtService = new WechatServer(); // ËßÇÂØü(ËÆ¢ÈòÖ)ÂÖ¨‰ºóÂè∑ wecahtService.registerObServer(u1); wecahtService.registerObServer(u2); wecahtService.registerObServer(u3); System.out.println("--------------------------------"); // ÂèëÂ∏ÉÊ∂àÊÅØ wecahtService.notifyObServer("Á¨¨‰∏ÄÊ≥¢Á¶èÂà©"); System.out.println("--------------------------------"); // ÂèñÊ∂àÂÖ≥Ê≥® wecahtService.removeObServer(u1); System.out.println("--------------------------------"); // ÂèëÂ∏ÉÊ∂àÊÅØ wecahtService.notifyObServer("ËøôÊòØÁ¨¨‰∫åÊ≥¢Á¶èÂà©"); &#125;&#125;ÊµãËØïÁªìÊûú123456789101112[Âº†‰∏â]ÂÖ≥Ê≥®‰∫ÜÂÖ¨‰ºóÂè∑~![ÊùéÂõõ]ÂÖ≥Ê≥®‰∫ÜÂÖ¨‰ºóÂè∑~![Áéã‰∫î]ÂÖ≥Ê≥®‰∫ÜÂÖ¨‰ºóÂè∑~!--------------------------------ÊàëÊòØ:Âº†‰∏â,Á¨¨‰∏ÄÊ≥¢Á¶èÂà©ÊàëÊòØ:ÊùéÂõõ,Á¨¨‰∏ÄÊ≥¢Á¶èÂà©ÊàëÊòØ:Áéã‰∫î,Á¨¨‰∏ÄÊ≥¢Á¶èÂà©--------------------------------[Âº†‰∏â]ÂèñÊ∂à‰∫ÜÂÖ≥Ê≥®~! (‚ïØ‚Äµ‚ñ°‚Ä≤)‚ïØÔ∏µ‚îª‚îÅ‚îª--------------------------------ÊàëÊòØ:ÊùéÂõõ,ËøôÊòØÁ¨¨‰∫åÊ≥¢Á¶èÂà©ÊàëÊòØ:Áéã‰∫î,ËøôÊòØÁ¨¨‰∫åÊ≥¢Á¶èÂà©ÂèÇËÄÉ:JAVAËÆæËÆ°Ê®°Âºè‰πãËßÇÂØüËÄÖÊ®°Âºè]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°ÂºèÁ≥ªÂàó</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LinuxÁõ∏ÂÖ≥ÂëΩ‰ª§]]></title>
    <url>%2F2019%2F04%2F26%2FLinux%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[Â¶ÇÈ¢òËÆ∞ÂΩï‰∏çÂ∏∏Áî®ÁöÑLinuxÂëΩ‰ª§ËøêË°åjavaÈ°πÁõÆ1nohup java -jar -Xms10m -Xmx200m ylcloud-item-service-0.0.1-SNAPSHOT.jar &gt; /pro/test/home/yanfa/nohup_item.out &amp; 2&gt;&amp;1 &amp;nohup: ÂêéÂè∞ÂêØÂä®È°πÁõÆ-Xms10m -Xmx200m: jvmËôöÊãüÊú∫ÂèÇÊï∞Êü•ÁúãÊüêÁ´ØÂè£Âç†Áî®ÁöÑÁ∫øÁ®ãÁöÑpid1netstat -nlp |grep :4000Êü•ÁúãpidÂç†Áî®ÁöÑÁ´ØÂè£Âè∑1netstat -nap | grep 32716‰∫å. Èò≤ÁÅ´Â¢ô2.1 Êü•ÁúãÊâÄÊúâÊâìÂºÄÁöÑÁ´ØÂè£1firewall-cmd --zone=public --list-ports2.2 ÂºÄÂêØÁ´ØÂè£Ôºà‚ÄìpermanentÂèÇÊï∞‰∏∫Ê∞∏‰πÖÁîüÊïàÔºå‰∏çÂä†ÂàôÈáçÂêØÂêéÂ§±ÊïàÔºâ1firewall-cmd --zone=public --add-port=Á´ØÂè£Âè∑/tcp --permanent2.3 Êõ¥Êñ∞Èò≤ÁÅ´Â¢ôËßÑÂàôÔºö1firewall-cmd --reloadÊü•ÁúãÂÆâË£ÖÁõÆÂΩï1which gitÊü•ÁúãÊñá‰ª∂Â§ßÂ∞è1du -sh *ÈáçÂêØnginxÂú®sbinÁõÆÂΩï‰∏ãÊâßË°åÂëΩ‰ª§1./nginx -s reloadVIÊìç‰ΩúVIÊìç‰Ωú:Áî®ÁöÑÊòØÈîÆÁõòÁöÑÂ∑¶ËæπÁöÑÊï∞Â≠óÈîÆÈÄêÂ≠óÁ¨¶ÁßªÂä®:Ë°åÂÜÖË∑≥ËΩ¨:Âè≥ËæπÁöÑÊï∞Â≠óÈîÆ0:Ë∑≥ËΩ¨Âà∞Ë°åÈ¶ñ(ÁºñËæëÊ®°Âºè)$(Shift+4): Ë∑≥ËΩ¨Âà∞Ë°åÂ∞æ(ÁºñËæëÊ®°Âºè)^(Shift+6): Ë∑≥ËΩ¨Âà∞Ë°åÈ¶ñÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÊØç‰ΩçÁΩÆ(ÁºñËæëÊ®°Âºè)Ë°åÈó¥Ë∑≥ËΩ¨:(Êú´Ë°åÊ®°Âºè)gg: Ë∑≥ËΩ¨Âà∞Êñá‰ª∂Á¨¨‰∏ÄË°å(ÁºñËæëÊ®°Âºè)G(Shift+g): Ë∑≥Âà∞Êñá‰ª∂ÁöÑÊúÄÂêé‰∏ÄË°å(ÁºñËæëÊ®°Âºè)Áõ¥Êé•ËæìÂÖ•Ë°åÂè∑Â∞±ÂèØ‰ª•Ë∑≥ËΩ¨Âà∞ÂØπÂ∫îË°åÊ≥®ÊÑè:ÂèØ‰ª•ÂÖàÊääË°åÂè∑ÊòæÁ§∫Âá∫Êù•:set numberÂú®ÁºñËæëÊ®°Âºè‰∏ã:ctrl+f Âêë‰∏ãÁøª‰∏ÄÈ°µ forwardctrl+b Âêë‰∏äÁøª‰∏ÄÈ°µ backwarddd: Âà†Èô§ÂÖâÊ†áÊâÄÂú®Ë°å (ÁºñËæëÊ®°Âºè)3dd:‰ªéÂÖâÊ†áË°åÂºÄÂßãÂà†Èô§3Ë°å(ÁºñËæëÊ®°Âºè)‚Äî‚Äî1,4d Âà†Èô§Á¨¨‰∏ÄË°åÂà∞Á¨¨ÂõõË°å(Êú´Ë°åÊ®°Âºè)u Êí§ÈîÄ‰∏ä‰∏Ä‰∏™Êìç‰Ωú(ÁºñËæëÊ®°Âºè)yy Â§çÂà∂ÂÖâÊ†áÊâÄÂú®Ë°å (ÁºñËæëÊ®°Âºè)2yy ‰ªéÂÖâÊ†áË°åÂºÄÂßãÂ§çÂà∂2Ë°å(ÁºñËæëÊ®°Âºè)p: Á≤òË¥¥ÂëΩ‰ª§Êú´Ë°åÊ®°Âºè:Êñá‰ª∂ÁöÑÊü•Êâæ/parttern ‰ªéÂâçÂæÄÂêéÊü•Êâæ?parttern ‰ªéÂêéÂæÄÂâçÊü•Êâæn: ‰∏ã‰∏Ä‰∏™ÂåπÈÖçÁöÑÂ≠óÁ¨¶‰∏≤N: ‰∏ä‰∏Ä‰∏™ÂåπÈÖçÁöÑÂ≠óÁ¨¶‰∏≤g:ÂÖ®Â±ÄÊõøÊç¢i:ÂøΩÁï•Â§ßÂ∞èÂÜô%s/f/F/giÂàõÂª∫Êñá‰ª∂vi Êñá‰ª∂Âêçtouch Êñá‰ª∂ÂêçÂàõÂª∫ÁõÆÂΩïmkdir ÁõÆÂΩïÂêçmkdir -p ÁõÆÂΩïÂêç1/ÁõÆÂΩïÂêç2 ÂàõÂª∫Â±ÇÁ∫ßÁõÆÂΩï ÂèØ‰ª•ÊòØÁõ∏ÂØπÁõÆÂΩï,‰πüÂèØ‰ª•ÊòØÁªùÂØπÁõÆÂΩïrm Êñá‰ª∂Âêçrm -f Êñá‰ª∂Âêçrm -fr ÁõÆÂΩï Âà†Èô§ÁõÆÂΩïÂøÖÈ°ª‰ΩøÁî® -r ÈÄíÂΩíÂà†Èô§Êã∑Ë¥ù: cpÊã∑Ë¥ùÁõÆÂΩïÁöÑËØùË¶ÅÂ∏¶‰∏äÂèÇÊï∞-rÁßªÂä®: mv]]></content>
      <categories>
        <category>ÊúçÂä°Âô®Á≥ªÂàó</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÁ≠ñÁï•Ê®°Âºè]]></title>
    <url>%2F2019%2F04%2F26%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[Á≠ñÁï•Ê®°ÂºèÊÄùÊÉ≥ÊòØÈíàÂØπ‰∏ÄÁªÑÁÆóÊ≥ïÔºåÂ∞ÜÊØè‰∏ÄÁßçÁÆóÊ≥ïÈÉΩÂ∞ÅË£ÖÂà∞ÂÖ∑ÊúâÂÖ±ÂêåÊé•Âè£ÁöÑÁã¨Á´ãÁöÑÁ±ª‰∏≠Ôºå‰ªéËÄåÊòØÂÆÉ‰ª¨ÂèØ‰ª•Áõ∏‰∫íÊõøÊç¢.Á≠ñÁï•Ê®°ÂºèÁöÑÊúÄÂ§ßÁâπÁÇπÊòØ‰ΩøÂæóÁÆóÊ≥ïÂèØ‰ª•Âú®‰∏çÂΩ±ÂìçÂÆ¢Êà∑Á´ØÁöÑÊÉÖÂÜµ‰∏ãÂèëÁîüÂèòÂåñÔºå‰ªéËÄåÊîπÂèò‰∏çÂêåÁöÑÂäüËÉΩ„ÄÇ1. ÁÆÄ‰ªãÊÄùÊÉ≥ÊòØÈíàÂØπ‰∏ÄÁªÑÁÆóÊ≥ïÔºåÂ∞ÜÊØè‰∏ÄÁßçÁÆóÊ≥ïÈÉΩÂ∞ÅË£ÖÂà∞ÂÖ∑ÊúâÂÖ±ÂêåÊé•Âè£ÁöÑÁã¨Á´ãÁöÑÁ±ª‰∏≠Ôºå‰ªéËÄåÊòØÂÆÉ‰ª¨ÂèØ‰ª•Áõ∏‰∫íÊõøÊç¢.Á≠ñÁï•Ê®°ÂºèÁöÑÊúÄÂ§ßÁâπÁÇπÊòØ‰ΩøÂæóÁÆóÊ≥ïÂèØ‰ª•Âú®‰∏çÂΩ±ÂìçÂÆ¢Êà∑Á´ØÁöÑÊÉÖÂÜµ‰∏ãÂèëÁîüÂèòÂåñÔºå‰ªéËÄåÊîπÂèò‰∏çÂêåÁöÑÂäüËÉΩ„ÄÇ2. ‰ª£Á†ÅÂÆûÁé∞Êé•Âè£123456789101112131415/** * @author LuGuoZheng * @date 2019/4/26 14:37 * @Version 3.0 * @description */public interface Condition &#123; /** * Êù°‰ª∂ * @param num Êï∞ÊçÆ * @return */ boolean check(int num);&#125;Á±ª12345678910111213141516171819202122232425262728293031323334353637383940414243444546/** * @author LuGuoZheng * @date 2019/4/26 14:36 * @Version 3.0 * @description Á≠ñÁï•Ê®°Âºè */public class Strategy &#123; /** * ËøáÊª§Êï∞ÊçÆÊñπÊ≥ï * @param nums Êï∞ÊçÆÊ∫ê * @param condition Á≠ñÁï• * @return */ public List&lt;Integer&gt; filteNum(List&lt;Integer&gt; nums,Condition condition)&#123; List&lt;Integer&gt; newNums = new ArrayList&lt;&gt;(); for (Integer num : nums) &#123; if (condition.check(num))&#123; newNums.add(num); &#125; &#125; return newNums; &#125; @Test public void test() &#123; List&lt;Integer&gt; list = List.of(1, 2, 3, 4, 5, 6, 7); // ‰ΩøÁî®ÂåøÂêçÂÜÖÈÉ®Á±ªÊµãËØï list = filteNum(list, new Condition() &#123; @Override public boolean check(int num) &#123; return num % 2 == 0; &#125; &#125;); System.out.println(list); // [2, 4, 6] list = filteNum(list, new Condition() &#123; @Override public boolean check(int num) &#123; return num &lt; 5; &#125; &#125;); System.out.println(list); // [2, 4] &#125;&#125;]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°ÂºèÁ≥ªÂàó</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÊ®°ÊùøÊ®°Âºè]]></title>
    <url>%2F2019%2F04%2F25%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[Ê®°ÊùøÊ®°ÂºèÂ∞±ÊòØÊúâÂæàÂ§öÁõ∏ÂêåÁöÑÊ≠•È™§ÁöÑÔºåÂú®Êüê‰∏Ä‰∫õÂú∞ÊñπÂèØËÉΩÊúâ‰∏Ä‰∫õÂ∑ÆÂà´ÈÄÇÂêà‰∫éËøôÁßçÊ®°Âºè,‰∏çÂêåÁöÑÂú∞ÊñπÈÄöËøáÂ≠êÁ±ªË¶ÜÂÜôÊñπÊ≥ïÂÆûÁé∞Â≠êÁ±ªÁöÑÁâπÊÄß.1. ÁÆÄ‰ªãÊ®°ÊùøÊ®°ÂºèÂ∞±ÊòØÊúâÂæàÂ§öÁõ∏ÂêåÁöÑÊ≠•È™§ÁöÑÔºåÂú®Êüê‰∏Ä‰∫õÂú∞ÊñπÂèØËÉΩÊúâ‰∏Ä‰∫õÂ∑ÆÂà´ÈÄÇÂêà‰∫éËøôÁßçÊ®°Âºè,‰∏çÂêåÁöÑÂú∞ÊñπÈÄöËøáÂ≠êÁ±ªË¶ÜÂÜôÊñπÊ≥ïÂÆûÁé∞Â≠êÁ±ªÁöÑÁâπÊÄß.2. ‰ª£Á†ÅÂÆûÁé∞ÊäΩË±°Á±ª1234567891011121314151617181920public abstract class Times &#123; private static final SimpleDateFormat fmt = new SimpleDateFormat("HH:mm:ss.SSS"); abstract void doWord(); public void test(String title) &#123; title = (title == null) ? "" : ("„Äê" + title + "„Äë"); System.out.println(title); System.out.println("ÂºÄÂßãÔºö" + fmt.format(new Date())); long begin = System.currentTimeMillis(); doWord(); long end = System.currentTimeMillis(); System.out.println("ÁªìÊùüÔºö" + fmt.format(new Date())); double delta = (end - begin) / 1000.0; System.out.println("ËÄóÊó∂Ôºö" + delta + "Áßí"); System.out.println("-------------------------------------"); &#125;&#125;Â≠êÁ±ª1234567891011121314151617public class MyTemplate extends Times&#123; @Override public void doWord()&#123; int sum = 0; for (int i = 0; i &lt; 1000; i++) &#123; for (int j = 0; j &lt; 1000; j++) &#123; sum += j; &#125; &#125; System.out.println(sum); &#125; public static void main(String[] args) &#123; new MyTemplate().test("doWord"); &#125;&#125;]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°ÂºèÁ≥ªÂàó</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÆæËÆ°Ê®°Âºè‰πãÂçï‰æãÊ®°Âºè]]></title>
    <url>%2F2019%2F04%2F24%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[Âçï‰æãÊ®°ÂºèÂ∞±ÊòØÂçï‰æãÂØπË±°ÁöÑÁ±ªÂè™ËÉΩËøêË°å‰∏Ä‰∏™ÂÆû‰æãÂ≠òÂú®,Âπ∂‰∏îÂ≠òÂú®‰∏Ä‰∏™ÂÖ¨ÂÖ±ÈùôÊÄÅÁöÑÊñπÊ≥ïÊù•Ëé∑ÂèñËØ•ÂÆû‰æã1. ÁÆÄ‰ªãÂçï‰æãÊ®°ÂºèÂ∞±ÊòØÂçï‰æãÂØπË±°ÁöÑÁ±ªÂè™ËÉΩËøêË°å‰∏Ä‰∏™ÂÆû‰æãÂ≠òÂú®,Âπ∂‰∏îÂ≠òÂú®‰∏Ä‰∏™ÂÖ¨ÂÖ±ÈùôÊÄÅÁöÑÊñπÊ≥ïÊù•Ëé∑ÂèñËØ•ÂÆû‰æã2. ‰ΩøÁî®Âú∫ÊôØspringÊ°ÜÊû∂Â∞±ÊòØÂçï‰æãÊ®°ÂºèÁöÑ3. ‰ª£Á†ÅÂÆûÁé∞3.1 ÊáíÊ±âÂºè(ÂèåÊ£ÄÊü•‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®)12345678910111213141516171819202122232425public class Singleton &#123; private Integer id; private String namge; private Integer age; private volatile static Singleton INSTANCE; // ÁßÅÊúâÂåñÊûÑÈÄ†Âô® private Singleton ()&#123;&#125; // Êèê‰æõÂÖ¨ÂÖ±ÈùôÊÄÅÊñπÊ≥ïËé∑ÂèñÂÆû‰æã public static Singleton getInstance()&#123; if (INSTANCE == null)&#123; synchronized (Singleton.class)&#123; if (INSTANCE == null)&#123; INSTANCE = new Singleton(); &#125; &#125; &#125; return INSTANCE; &#125;&#125;3.2 È••È•øÂºè123456789101112131415161718192021222324/** * * ‰ºòÁÇπ: Áõ¥Êé•Âú®Á±ªÂä†ËΩΩÊó∂Â∞±ÂàùÂßãÂåñ‰∏Ä‰∏™ÂÆû‰æã,ÂèØ‰ª•ÈÅøÂÖçÁ∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢ò * Áº∫ÁÇπ: Áî±‰∫éÊòØÁ±ªÂä†ËΩΩÊó∂Â∞±ÂàùÂßãÂåñ‰∫Ü‰∏Ä‰∏™ÂÆû‰æã,Â¶ÇÊûú‰∏ÄÁõ¥Ê≤°Êúâ‰ΩøÁî®ËØ•ÂÆû‰æã,‰ºöÈÄ†ÊàêÂÜÖÂ≠òÊµ™Ë¥π,ËÄå‰∏îÊ≤°ËÉΩËµ∑Âà∞ÊáíÂä†ËΩΩÊïàÊûú */public class Singleton &#123; private Integer id; private String name; private Integer age; // ÁßÅÊúâÂåñÊûÑÈÄ†Âô® private Singleton()&#123;&#125; // ÂàùÂßãÂåñ‰∏Ä‰∏™ÂÆû‰æã private static final Singleton INSTANCE = new Singleton(); // Êèê‰æõÂÖ¨ÂÖ±ÈùôÊÄÅÊñπÊ≥ïËé∑ÂèñÂÆû‰æã public static Singleton getInstance()&#123; return INSTANCE; &#125;&#125;3.3 Êûö‰∏æ1234567891011121314public enum Singleton &#123; INSTANCE; private String name; public String getName()&#123; return name; &#125; public void setName(String name)&#123; this.name = name; &#125;&#125;3.4 Êûö‰∏æÂèçÁºñËØë(‰ΩøÁî®XJadÂèçÁºñËØë)ÈÄöËøáÂèçÁºñËØëÂèØ‰ª•ÁúãÂá∫Â∞±ÊòØ‰∏Ä‰∏™È••È•øÂºèÂçï‰æãÊ®°Âºè,ÊâÄÊúâÂÆûÁé∞Âçï‰æãÊ®°ÂºèÁõ¥Êé•ÂÜô‰∏Ä‰∏™Êûö‰∏æÂç≥ÂèØ.123456789101112131415161718192021222324252627282930313233343536373839404142// ‰ΩøÁî®final‰øÆÈ•∞Á±ª,Âπ∂ÁªßÊâø‰∫ÜEnumÁ±ªpublic final class Singleton extends Enum&#123; public static final Singleton INSTANCE; private String name; private static final Singleton $VALUES[]; public static Singleton[] values() &#123; return (Singleton[])$VALUES.clone(); &#125; public static Singleton valueOf(String name) &#123; return (Singleton)Enum.valueOf(53554F8B6A215F0F/Singleton, name); &#125; private Singleton(String s, int i) &#123; super(s, i); &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; // Âú®ÈùôÊÄÅ‰ª£Á†ÅÂùó‰∏≠Áõ¥Êé•ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂÆû‰æã static &#123; INSTANCE = new Singleton("INSTANCE", 0); $VALUES = (new Singleton[] &#123; INSTANCE &#125;); &#125;&#125;]]></content>
      <categories>
        <category>ËÆæËÆ°Ê®°ÂºèÁ≥ªÂàó</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âõõ‚ÜíÂÖ≠Êúà‰ªΩÂ≠¶‰π†ËÆ°Âàí(‰∫åÂ≠£Â∫¶)]]></title>
    <url>%2F2019%2F04%2F23%2F%E5%9B%9B%E2%80%94%E2%80%94%E5%85%AD%E6%9C%88%E4%BB%BD%E5%AD%A6%E4%B9%A0%E7%9B%AE%E6%A0%87%2F</url>
    <content type="text"><![CDATA[Â¶ÇÈ¢òspring‰ΩøÁî®Âà∞ÁöÑËÆæËÆ°Ê®°Âºè:ÁÆÄÂçïÂ∑•ÂéÇÂ∑•ÂéÇÊñπÊ≥ïÔºàFactory MethodÔºâÂçï‰æãÔºàSingletonÔºâÈÄÇÈÖçÂô®ÔºàAdapterÔºâÂåÖË£ÖÂô®ÔºàDecoratorÔºâ‰ª£ÁêÜÔºàProxyÔºâËßÇÂØüËÄÖÔºàObserverÔºâÁ≠ñÁï•ÔºàStrategyÔºâÊ®°ÊùøÊñπÊ≥ïÔºàTemplate MethodÔºâËÆ°ÂàíÂÆâÊéí Âõõ ‚Üí ‰∫îÊúà‰ªΩÂ≠¶‰π†Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ïËØæÁ®ã Âú®LeetCodeÁªÉ‰π†ÁÆóÊ≥ïÈ¢ò Â∑©Âõ∫Â≠¶‰π†‰∏ÄÁßçËÆæËÆ°Ê®°ÂºèÂπ∂ÂÆûÁé∞ËøõË°å‰∏≠ËÆ°Âàí Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ïËØæÁ®ã ÁÆóÊ≥ïÁªÉ‰π† ËÆæËÆ°Ê®°ÂºèËÆ°ÂàíËøõÂ∫¶ (‰ª£Á†Å) ÁÆóÊ≥ïÁªÉ‰π† ËÆæËÆ°Ê®°Âºè Âçï‰æãÊ®°Âºè Ê®°ÊùøÊ®°Âºè Á≠ñÁï•Ê®°Âºè ËßÇÂØüËÄÖÊ®°Âºè ÈùôÊÄÅ‰ª£ÁêÜÊ®°Âºè Âä®ÊÄÅ‰ª£ÁêÜÊ®°Âºè]]></content>
  </entry>
  <entry>
    <title><![CDATA[ÁÆóÊ≥ïÂ§çÊùÇÂ∫¶]]></title>
    <url>%2F2019%2F04%2F19%2F%E5%A4%8D%E6%9D%82%E5%BA%A6%2F</url>
    <content type="text"><![CDATA[Êó∂Èó¥Â§çÊùÇÂ∫¶:‰º∞ÁÆóÁ®ãÂ∫èÊåá‰ª§ÁöÑÊâßË°åÊ¨°Êï∞(ÊâßË°åÊó∂Èó¥)Á©∫Èó¥Â§çÊùÇÂ∫¶:‰º∞ÁÆóÊâÄÈúÄÂç†Áî®ÁöÑÂ≠òÂÇ®Á©∫Èó¥ÁÆóÊ≥ïÁΩëÁ´ôüëá:https://leetcode-cn.com/Êó∂Èó¥Â§çÊùÇÂ∫¶ ÁôæÂ∫¶ÁôæÁßë:Êó∂Èó¥Â§çÊùÇÂ∫¶ÊòØÂêå‰∏ÄÈóÆÈ¢òÂèØÁî®‰∏çÂêåÁÆóÊ≥ïËß£ÂÜ≥ÔºåËÄå‰∏Ä‰∏™ÁÆóÊ≥ïÁöÑË¥®Èáè‰ºòÂä£Â∞ÜÂΩ±ÂìçÂà∞ÁÆóÊ≥ï‰πÉËá≥Á®ãÂ∫èÁöÑÊïàÁéá„ÄÇÁÆóÊ≥ïÂàÜÊûêÁöÑÁõÆÁöÑÂú®‰∫éÈÄâÊã©ÂêàÈÄÇÁÆóÊ≥ïÂíåÊîπËøõÁÆóÊ≥ï„ÄÇ ‰∏™‰∫∫ÁêÜËß£:‰º∞ÁÆóÁ®ãÂ∫èÊåá‰ª§ÁöÑÊâßË°åÊ¨°Êï∞(ÊâßË°åÊó∂Èó¥)Á©∫Èó¥Â§çÊùÇÂ∫¶ ÁôæÂ∫¶ÁôæÁßë:Á©∫Èó¥Â§çÊùÇÂ∫¶(Space Complexity)ÊòØÂØπ‰∏Ä‰∏™ÁÆóÊ≥ïÂú®ËøêË°åËøáÁ®ã‰∏≠‰∏¥Êó∂Âç†Áî®Â≠òÂÇ®Á©∫Èó¥Â§ßÂ∞èÁöÑÈáèÂ∫¶ÔºåËÆ∞ÂÅöS(n)=O(f(n))„ÄÇÊØîÂ¶ÇÁõ¥Êé•ÊèíÂÖ•ÊéíÂ∫èÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØO(n^2),Á©∫Èó¥Â§çÊùÇÂ∫¶ÊòØO(1) „ÄÇËÄå‰∏ÄËà¨ÁöÑÈÄíÂΩíÁÆóÊ≥ïÂ∞±Ë¶ÅÊúâO(n)ÁöÑÁ©∫Èó¥Â§çÊùÇÂ∫¶‰∫ÜÔºåÂõ†‰∏∫ÊØèÊ¨°ÈÄíÂΩíÈÉΩË¶ÅÂ≠òÂÇ®ËøîÂõû‰ø°ÊÅØ„ÄÇ‰∏Ä‰∏™ÁÆóÊ≥ïÁöÑ‰ºòÂä£‰∏ªË¶Å‰ªéÁÆóÊ≥ïÁöÑÊâßË°åÊó∂Èó¥ÂíåÊâÄÈúÄË¶ÅÂç†Áî®ÁöÑÂ≠òÂÇ®Á©∫Èó¥‰∏§‰∏™ÊñπÈù¢Ë°°Èáè„ÄÇ ‰∏™‰∫∫ÁêÜËß£:‰º∞ÁÆóÊâÄÈúÄÂç†Áî®ÁöÑÂ≠òÂÇ®Á©∫Èó¥Â§ßOË°®Á§∫Ê≥ï‰∏ÄËà¨Áî®Â§ßOË°®Á§∫Ê≥ïÊù•ÊèèËø∞Â§çÊùÇÂ∫¶,Ë°®Á§∫ÁöÑÊòØÊï∞ÊçÆËßÑÊ®°nÂØπÂ∫îÁöÑÂ§çÊùÇÂ∫¶123456789ÂøΩÁï•Â∏∏Êï∞„ÄÅÁ≥ªÊï∞„ÄÅ‰ΩéÈò∂9 &gt;&gt;&gt; O(1)2n + 3 &gt;&gt;&gt; O(n)$n^2$ + 2n + 6 &gt;&gt;&gt; O($n^2$)$4n^3$ + $3n^2$ + 22n + 100 &gt;&gt;&gt; O($n^3$)Ê≥®ÊÑè:Â§ßOË°®Á§∫Ê≥ï‰ªÖ‰ªÖÂè™ÊòØ‰∏ÄÁßçÁ≤óÁï•ÁöÑÂàÜÊûêÊ®°Âûã,ÊòØ‰∏ÄÁßç‰º∞ÁÆó,ËÉΩÂ∏ÆÂä©Êàë‰ª¨Áü≠Êó∂Èó¥ÂÜÖ‰∫ÜËß£‰∏Ä‰∏™ÁÆóÊ≥ïÁöÑÊâßË°åÊïàÁéáÂ∏∏ËßÅÁöÑÂ§çÊùÇÂ∫¶ÂØπÊï∞Èò∂ÁªÜËäÇÂØπÊï∞Èò∂‰∏ÄËà¨ÁúÅÁï•Â∫ïÊï∞1$log_2 n = log_2 9 * log_9 n$$ÊâÄ‰ª•log_2 n„ÄÅlog_9 nÁªüÁß∞‰∏∫log_n$]]></content>
      <categories>
        <category>Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ïÁ≥ªÂàó</category>
      </categories>
      <tags>
        <tag>Â§çÊùÇÂ∫¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[dubboÈöêÂºèÂèÇÊï∞‰º†ÈÄí]]></title>
    <url>%2F2019%2F04%2F17%2FDobbu%E9%9A%90%E5%BC%8F%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%2F</url>
    <content type="text"><![CDATA[ËÆ∞ÂΩï‰∏Ä‰∏™dobbu‰º†ÈÄíÈöêÂºèÂèÇÊï∞demo,Ë∞ÉÁî®RPCÊúçÂä°Êó∂Áî®‰∫éÊúçÂä°Ê∂àË¥πËÄÖÂêëÊúçÂä°Êèê‰æõËÄÖ‰º†ÈÄíÈöêÂºèÂèÇÊï∞,ÊØîÂ¶ÇÂêëÊúçÂä°Êèê‰æõËÄÖ‰º†ÈÄítoken‰ø°ÊÅØ.‰∏ä‰∏ãÊñá‰ø°ÊÅØRpcContextÊòØ‰∏Ä‰∏™ThreadLocalÁöÑ‰∏¥Êó∂Áä∂ÊÄÅËÆ∞ÂΩïÂô®ÔºåÂΩìÊé•Êî∂Âà∞RPCËØ∑Ê±ÇÔºåÊàñÂèëËµ∑RPCËØ∑Ê±ÇÊó∂ÔºåRpcContextÁöÑÁä∂ÊÄÅÈÉΩ‰ºöÂèòÂåñ„ÄÇÊØîÂ¶ÇAË∞ÉÁî®BÔºåBÂÜçË∞ÉÁî®CÔºåÂàôBÊú∫Âô®‰∏äÔºåÂú®BË∞ÉÁî®C‰πãÂâçÔºåRpcContextËÆ∞ÂΩïÁöÑÊòØAË∞ÉÁî®BÁöÑ‰ø°ÊÅØÔºåÂú®BË∞ÉÁî®C‰πãÂêéÔºåRpcContextËÆ∞ÂΩïÁöÑÊòØBË∞ÉÁî®C„ÄÇÊúçÂä°Ê∂àË¥πËÄÖ:controllerÂ±Ç12345678910111213141516@Controller@RequestMapping("/test")public class TestController &#123; @Reference private ICarService iCarService; @RequestMapping("/test") @ResponseBody public String test()&#123; // ‰º†ÈÄíÂèÇÊï∞ RpcContext.getContext().setAttachment("TOKEN","ÊµãËØïÈöêÂ£´ÂèÇÊï∞‰º†ÈÄí"); iCarService.test(); return "ÂèÇÊï∞"; &#125;&#125;ÊúçÂä°Êèê‰æõËÄÖ:serviceÂ±ÇÊé•Âè£123public interface ICarService &#123; void test();&#125;ÂÆûÁé∞Á±ª123456789@Service@Transactionalpublic class CarServiceImpl implements ICarService &#123; public void test() &#123; // Ëé∑ÂèñÂèÇÊï∞ String token = RpcContext.getContext().getAttachment("TOKEN"); System.out.println(token); &#125;&#125;È°πÁõÆ‰ΩøÁî®Âú∫ÊôØÂú®È°πÁõÆ‰∏≠‰ΩøÁî®ÁöÑÊòØÁôªÂΩïÂêé,‰ºöÁîüÊàê‰∏Ä‰∏™tokenËøîÂõûÁªôÁî®Êà∑,Áî®Êà∑ÊØèÊ¨°ÁôªÂΩïÈÉΩË¶ÅÊääÊîπtokenÂ∏¶ËøáÊù•ËøõË°åÁôªÂΩïÈ™åËØÅ,È™åËØÅÈÄöËøáÂêéÂàôÂéªË∞ÉÁî®RPCÊúçÂä°,ÂèØ‰ª•ÈÄöËøáÈöêÂ£´ÂèÇÊï∞‰º†ÈÄíÊäätoken‰º†ÈÄíÂà∞ÊúçÂä°Êèê‰æõËÄÖ,ËøôÊ†∑Â∞±ÂèØ‰ª•Ëé∑ÂèñÂà∞ÂΩìÂâçÁôªÂΩïÁî®Êà∑ÁöÑtoken,ÁÑ∂ÂêéÂéªËé∑ÂèñÂΩìÂâçÁôªÂΩïÁî®Êà∑‰ø°ÊÅØ.Ê≥®ÊÑèÂ¶ÇÊûú‰ΩøÁî®setAttachments‰ºöÊääÂéüÊù•ÁöÑÂèÇÊï∞Ê∏ÖÁ©∫,ÂêéÂÜç‰øùÂ≠òÁé∞Âú®ÁöÑÂèÇÊï∞.Ê∫êÁ†Å123456789public RpcContext setAttachments(Map&lt;String, String&gt; attachment) &#123; // Ê∏ÖÁ©∫ÂèÇÊï∞ this.attachments.clear(); if (attachment != null &amp;&amp; attachment.size() &gt; 0) &#123; this.attachments.putAll(attachment); &#125; return this;&#125;]]></content>
      <categories>
        <category>DubboÁ≥ªÂàó</category>
      </categories>
      <tags>
        <tag>dubbo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÈÖçÁΩÆmavenÊâìÂåÖÊñπÂºè]]></title>
    <url>%2F2019%2F04%2F15%2F%E9%85%8D%E7%BD%AEmaven%E6%89%93%E5%8C%85%E6%96%B9%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[‰ΩøÁî®maven-jar-pluginÂíåmaven-dependency-pluginÊèí‰ª∂ÊâìÂåÖ‰ΩøÁî®maven-jar-pluginÂíåmaven-dependency-pluginÊâìÂåÖÁöÑÂéüÂõ†ÂèäÂ•ΩÂ§ÑÁé∞Âú®È°πÁõÆ‰ΩøÁî®ÁöÑspringbootÊ°ÜÊû∂Êê≠Âª∫ÁöÑmavenÈ°πÁõÆ,Áî±‰∫é‰ΩøÁî®jenkinsËá™Âä®ÈÉ®ÁΩ≤È°πÁõÆ,ËÄå‰∏îÂπ∂Ê≤°ÊúâÈÖçÁΩÆÂçï‰∏™Ê®°ÂùóÈÉ®ÁΩ≤,ÂØºËá¥ÊØèÊ¨°ÈÉ®ÁΩ≤ÈÉΩË¶Å10Êù•ÂàÜÈíü,‰∏•ÈáçÊµ™Ë¥πÊó∂Èó¥,Áé∞Âú®‰ΩøÁî®ËØ•Êèí‰ª∂ÊâìÂåÖÂêé‰∏çÁî®ÊØèÊ¨°ÈÉΩ‰ΩøÁî®jenkinsÈÉ®ÁΩ≤,Áõ¥Êé•Êú¨Âú∞ÊâìÂåÖÂ•Ω‰πãÂêéÊõøÊç¢ÊéâÊúçÂä°Âô®ÁöÑjarÂ∞±Ë°å,ËÄå‰∏îÊâìÂåÖÂÆåÂèØ‰ª•ÁúãÂà∞jarÊòØÂæàÂ∞èÁöÑ,‰∏ä‰º†‰πüÂæàÂø´1. ÈÖçÁΩÆpomÊñá‰ª∂12345678910111213141516171819202122232425262728293031323334&lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;archive&gt; &lt;manifest&gt; &lt;!-- springbootÂêØÂä®Á±ª --&gt; &lt;mainClass&gt;cn.lgz.shop.GoodsApp&lt;/mainClass&gt; &lt;addClasspath&gt;true&lt;/addClasspath&gt; &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt; &lt;/manifest&gt; &lt;/archive&gt; &lt;/configuration&gt;&lt;/plugin&gt;&lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt; &lt;version&gt;3.1.1&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;copy-dependencies&lt;/id&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;copy-dependencies&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;outputDirectory&gt;$&#123;project.build.directory&#125;/lib&lt;/outputDirectory&gt; &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt; &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt; &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt;&lt;/plugin&gt;2. ÊâìÂåÖÊïàÊûúÊâìÂåÖÂêé‰ºöÊääÈ°πÁõÆ‰ª£Á†ÅÂíå‰æùËµñÂàÜÁ¶ªÂºÄÊù•:‰æùËµñ‰ºöÊâìÂåÖÂà∞libÁõÆÂΩïÈ°πÁõÆ‰ª£Á†Å‰ºöÊâìÂåÖÊàê‰∏Ä‰∏™jarÂåÖ]]></content>
      <categories>
        <category>java</category>
        <category>Â∑•ÂÖ∑ÈÖçÁΩÆÁõ∏ÂÖ≥</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SSLÊï∞Â≠óËØÅ‰π¶NginxÈÖçÁΩÆÈÉ®ÁΩ≤]]></title>
    <url>%2F2019%2F04%2F13%2FSSL%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6Nginx%E9%85%8D%E7%BD%AE%E9%83%A8%E7%BD%B2%2F</url>
    <content type="text"><![CDATA[ËÆ∞ÂΩïNginxÈÖçÁΩÆSSLÊï∞Â≠óËØÅ‰π¶ÁöÑÊ≠•È™§‰ª•ÂèäÈÅáÂà∞‰∏Ä‰∫õÁöÑÈóÆÈ¢ò ÂÆûË∑µÊàêÊûúÔºö‰∏∫Êú¨ÁΩëÁ´ôÈÉ®ÁΩ≤SSLËØÅ‰π¶ÔºåÂÆûÁé∞httpsËÆøÈóÆüëáÁéØÂ¢É‰ª•ÂèäËØÅ‰π¶üëá:ÈòøÈáå‰∫ëÊúçÂä°Âô®: CentOS7SSLÊï∞Â≠óËØÅ‰π¶: Symantec DV SSLËØÅ‰π¶ÔºàÂÖçË¥πÁâàÔºâ‰∏Ä. Ê∑ªÂä†SSLÊ®°Âùó1.0 ËøõÂÖ•nginxËß£ÂéãÁõÆÂΩï‰ΩøÁî®ÊâßË°å‰ª•‰∏ãÂëΩ‰ª§Ê∑ªÂä†SSLÊ®°Âùó1./configure --with-http_ssl_moduleÂ¶ÇÊûúÊä•Èîô./configure: error: SSL modules require the OpenSSL library.ÂàôÊâßË°å123yum -y install openssl openssl-devel./configureÊâßË°åmakeÔºàÂàáËÆ∞‰∏çËÉΩmake install‰ºöË¶ÜÁõñÂÆâË£ÖÁõÆÂΩïÔºâÂ∞ÜÂéüÊù•nginxÂ§á‰ªΩ(ÂèØÈÄâÔºâ:Â¶ÇÊûúËá™Â∑±nginxÊúâ‰ªÄ‰πàÈáçË¶ÅÈÖçÁΩÆÂèØ‰ª•ÂÖàÂ§á‰ªΩ‰ª•Èò≤‰∏¢Â§±1cp objs/nginx /usr/local/nginx/sbin/nginxÂ∞ÜÊñ∞ÁöÑnginxË¶ÜÁõñÊóßÂÆâË£ÖÁõÆÂΩï1cp objs/nginx /usr/local/nginx/sbin/nginx‰∫å. ÈÖçÁΩÆSSLËØÅ‰π¶1.0 ËøõÂÖ•NginxÂÆâË£ÖÁõÆÂΩïconfÁõÆÂΩï(PS:ÂÆâË£ÖÁõÆÂΩïÂíåËß£ÂéãÁõÆÂΩï‰∏çÊòØÂêå‰∏Ä‰∏™ÁõÆÂΩïÔºâ1cd /usr/local/nginx/conf/ÂàõÂª∫certÁõÆÂΩï,Âπ∂ÊääÂáÜÂ§áÂ•ΩÁöÑSSLÊï∞Â≠óËØÅ‰π¶ÊîæÂú®ËØ•ÁõÆÂΩï‰∏ã1mkdir certËøîÂõûconfÊñá‰ª∂ÔºåÁºñËæënginx.confÈÖçÁΩÆÊñá‰ª∂ÔºåÊâæÂà∞‰ª•‰∏ãÂÜÖÂÆπ12345678910111213141516 # HTTPS server #server &#123; #listen 443; #server_name localhost; #ssl_certificate cert.pem; #ssl_certificate_key cert.key; #ssl_session_timeout 5m; #ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #ssl_ciphers ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP; #ssl_prefer_server_ciphers on; #location / &#123; #root html; #index index.html index.htm; #proxy_pass http://localhost:4000; #&#125;#&#125;Êää‰ª•‰∏äÂÜÖÂÆπÊõøÊç¢‰∏∫‰ª•‰∏ãÂÜÖÂÆπÔºåÊàñËÄÖÊ≥®Èáä‰ª•‰∏äÂÜÖÂÆπÈáçÊñ∞Ê∑ªÂä†‰πüÂèØ‰ª•Ôºö123456789101112131415161718# ‰ª•‰∏ãÂ±ûÊÄß‰∏≠‰ª•sslÂºÄÂ§¥ÁöÑÂ±ûÊÄß‰ª£Ë°®‰∏éËØÅ‰π¶ÈÖçÁΩÆÊúâÂÖ≥ÔºåÂÖ∂‰ªñÂ±ûÊÄßËØ∑Ê†πÊçÆËá™Â∑±ÁöÑÈúÄË¶ÅËøõË°åÈÖçÁΩÆ„ÄÇ server &#123; listen 443; server_name localhost; # localhost‰øÆÊîπ‰∏∫ÊÇ®ËØÅ‰π¶ÁªëÂÆöÁöÑÂüüÂêç„ÄÇ ssl on; #ËÆæÁΩÆ‰∏∫onÂêØÁî®SSLÂäüËÉΩ„ÄÇ root html; index index.html index.htm; ssl_certificate cert/domain name.pem; #Â∞Üdomain name.pemÊõøÊç¢ÊàêÊÇ®ËØÅ‰π¶ÁöÑÊñá‰ª∂Âêç„ÄÇ ssl_certificate_key cert/domain name.key; #Â∞Üdomain name.keyÊõøÊç¢ÊàêÊÇ®ËØÅ‰π¶ÁöÑÂØÜÈí•Êñá‰ª∂Âêç„ÄÇ ssl_session_timeout 5m; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4; #‰ΩøÁî®Ê≠§Âä†ÂØÜÂ•ó‰ª∂„ÄÇ ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #‰ΩøÁî®ËØ•ÂçèËÆÆËøõË°åÈÖçÁΩÆ„ÄÇ ssl_prefer_server_ciphers on; location / &#123; root html; #Á´ôÁÇπÁõÆÂΩï„ÄÇ index index.html index.htm; #Ê∑ªÂä†Â±ûÊÄß„ÄÇ &#125; &#125;‰∏â. ÈÖçÁΩÆÈòøÈáå‰∫ëÊúçÂä°Âô®ÂÆâÂÖ®ÁªÑËßÑÂàô‚≠ê Â¶ÇÊûú‰Ω†‰ª•‰∏äÊ≠•È™§ÈÉΩÊ≤°ÊúâÈóÆÈ¢òÔºå‰ΩÜÊòØËøòÊòØËÆøÈóÆ‰∏ç‰∫ÜÔºåÈÇ£Â∞±Ë¶ÅÊü•Áúã‰∏ãÊòØÂê¶ÊúâÈÖçÁΩÆ443Á´ØÂè£ÁöÑÂÆâÂÖ®ÁªÑÔºåÂ¶ÇÊûúÊ≤°ÊúâÂä†‰∏äÂç≥ÂèØ„ÄÇÂõõ. ÂèÇËÄÉËµÑÊñôhttps://help.aliyun.com/document_detail/98728.htmlhttps://help.aliyun.com/video_detail/54216.html?spm=5176.2000002.0.0.19057747sUlwcdhttps://blog.csdn.net/weiyangdong/article/details/80008543]]></content>
      <categories>
        <category>ÊúçÂä°Âô®Á≥ªÂàó</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Nginx</tag>
        <tag>SSL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ExcelÂØºÂÖ•ÂØºÂá∫]]></title>
    <url>%2F2019%2F04%2F10%2FExcel%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA%2F</url>
    <content type="text"><![CDATA[ËÆ∞ÂΩï‰∏Ä‰∏™javaÂü∫‰∫éjxlÂÆûÁé∞ÁöÑExcelÂØºÂÖ•ÂØºÂá∫ÂäüËÉΩ‰∏Ä. ÂºïÂÖ•‰æùËµñ12345&lt;dependency&gt; &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt; &lt;artifactId&gt;jxl&lt;/artifactId&gt; &lt;version&gt;2.6.12&lt;/version&gt;&lt;/dependency&gt;‰∫å. ÂØºÂá∫2.0 Êé•Âè£ÁºñÂÜô1234567891011121314151617181920@RequestMapping(value = "/export")public void test(HttpServletResponse response) throws Exception &#123; WritableWorkbook workbook = Workbook.createWorkbook(response.getOutputStream()); // ÂìçÂ∫îÊ†ºÂºè response.setContentType("application/vnd.ms-excel"); response.setHeader("Content-Disposition", "attachment; filename=" + URLEncoder.encode("Êñá‰ª∂ÂêçÁß∞.xls", "UTF-8")); // ÂàõÂª∫‰∏Ä‰∏™Â∑•‰ΩúÁ∞ø: WritableSheet sheet1 = workbook.createSheet("Â∑•‰ΩúÁ∞øÂêçÁß∞", 0); Label label1 = new Label(0, 0, "ÂïÜÂìÅid"); sheet1.addCell(label1); Label label2 = new Label(1, 0, "ÂÖ¨Âè∏ÁºñÂè∑"); sheet1.addCell(label2); //Êü•ËØ¢Êï∞ÊçÆÂÜôÂà∞workbook‰∏≠ workbook.write(); System.out.println("Êü•ËØ¢Êï∞ÊçÆÂÜôÂà∞workbook‰∏≠"); //ÂÖ≥Èó≠ËµÑÊ∫ê workbook.close();&#125;2.1 ÂØºÂá∫ÊïàÊûúÂ¶Ç‰∏ã‰∏â. ÂØºÂÖ•3.0 ËØªÂèñExcelÊé•Âè£12345678910111213141516171819202122232425262728293031@PostMapping(value = "/excel")public void importExcel(MultipartFile file) &#123; Workbook workbook = null; List&lt;ItemDto&gt; items = new ArrayList&lt;&gt;(); HashMap&lt;String, ItemDto&gt; map = new HashMap&lt;&gt;(); try &#123; //Ëé∑ÂèñxlsÊñá‰ª∂Excel workbook = Workbook.getWorkbook(file.getInputStream()); //Ëé∑ÂèñÂïÜÂìÅÂ∑•‰ΩúÁ∞ø:ÂèØÈÄöËøáÁ¥¢ÂºïËé∑Âèñ‰∏çÂêåÂ∑•‰ΩúÁ∞ø Sheet itemSheet = workbook.getSheet(0); //Ëé∑ÂèñÊÄªË°åÊï∞ int rows = itemSheet.getRows(); //Ê†ºÂºèÂåñÂØºÂÖ•ÁöÑÊó•ÊúüÊ†ºÂºè for (int i = 1; i &lt; rows; i++) &#123; Cell[] row = itemSheet.getRow(i); if (row.length == 0) &#123; continue; &#125; String itemId = itemSheet.getCell(0, i).getContents(); System.out.println(itemId); String scompCode = itemSheet.getCell(1, i).getContents(); System.out.println(scompCode); &#125; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; finally &#123; //ÂÖ≥Èó≠ËµÑÊ∫ê workbook.close(); &#125;&#125;]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>Excel</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo‰πãÁûéÊäòËÖæÁ≥ªÂàó]]></title>
    <url>%2F2019%2F03%2F30%2FHexo%E7%9E%8E%E6%8A%98%E8%85%BE%E7%B3%BB%E5%88%97%2F</url>
    <content type="text"><![CDATA[ËØ•ÊñáÊ°£ËÆ∞ÂΩïTheme-AD‰∏ªÈ¢ò‰∏™‰∫∫ÂçöÂÆ¢ÈÉ®ÁΩ≤Âà∞‰∫ëÊúçÂä°Âô®‰ª•ÂèäËÆ∞ÂΩïÊñ∞Â¢ûÁöÑ‰∏Ä‰∫õÂ∞èÂäüËÉΩ~ÔºÅTheme-AD‰∏ªÈ¢òÂÖ∑‰ΩìÊê≠Âª∫Ê≠•È™§ÂèØ‰ª•ÂèÇËÄÉÔºöhttps://godbmw.com/tags/Hexo/Let‚Äôs Go~!Theme-AD‰∏ªÈ¢òÂÖ∑‰ΩìÊê≠Âª∫Ê≠•È™§ÂèØ‰ª•ÂèÇËÄÉÔºöhttps://godbmw.com/tags/Hexo/‰∏Ä.‰∫ëÊúçÂä°Âô®ÈÉ®ÁΩ≤HexoÂèÇËÄÉÊñáÊ°£Ôºöhttps://www.jianshu.com/p/b2e47ec9359d1.1 ÂêéÂè∞ËøêË°åHexoÈÉ®ÁΩ≤Âà∞‰∫ëÊúçÂä°Âô®ÂêéÂ¶ÇÊûúËøòÊòØÂú®hexoÊ†πÁõÆÂΩï‰∏ã‰ΩøÁî®ÂëΩ‰ª§ÂêØÂä®Ôºå‰ºöÊúâ‰∏™ÈóÆÈ¢òÂ∞±ÊòØÔºöÂΩì‰Ω†Êñ≠ÂºÄÊúçÂä°Âô®ËøûÊé•‰πãÂêéhexoÊúçÂä°Â∞±‰ºöÂÅúÊ≠¢ÔºåÊó†Ê≥ïËÆøÈóÆ„ÄÇÈÇ£‰πàÂèØ‰ª•Áî®pm2ÂêØÂä®hexoÔºåËøôÊ†∑hexoÂ∞±Âú®ÂêéÂè∞ËøêË°å‰∫ÜÔºåÂ∞±ÁÆóÊñ≠ÂºÄÊúçÂä°Âô®ËøûÊé•‰πü‰∏ç‰ºöÂÅúÊ≠¢1.2 ÂÆâË£Öpm21npm install -g pm2psÔºöÂ¶ÇÊûúÊÑüÂÖ¥Ë∂£‰πüÂèØ‰ª•‰∫ÜËß£‰∏ãLinuxÁöÑnohupÂëΩ‰ª§1.2 Âú®hexoÂàõÂª∫run.jsÊñá‰ª∂12345678910//run.jsconst &#123; exec &#125; = require('child_process')exec('hexo server',(error, stdout, stderr) =&gt; &#123; if(error)&#123; console.log(`exec error: $&#123;error&#125;`) return &#125; console.log(`stdout: $&#123;stdout&#125;`); console.log(`stderr: $&#123;stderr&#125;`);&#125;)1.3 ËøêË°åËÑöÊú¨1pm2 start run.js‰∫å.‰∏∫Ëá™Â∑±ÁöÑÂçöÂÆ¢Ê∑ªÂä†ËêåÂÆ†ÂèÇËÄÉÂçöÂÆ¢Ôºöhttps://blog.csdn.net/u010820857/article/details/822707362.1 ÂÆâË£ÖÊ®°Âùó1npm install --save hexo-helper-live2d2.2 ÈÄâÊã©ÊÉ≥Ë¶ÅÁöÑËêåÂÆ†12345678910111213141516171819202122live2d-widget-model-chitoselive2d-widget-model-epsilon2_1live2d-widget-model-gflive2d-widget-model-haru/01 (use npm install --save live2d-widget-model-haru)live2d-widget-model-haru/02 (use npm install --save live2d-widget-model-haru)live2d-widget-model-harutolive2d-widget-model-hibikilive2d-widget-model-hijikilive2d-widget-model-izumilive2d-widget-model-koharulive2d-widget-model-mikulive2d-widget-model-ni-jlive2d-widget-model-nicolive2d-widget-model-nietzschelive2d-widget-model-nipsilonlive2d-widget-model-nitolive2d-widget-model-shizukulive2d-widget-model-tororolive2d-widget-model-tsumikilive2d-widget-model-unitychanlive2d-widget-model-wankolive2d-widget-model-z162.3 ÈÄâÊã©Â•Ω‰πãÂêéËøòÈúÄË¶ÅÂÆâË£Ö‰æãÂ¶ÇÊàëÈÄâÊã©ÁöÑÊòØÔºölive2d-widget-model-z161npm install live2d-widget-model-z162.4 ÊúÄÂêé‰∏ÄÊ≠•ÈÖçÁΩÆHexoÁöÑ‰∏ªÈÖçÁΩÆÊñá‰ª∂_config.yml1234567891011live2d: enable: true scriptFrom: local model: use: live2d-widget-model-z16 // ËøôÈáåÊîπ‰∏∫Ëá™Â∑±ÈÄâÊã©ÁöÑËêåÂÆ† ÂÖ∂‰ªñÂèÇÊï∞ÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÂñúÂ•ΩÁúãÁùÄ‰øÆÊîπ display: position: right width: 150 height: 300 mobile: show: true‰∏â. hexoÈÉ®ÁΩ≤Âà∞GitHubÂêéÁªëÂÆöÂüüÂêç(Êú™Â§áÊ°àÂüüÂêç‰πüÂèØ‰ª•)3.1 GitHubÁõ∏ÂÖ≥ÈÖçÁΩÆÂú®Ê†πÁõÆÂΩï‰∏ãÊ∑ªÂä†CNAMEÊñá‰ª∂(ÂêçÁß∞Â§ßÂÜô),Âú®Êñá‰ª∂‰∏≠ËæìÂÖ•ÂüüÂêçCNAME Êñá‰ª∂:Êñá‰ª∂ÂÜÖÂÆπÂ∞±ÊòØ‰Ω†ÁöÑÂüüÂêç:Âú®ËÆæÁΩÆ‰∏≠ÈÖçÁΩÆÂüüÂêç:3.2 ‰øÆÊîπÂüüÂêçËß£ÊûêËÆ∞ÂΩïÊåâÁÖß‰∏ãÈù¢Ê∑ªÂä†ÂüüÂêçËß£ÊûêËÆ∞ÂΩï:ps:Êà™Âõæ‰∏≠ËÆ∞ÂΩïÂÄºÁöÑipÊòØÈÄöËøáping`Ëá™Â∑±ÁöÑxxx.github.ioÂæóÂà∞Âõõ. Êñ∞Â¢ûÁ´ôÂÜÖÊêúÁ¥¢ÂäüËÉΩÂéüÊú¨Theme-AD‰∏ªÈ¢òÊòØÊ≤°ÊúâÁ´ôÂÜÖÊêúÁ¥¢ÁöÑ,Êú¨Á´ôÁÇπÁßªÊ§çÁöÑÊòØOcean‰∏ªÈ¢òÁöÑÁ´ôÂÜÖÊêúÁ¥¢ÂäüËÉΩ.4.1 ‰øÆÊîπheader.ejsÊñá‰ª∂ÊääÂéüÊú¨‰∏ªÈ¢òÁöÑÊêúÁ¥¢Ê°ÜÁßªÈô§,Âú®Áõ∏ÂØπÂ∫î‰ΩçÁΩÆÂä†ÂÖ•ÊêúÁ¥¢ÊåâÈíÆÂíåÊêúÁ¥¢Ê°Ü12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061&lt;header class="site-header"&gt; &lt;div class="site-header-brand"&gt; &lt;% if(theme.nav_name) &#123; %&gt; &lt;span class="site-header-brand-title"&gt; &lt;a href="&lt;%- url_for('/') %&gt;"&gt;&lt;%- theme.nav_name %&gt;&lt;/a&gt; &lt;/span&gt; &lt;% &#125; %&gt; &lt;% if(theme.motto) &#123; %&gt; &lt;span class="site-header-brand-motto"&gt; | &lt;%- theme.motto %&gt;&lt;/span&gt; &lt;% &#125; %&gt; &lt;/div&gt; &lt;div class="site-header-right"&gt; &lt;nav class="site-header-navigation"&gt; &lt;% for(let link of theme.nav) &#123; %&gt; &lt;a href="&lt;%- url_for(link.path) %&gt;" target="&lt;%- link.path.startsWith('http') ? '_blank' : '_self' %&gt;"&gt;&lt;%= link.name%&gt;&lt;/a&gt; &lt;% &#125; %&gt; &lt;/nav&gt; &lt;!-- ÊêúÁ¥¢ÊåâÈíÆ --&gt; &lt;nav class="navbar"&gt; &lt;a href="#" class="nav-item-link nav-item-search" title="&lt;%= __('ÊêúÁ¥¢') %&gt;"&gt; &lt;i class="fe fe-search"&gt;&lt;/i&gt; &lt;%- theme.search_text %&gt; &lt;/a&gt; &lt;/nav&gt; &lt;div class="site-header-btn"&gt; &lt;% if(theme.github) &#123; %&gt; &lt;a href="&lt;%- theme.github %&gt;" target="_blank" id="site-github"&gt; &lt;i class="fa fa-github-alt"&gt;&lt;/i&gt; &lt;/a&gt; &lt;% &#125; %&gt; &lt;/dev&gt;&lt;/div&gt;&lt;!-- ÊêúÁ¥¢Ê°Ü --&gt;&lt;div class="search-form-wrap"&gt; &lt;div class="local-search local-search-plugin"&gt; &lt;input type="search" id="local-search-input" class="local-search-input" placeholder="Search..."&gt; &lt;div id="local-search-result" class="local-search-result"&gt;&lt;/div&gt; &lt;/div&gt;&lt;/div&gt;&lt;/header&gt;&lt;nav class="table-content" id="site-nav"&gt; &lt;div class="table-content-title"&gt; &lt;span&gt;ÂØºËà™&lt;/span&gt; &lt;/div&gt; &lt;div class="table-content-main"&gt; &lt;ol class="toc"&gt; &lt;% for(let link of theme.nav) &#123; %&gt; &lt;li class="toc-item"&gt; &lt;a href="&lt;%- url_for(link.path) %&gt;" target="&lt;%- link.path.startsWith('http') ? '_blank' : '_self' %&gt;"&gt; &lt;%= link.name %&gt; &lt;/a&gt; &lt;/li&gt; &lt;% &#125; %&gt; &lt;/ol&gt; &lt;/div&gt;&lt;/nav&gt;&lt;div id="site-process"&gt;&lt;/div&gt;4.2 ÊääOcean‰∏ªÈ¢ò‰∏≠source‰∏≠cssÁöÑfeathericonÁßªÂà∞Ëá™Â∑±‰∏ªÈ¢òÁöÑcssÁõÆÂΩï‰∏ã4.3 Âú®cssÁõÆÂΩï‰∏ãÂàõÂª∫_feathericon.stylÊñá‰ª∂12345678910111213141516171819202122232425262728293031323334353637@charset "utf-8"//---------------------------------------------------------------------------// feathericon//---------------------------------------------------------------------------//// variablesfeathericon-font-path = 'feathericon/' !default;//// font path@font-face font-family feathericon font-weight normal font-style normal src: url(feathericon-font-path + 'feathericon.eot') src: url(feathericon-font-path + 'feathericon.eot?#iefix') format('embedded-opentype'), url(feathericon-font-path + 'feathericon.woff') format('woff'), url(feathericon-font-path + 'feathericon.ttf') format('truetype'), url(feathericon-font-path + 'feathericon.svg') format('svg');//// feathericon//.fe display inline-block font normal normal normal 16px feathericon font-size inherit text-rendering auto -webkit-font-smoothing antialiased -moz-osx-font-smoothing grayscale.fe-search:before &#123; content: "\f14e"; &#125;.fe-search-minus:before &#123; content: "\f16a"; &#125;.fe-search-plus:before &#123; content: "\f16b"; &#125;4.4 Âú®cssÁõÆÂΩï‰∏ãÂàõÂª∫_mixins.stylÊñá‰ª∂123456border-radius(n) -webkit-border-radius n -moz-border-radius n border-radius n// Media queries4.5 Âú®cssÁõÆÂΩï‰∏ãÂàõÂª∫_variables.stylÊñá‰ª∂123456789101112131415161718192021// Configsupport-for-ie = falsevendor-prefixes = webkit moz ms official// Fontsfont-size-browser = 62.5%font-size-base = 1.4remfont-family-base = "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "ÂæÆËΩØÈõÖÈªë", Arial, sans-seriffont-line-height = 1.7// Colorssea = #1e3e3ffroth-light = #f4f4f4white = #ffffffsand-light = #9c8079sand = #9e6a4d// Borderborder-radius = 0.4remborder-width = 0.1remborder-color = froth4.6 Âú®cssÁõÆÂΩï‰∏ãÂàõÂª∫style.stylÊñá‰ª∂123456789101112131415161718192021222324252627@import &quot;_variables&quot;@import &quot;_feathericon&quot;//@import &quot;_normalize&quot;@import &quot;_mixins&quot;@import &quot;search&quot;*,*::before*::after box-sizing border-boxhtml font-size font-size-browserbody background-color body-background font-family font-family-base font-size font-size-base line-height font-line-height color body-color padding 0 margin 0 overflow-x hidden text-size-adjust: 100% ::selection background sea-lighter color froth4.7 ‰øÆÊîπheader.jsÊñá‰ª∂(ÊõøÊç¢ÊéâÊâÄÊúâÂÜÖÂÆπ)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162(function ($) &#123; // Search ------------ var $searchWrap = $('.search-form-wrap'), isSearchAnim = false, searchAnimDuration = 200; var startSearchAnim = function () &#123; isSearchAnim = true; &#125;; var stopSearchAnim = function (callback) &#123; setTimeout(function () &#123; isSearchAnim = false; callback &amp;&amp; callback(); &#125;, searchAnimDuration); &#125;; $('.nav-item-search').on('click', function () &#123; if (isSearchAnim) return; startSearchAnim(); $searchWrap.addClass('on'); stopSearchAnim(function () &#123; $('.local-search-input').focus(); &#125;); &#125;); $(document).mouseup(function (e) &#123; var _con = $('.local-search'); if (!_con.is(e.target) &amp;&amp; _con.has(e.target).length === 0) &#123; $searchWrap.removeClass('on'); &#125; &#125;); // ÁßªÂä®ËÆæÂ§á‰æ¶Êµã var isMobile = &#123; Android: function () &#123; return navigator.userAgent.match(/Android/i); &#125;, BlackBerry: function () &#123; return navigator.userAgent.match(/BlackBerry/i); &#125;, iOS: function () &#123; return navigator.userAgent.match(/iPhone|iPad|iPod/i); &#125;, Opera: function () &#123; return navigator.userAgent.match(/Opera Mini/i); &#125;, Windows: function () &#123; return navigator.userAgent.match(/IEMobile/i); &#125;, any: function () &#123; return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows()); &#125; &#125;; // Âª∫ËÆÆÂú®ÁßªÂä®Á´Ø‰∏çÂàùÂßãÂåñÔºåÂÖ∂ÂÆû /search.xml Êñá‰ª∂ËøòÊå∫Â§ßÁöÑÔºå if ($('.local-search').size() &amp;&amp; !isMobile.any()) &#123; $.getScript('/js/search.js', function () &#123; searchFunc("/search.xml", 'local-search-input', 'local-search-result'); &#125;); &#125; // Share ------------ $('body').on('click', function () &#123; $('.article-share-box.on').removeClass('on'); &#125;).on('click', '.article-share-link', function (e) &#123; e.stopPropagation(); var $this = $(this), url = $this.attr('data-url'), encodedUrl = encodeURIComponent(url), id = 'article-share-box-' + $this.attr('data-id'), offset = $this.offset(); if ($('#' + id).length) &#123; var box = $('#' + id); if (box.hasClass('on')) &#123; box.removeClass('on'); return; &#125; &#125; else &#123; var html = [ '&lt;div id="' + id + '" class="article-share-box"&gt;', '&lt;input class="article-share-input" value="' + url + '"&gt;', '&lt;div class="article-share-links"&gt;', '&lt;a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"&gt;&lt;/a&gt;', '&lt;a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"&gt;&lt;/a&gt;', '&lt;a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"&gt;&lt;/a&gt;', '&lt;a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"&gt;&lt;/a&gt;', '&lt;/div&gt;', '&lt;/div&gt;' ].join(''); var box = $(html); $('body').append(box); &#125; $('.article-share-box.on').hide(); box.css(&#123; top: offset.top + 25, left: offset.left &#125;).addClass('on'); &#125;).on('click', '.article-share-box', function (e) &#123; e.stopPropagation(); &#125;).on('click', '.article-share-box-input', function () &#123; $(this).select(); &#125;).on('click', '.article-share-box-link', function (e) &#123; e.preventDefault(); e.stopPropagation(); window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450'); &#125;); // fancybox if ($.fancybox) &#123; $('[data-fancybox]').fancybox(&#123; protect: true &#125;); &#125; // lazyload //$(".lazy").lazyload(); // $(document).ready(function ($) &#123; $(".anchor").click(function (event) &#123; event.preventDefault(); $('html,body').animate(&#123;scrollTop: $(this.hash).offset().top&#125;, 500); &#125;); &#125;); // Mobile nav var $content = $('.content'), $sidebar = $('.sidebar'), isMobileNavAnim = false, mobileNavAnimDuration = 200; var startMobileNavAnim = function () &#123; isMobileNavAnim = true; &#125;; var stopMobileNavAnim = function () &#123; setTimeout(function () &#123; isMobileNavAnim = false; &#125;, mobileNavAnimDuration); &#125;; $('.navbar-toggle').on('click', function () &#123; if (isMobileNavAnim) return; startMobileNavAnim(); $content.toggleClass('on'); $sidebar.toggleClass('on'); stopMobileNavAnim(); &#125;); $($content).on('click', function () &#123; if (isMobileNavAnim || !$content.hasClass('on')) return; $content.removeClass('on'); $sidebar.removeClass('on'); &#125;);&#125;)(jQuery);4.8 ÂºïÂÖ•jquery-2.0.3.min.js4.9 ÂàõÂª∫search.jsÊñá‰ª∂123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127// A local search script with the help of [hexo-generator-search](https://github.com/PaicHyperionDev/hexo-generator-search)// Copyright (C) 2015 // Joseph Pan &lt;http://github.com/wzpan&gt;// Shuhao Mao &lt;http://github.com/maoshuhao&gt;// This library is free software; you can redistribute it and/or modify// it under the terms of the GNU Lesser General Public License as// published by the Free Software Foundation; either version 2.1 of the// License, or (at your option) any later version.// // This library is distributed in the hope that it will be useful, but// WITHOUT ANY WARRANTY; without even the implied warranty of// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU// Lesser General Public License for more details.// // You should have received a copy of the GNU Lesser General Public// License along with this library; if not, write to the Free Software// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA// 02110-1301 USA// var searchFunc = function (path, search_id, content_id) &#123; 'use strict'; var BTN = "&lt;button type='button' class='local-search-close' id='local-search-close'&gt;&lt;/button&gt;"; $.ajax(&#123; url: path, dataType: "xml", success: function (xmlResponse) &#123; // get the contents from search data var datas = $("entry", xmlResponse).map(function () &#123; return &#123; title: $("title", this).text(), content: $("content", this).text(), url: $("url", this).text() &#125;; &#125;).get(); var $input = document.getElementById(search_id); var $resultContent = document.getElementById(content_id); $input.addEventListener('input', function () &#123; var str = '&lt;ul class="search-result-list"&gt;'; var keywords = this.value.trim().toLowerCase().split(/[\s]+/); $resultContent.innerHTML = ""; if (this.value.trim().length &lt;= 0) &#123; return; &#125; // perform local searching datas.forEach(function (data) &#123; var isMatch = true; // var content_index = []; if (!data.title || data.title.trim() === '') &#123; data.title = "Untitled"; &#125; var data_title = data.title.trim().toLowerCase(); var data_content = data.content.trim().replace(/&lt;[^&gt;]+&gt;/g, "").toLowerCase(); var data_url = data.url; var index_title = -1; var index_content = -1; var first_occur = -1; // only match artiles with not empty contents if (data_content !== '') &#123; keywords.forEach(function (keyword, i) &#123; index_title = data_title.indexOf(keyword); index_content = data_content.indexOf(keyword); if (index_title &lt; 0 &amp;&amp; index_content &lt; 0) &#123; isMatch = false; &#125; else &#123; if (index_content &lt; 0) &#123; index_content = 0; &#125; if (i == 0) &#123; first_occur = index_content; &#125; // content_index.push(&#123;index_content:index_content, keyword_len:keyword_len&#125;); &#125; &#125;); &#125; else &#123; isMatch = false; &#125; // show search results if (isMatch) &#123; str += "&lt;li&gt;&lt;a href='" + data_url + "' class='search-result-title'&gt;" + data_title + "&lt;/a&gt;"; var content = data.content.trim().replace(/&lt;[^&gt;]+&gt;/g, ""); if (first_occur &gt;= 0) &#123; // cut out 100 characters var start = first_occur - 20; var end = first_occur + 80; if (start &lt; 0) &#123; start = 0; &#125; if (start == 0) &#123; end = 100; &#125; if (end &gt; content.length) &#123; end = content.length; &#125; var match_content = content.substr(start, end); // highlight all keywords keywords.forEach(function (keyword) &#123; var regS = new RegExp(keyword, "gi"); match_content = match_content.replace(regS, "&lt;em class=\"search-keyword\"&gt;" + keyword + "&lt;/em&gt;"); &#125;); str += "&lt;p class=\"search-result\"&gt;" + match_content + "...&lt;/p&gt;" &#125; str += "&lt;/li&gt;"; &#125; &#125;); str += "&lt;/ul&gt;"; if (str.indexOf('&lt;li&gt;') === -1) &#123; return $resultContent.innerHTML = BTN + "&lt;div class=\"search-result-empty\"&gt;&lt;p&gt;&lt;i class=\"fe fe-tired\"&gt;&lt;/i&gt; Ê≤°ÊúâÊâæÂà∞ÂÜÖÂÆπÔºåÊõ¥Êç¢‰∏ãÊêúÁ¥¢ËØçËØïËØïÂêß~&lt;p&gt;&lt;/div&gt;"; &#125; $resultContent.innerHTML = BTN + str; &#125;); &#125; &#125;); $(document).on('click', '#local-search-close', function () &#123; $('#local-search-input').val(''); $('#local-search-result').html(''); &#125;);&#125;;4.10 ÊúÄÂêé‰øÆÊîπhead.ejsÊñá‰ª∂,ÂºïÂÖ•jsÂíåcss‰∫î. Ê∑ªÂä†ÁΩÆÈ°∂ÂäüËÉΩ5.1 Âú®hexoÁõÆÂΩï‰∏ãÊâßË°å‰ª•‰∏ãÂëΩ‰ª§123npm uninstall hexo-generator-index --savenpm install hexo-generator-index-pin-top --save5.2 Âú®index.ejsÂä†ÂÖ•‰ª•‰∏ã‰ª£Á†Å1234&lt;% if(psg.top === true) &#123;%&gt; &lt;i class=&quot;fa fa-thumb-tack&quot;&gt;&lt;/i&gt; &lt;font color=7D26CD&gt;ÁΩÆÈ°∂&lt;/font&gt; |&lt;% &#125; %&gt;5.3 Âú®ÈúÄË¶ÅÁΩÆÈ°∂ÁöÑÂçöÊñá‰∏≠Ê∑ªÂä†12top: true---ÂÖ≠. ‰ΩøÁî®hexo-neatÂéãÁº©È°µÈù¢6.1 ÂÆâË£Öhexo-neatÊèí‰ª∂1npm install hexo-neat --save6.2 Âú®Á´ôÁÇπ_config.ymlÈÖçÁΩÆÊñá‰ª∂‰∏≠Ê∑ªÂä†ÈÖçÁΩÆ12345678910111213141516171819202122# hexo-neat# ÂçöÊñáÂéãÁº©neat_enable: true# ÂéãÁº©htmlneat_html: enable: true exclude:# ÂéãÁº©css: ËøôÈáåÂè™ÊòØÂéãÁº©È°µÈù¢ÁöÑcss,Â¶ÇÊûúÊòØÂú®sourceÁõÆÂΩï‰∏ãÁöÑcssË¶ÅÂú®excludeÁßªÈô§Êéâ,Âê¶ÂàôÂéãÁº©Âêé‰ºöÁõ¥Êé•ÂèòÊàê‰∏Ä‰∏™Á©∫Êñá‰ª∂ neat_css: enable: true exclude: - &apos;**/*.min.css&apos;# ÂéãÁº©js:(ÂêåcssËØ¥Êòé)neat_js: enable: true mangle: true output: compress: exclude: - &apos;**/*.min.js&apos; - &apos;**/jquery.fancybox.pack.js&apos; - &apos;**/index.js&apos;]]></content>
      <categories>
        <category>Hexo‰πãÁûéÊäòËÖæÁ≥ªÂàó</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>ÂçöÂÆ¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[docker-ÂÆâË£Ö(CentOS7)]]></title>
    <url>%2F2019%2F03%2F27%2FUntitled%2F</url>
    <content type="text"><![CDATA[CentOS7dockerÂÆâË£ÖÊ≠•È™§1.ÂÆâË£ÖÈúÄË¶ÅÁöÑËΩØ‰ª∂ÂåÖ:yum-utilÊèê‰æõyum-config-managerÂäüËÉΩ1yum install -y yum-utils device-mapper-persistent-data lvm2ps:Â¶ÇÊûúÂÆâË£ÖËøádocker,ÈúÄË¶ÅÈáçË£ÖÂèØ‰ª•ÂÖàÂà†Èô§Âú®Ë£Ö:12345// Êü•ÁúãÊòØÂê¶ÊúâÂÆâË£Ödockeryum list installed | grep docker //ÊúâÂàôÂà†Èô§ÂØπÂ∫îÁöÑÂåÖyum remove docker ......1.ÂÆâË£ÖÈúÄË¶ÅÁöÑËΩØ‰ª∂ÂåÖ:yum-utilÊèê‰æõyum-config-managerÂäüËÉΩ1yum install -y yum-utils device-mapper-persistent-data lvm2ps:Â¶ÇÊûúÂÆâË£ÖËøádocker,ÈúÄË¶ÅÈáçË£ÖÂèØ‰ª•ÂÖàÂà†Èô§Âú®Ë£Ö:12345// Êü•ÁúãÊòØÂê¶ÊúâÂÆâË£Ödockeryum list installed | grep docker //ÊúâÂàôÂà†Èô§ÂØπÂ∫îÁöÑÂåÖyum remove docker ......2.ËÆæÁΩÆyumÊ∫ê(ÈòøÈáåÊ∫ê)1yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo3.Êü•ÁúãyumÂ∫ì‰∏≠ÊúâÊ≤°Êúâdocker-ce1yum list | grep docker-ce4.ÂÆâË£Ödocker1yum install -y docker-ce5.Â¶ÇÊûúÈúÄË¶ÅËÆæÁΩÆÂºÄÊú∫Ëá™Âä®ÂêØÂä®12345//ÂÖàÂêØÂä®dockerÊúçÂä°Á´Øsystemctl start docker//ÂêØÂä®dockerÊúçÂä°ÂºÄÊú∫Ëá™ÂêØsystemctl enable docker6.Ê†°È™ådockerÊòØÂê¶ÂêØÂä®ÊàêÂäü1docker versionÂ∏∏ËßÅÈóÆÈ¢ò: ÊôÆÈÄöÁî®Êà∑ËøêË°ådocker ÂëΩ‰ª§‰ºöÊä•Èîô:Áî±‰∫édocker daemonÈúÄË¶ÅÁªëÂÆöÂà∞‰∏ªÊú∫ÁöÑ Unix socket ËÄå‰∏çÊòØÊôÆÈÄöÁöÑTCPÁ´ØÂè£,ËÄå Unix socket ÁöÑÂÆø‰∏ª‰∏∫ root Áî®Êà∑,Â¶ÇÊûúÂÖ∂‰ªñÁî®Êà∑‰ΩøÁî® docker ÂëΩ‰ª§Âè™ÊúâÂú®ÂëΩ‰ª§Èí±Ê∑ªÂä† sudo ÊâçËÉΩÊâßË°åÊàêÂäü,Â¶ÇÊûú‰∏çÊÉ≥ÊØèÊ¨°‰ΩøÁî® docker ÂëΩ‰ª§ÊòØËøòË¶ÅÂ§öÊï≤ sudo ,ÂèØ‰ª•ÊåâÁÖß‰∏ãÈù¢ÁöÑÊñπÊ≥ïËß£ÂÜ≥:s1.ÂàáÊç¢Âà∞ root Áî®Êà∑2.ÊääÊôÆÈÄöÁî®Êà∑Ê∑ªÂä†Âà∞ docker ÁªÑ3.ÂÜçÂàáÊç¢Âà∞&lt;ÊôÆÈÄöÁî®Êà∑&gt;4.È™åËØÅ docker ÂëΩ‰ª§ÊòØÂê¶ÊàêÂäü]]></content>
      <categories>
        <category>dockerÂÆπÂô®Á≥ªÂàó</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
</search>
