{"meta":{"title":"Luguozheng","subtitle":"å“ˆå“ˆå“ˆ","description":null,"author":"å¢å›½å³¥","url":"http://yoursite.com","root":"/"},"pages":[{"title":"categories","date":"2019-03-28T07:41:43.000Z","updated":"2019-03-29T03:52:49.000Z","comments":true,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""},{"title":"tags","date":"2019-03-25T16:30:47.191Z","updated":"2019-03-25T07:52:46.000Z","comments":true,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"LocalDateæ“ä½œæ—¶é—´","slug":"LocalDateæ“ä½œæ—¶é—´","date":"2019-08-10T03:21:00.000Z","updated":"2019-08-10T04:55:10.183Z","comments":true,"path":"2019/08/10/LocalDateæ“ä½œæ—¶é—´/","link":"","permalink":"http://yoursite.com/2019/08/10/LocalDateæ“ä½œæ—¶é—´/","excerpt":"è®°å½•å·¥å…·ç±»APIğŸ‘‡: å­—ç¬¦ä¸²è½¬LocalDate è·å–è¿ç»­æ—¶é—´é›†åˆ è·å–è¿ç»­æ—¶é—´é›†åˆ12// é»˜è®¤çš„æ—¶é—´æ ¼å¼public static final String DEFUALT_SHOT_TIME_FORMAT = \"yyyy-MM-dd\";","text":"è®°å½•å·¥å…·ç±»APIğŸ‘‡: å­—ç¬¦ä¸²è½¬LocalDate è·å–è¿ç»­æ—¶é—´é›†åˆ è·å–è¿ç»­æ—¶é—´é›†åˆ12// é»˜è®¤çš„æ—¶é—´æ ¼å¼public static final String DEFUALT_SHOT_TIME_FORMAT = \"yyyy-MM-dd\";12// é»˜è®¤çš„æ—¶é—´æ ¼å¼public static final String DEFUALT_SHOT_TIME_FORMAT = \"yyyy-MM-dd\";1. å­—ç¬¦ä¸²è½¬LocalDate123456789/** * * @param time æ—¶é—´yyyy-MM-dd * @return */ public static LocalDateTime stringToLocalDate(String time) &#123; DateTimeFormatter df = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\"); return LocalDateTime.parse(time, df); &#125;2. ä¸¤ä¸ªæ—¶é—´ç›¸å·®å¤šå°‘å¤©123456789101112131415/** * è·å–ä¸¤ä¸ªæ—¶é—´ç›¸å·®å¤šå°‘å¤© * * @param dates * @return */ public static long getDiffDays(String[] dates) &#123; if (dates.length &lt; 2) &#123; return 1; &#125; DateTimeFormatter fmt = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\"); LocalDate begin = LocalDate.parse(dates[0], fmt); LocalDate end = LocalDate.parse(dates[1], fmt); return end.toEpochDay() - begin.toEpochDay() + 1; &#125;3. è·å–è¿ç»­æ—¶é—´é›†åˆ1234567891011121314151617/** * æ•°æ®å¡«å…… * å¯æ“ä½œ: å¤©/å‘¨/æœˆ/å¹´ * @param time é—´éš”å¤©æ•° * @param begin å¼€å§‹æ—¶é—´ * @return */ public static List&lt;String&gt; getRangeIncres2(long time, String begin) &#123; List&lt;String&gt; list = Lists.newArrayList(); DateTimeFormatter fmt = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\"); LocalDate localDate = LocalDate.parse(begin, fmt); for (int i = 0; i &lt; time; i++) &#123; list.add(localDate.plusDays(i).toString()); &#125; return list; &#125;","categories":[{"name":"å·¥å…·ç±»æ”¶è—","slug":"å·¥å…·ç±»æ”¶è—","permalink":"http://yoursite.com/categories/å·¥å…·ç±»æ”¶è—/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yoursite.com/tags/java/"}],"author":"å¢å›½å³¥"},{"title":"ElasticSearch ä¸­boolQueryBuilderçš„ä½¿ç”¨","slug":"ElasticSearch-ä¸­boolQueryBuilderçš„ä½¿ç”¨","date":"2019-08-08T01:29:00.000Z","updated":"2019-08-21T03:27:46.812Z","comments":true,"path":"2019/08/08/ElasticSearch-ä¸­boolQueryBuilderçš„ä½¿ç”¨/","link":"","permalink":"http://yoursite.com/2019/08/08/ElasticSearch-ä¸­boolQueryBuilderçš„ä½¿ç”¨/","excerpt":"BoolæŸ¥è¯¢ç°åœ¨åŒ…æ‹¬å››ç§å­å¥ï¼Œmustï¼Œfilter,should,must_not.","text":"BoolæŸ¥è¯¢ç°åœ¨åŒ…æ‹¬å››ç§å­å¥ï¼Œmustï¼Œfilter,should,must_not.è½¬è½½è‡ª:https://blog.csdn.net/metheir/article/details/850803341. ä¸ºä»€ä¹ˆfilterä¼šå¿«ï¼Ÿçœ‹ä¸Šé¢çš„æµç¨‹å›¾å°±èƒ½å¾ˆæ˜æ˜¾çš„çœ‹åˆ°ï¼Œfilterä¸queryè¿˜æ˜¯æœ‰å¾ˆå¤§çš„åŒºåˆ«çš„ã€‚æ¯”å¦‚ï¼Œqueryçš„æ—¶å€™ï¼Œä¼šå…ˆæ¯”è¾ƒæŸ¥è¯¢æ¡ä»¶ï¼Œç„¶åè®¡ç®—åˆ†å€¼ï¼Œæœ€åè¿”å›æ–‡æ¡£ç»“æœï¼›è€Œfilteråˆ™æ˜¯å…ˆåˆ¤æ–­æ˜¯å¦æ»¡è¶³æŸ¥è¯¢æ¡ä»¶ï¼Œå¦‚æœä¸æ»¡è¶³ï¼Œä¼šç¼“å­˜æŸ¥è¯¢è¿‡ç¨‹ï¼ˆè®°å½•è¯¥æ–‡æ¡£ä¸æ»¡è¶³ç»“æœï¼‰ï¼›æ»¡è¶³çš„è¯ï¼Œå°±ç›´æ¥ç¼“å­˜ç»“æœã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œfilterå¿«åœ¨ä¸¤ä¸ªæ–¹é¢ï¼š1 å¯¹ç»“æœè¿›è¡Œç¼“å­˜2 é¿å…è®¡ç®—åˆ†å€¼2. boolæŸ¥è¯¢çš„ä½¿ç”¨BoolæŸ¥è¯¢å¯¹åº”Luceneä¸­çš„BooleanQuery,å®ƒç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ªå­å¥ç»„æˆ,æ¯ä¸ªå­å¥éƒ½æœ‰ç‰¹å®šçš„ç±»å‹mustè¿”å›çš„æ–‡æ¡£å¿…é¡»æ»¡è¶³mustå­å¥çš„æ¡ä»¶,å¹¶ä¸”å‚ä¸è®¡ç®—åˆ†å€¼filterè¿”å›çš„æ–‡æ¡£å¿…é¡»æ»¡è¶³filterå­å¥çš„æ¡ä»¶,ä½†æ˜¯ä¸ä¼šåƒmustä¸€æ ·,å‚ä¸è®¡ç®—åˆ†å€¼shouldè¿”å›çš„æ–‡æ¡£å¯èƒ½æ»¡è¶³shouldå­å¥çš„æ¡ä»¶.åœ¨ä¸€ä¸ªboolæŸ¥è¯¢ä¸­,å¦‚æœæ²¡æœ‰mustæˆ–è€…filter,æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªshouldå­å¥,é‚£ä¹ˆåªè¦æ»¡è¶³ä¸€ä¸ªå°±å¯ä»¥è¿”å›.minimum_should_matchå‚æ•°å®šä¹‰äº†è‡³å°‘æ»¡è¶³å‡ ä¸ªå­å¥.must_notè¿”å›çš„æ–‡æ¡£å¿…é¡»ä¸æ»¡è¶³å®šä¹‰çš„æ¡ä»¶å¦‚æœä¸€ä¸ªæŸ¥è¯¢æ—¢æœ‰filteråˆæœ‰should,é‚£ä¹ˆè‡³å°‘åŒ…å«ä¸€ä¸ªshouldå­å¥.boolæŸ¥è¯¢ä¹Ÿæ”¯æŒç¦ç”¨ååŒè®¡åˆ†é€‰é¡¹disable_coord.ä¸€èˆ¬è®¡ç®—åˆ†å€¼çš„å› ç´ å–å†³äºæ‰€æœ‰çš„æŸ¥è¯¢æ¡ä»¶.boolæŸ¥è¯¢ä¹Ÿæ˜¯é‡‡ç”¨more_matches_is_betterçš„æœºåˆ¶,å› æ­¤æ»¡è¶³mustå’Œshouldå­å¥çš„æ–‡æ¡£å°†ä¼šåˆå¹¶èµ·æ¥è®¡ç®—åˆ†å€¼.3.JavaAPIä½¿ç”¨1234567891011121314151617@Testpublic void searchApi2() throws IOException &#123; SearchRequest searchRequest = new SearchRequest(\"item\"); SearchSourceBuilder sourceBuilder = new SearchSourceBuilder(); BoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery(); // å¿…é¡»åŒ¹é…æ¡ä»¶ boolQueryBuilder.must(QueryBuilders.matchQuery(\"scompCode\", \"G0000001\")); // æ¨¡ç³ŠæŸ¥è¯¢ boolQueryBuilder.filter(QueryBuilders.wildcardQuery(\"itemDesc\", \"*æ‰‹æœº*\")); // èŒƒå›´æŸ¥è¯¢ from:ç›¸å½“äºé—­åŒºé—´; gt:ç›¸å½“äºå¼€åŒºé—´(&gt;) gte:ç›¸å½“äºé—­åŒºé—´ (&gt;=) lt:å¼€åŒºé—´(&lt;) lte:é—­åŒºé—´ (&lt;=) boolQueryBuilder.filter(QueryBuilders.rangeQuery(\"itemPrice\").from(4500).to(8899)); sourceBuilder.query(boolQueryBuilder); searchRequest.source(sourceBuilder); SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT); logger.info(\"æŸ¥è¯¢æ•°æ®:&#123;&#125;\", Arrays.toString(searchResponse.getHits().getHits()));&#125;","categories":[{"name":"ElasticSearchç³»åˆ—","slug":"ElasticSearchç³»åˆ—","permalink":"http://yoursite.com/categories/ElasticSearchç³»åˆ—/"}],"tags":[{"name":"ElasticSearch","slug":"ElasticSearch","permalink":"http://yoursite.com/tags/ElasticSearch/"},{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://yoursite.com/tags/è½¬è½½/"}],"author":"å¢å›½å³¥"},{"title":"ElasticSearch API","slug":"ElasticSearch-API","date":"2019-08-07T07:58:00.000Z","updated":"2019-08-21T03:25:51.864Z","comments":true,"path":"2019/08/07/ElasticSearch-API/","link":"","permalink":"http://yoursite.com/2019/08/07/ElasticSearch-API/","excerpt":"ElasticSearch java APIåº”ç”¨https://www.elastic.co/guide/en/elasticsearch/client/java-rest/7.0/java-rest-high-document-index.html","text":"ElasticSearch java APIåº”ç”¨https://www.elastic.co/guide/en/elasticsearch/client/java-rest/7.0/java-rest-high-document-index.html1. åˆ›å»ºç´¢å¼•12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061public class ElasticsearchRestClient &#123; private static final Logger logger = LogManager.getLogger(ElasticsearchRestClient.class); @Before public void beforGet() &#123; client = new RestHighLevelClient( RestClient.builder(new HttpHost(\"106.14.116.156\", 9200, \"http\"))); logger.info(\"ESå®¢æˆ·ç«¯åˆå§‹åŒ–\"); &#125; @After public void afterGet() throws IOException &#123; client.close(); logger.info(\"å…³é—­ESè¿æ¥\"); &#125; /** * åˆ›å»ºç´¢å¼• * * @throws IOException */ @Test public void createIndex() throws IOException &#123; GetIndexRequest getIndexRequest = new GetIndexRequest(\"item\"); // ç´¢å¼•æ˜¯å¦å­˜åœ¨ boolean exists = client.indices().exists(getIndexRequest, RequestOptions.DEFAULT); if (!exists) &#123; CreateIndexRequest request = new CreateIndexRequest(\"item\"); XContentBuilder builder = XContentFactory.jsonBuilder(); builder.startObject(); &#123; // å›ºå®šæ ¼å¼ builder.startObject(\"properties\"); &#123; // itemCodeå­—æ®µ builder.startObject(\"itemCode\"); &#123; // å­—æ®µå±æ€§ builder.field(\"type\", \"keyword\"); &#125; builder.endObject(); // itemDescå­—æ®µ builder.startObject(\"itemDesc\"); &#123; // å­—æ®µå±æ€§ builder.field(\"type\", \"keyword\"); &#125; builder.endObject(); &#125; builder.endObject(); &#125; builder.endObject(); request.mapping(\"doc\", builder); CreateIndexResponse createIndexResponse = client.indices().create(request, RequestOptions.DEFAULT); logger.info(\"åˆ›å»ºç´¢å¼•ç»“æœ:&#123;&#125;\", createIndexResponse.isAcknowledged()); &#125; else &#123; logger.info(\"[employee]ç´¢å¼•å·²ç»å­˜åœ¨\"); &#125; &#125;&#125;2.æ–°å¢æ•°æ®12345678910111213141516171819202122/** * æ–°å¢æ•°æ® * * @param client * @param index ç´¢å¼• * @param id æ–‡æ¡£id * @param jsonMap éœ€è¦å»ºç«‹ç´¢å¼•çš„æ•°æ® key:å­—æ®µ,value:å€¼ */ public static void index(RestHighLevelClient client, String index,String id, Map&lt;String, Object&gt; jsonMap) &#123; IndexRequest indexRequest = new IndexRequest(index); // idä¸ºç©ºåˆ™è‡ªåŠ¨ç”Ÿæˆid if (StringUtil.isNotEmpty(id)) &#123; indexRequest.id(id); &#125; indexRequest.source(jsonMap); try &#123; IndexResponse response = client.index(indexRequest, RequestOptions.DEFAULT); logger.info(\"ç´¢å¼•ç»“æœ:&#123;&#125;\", response.status().getStatus()); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125;3.åˆ é™¤æ•°æ®12345678910111213141516171819/** * åˆ é™¤æ•°æ® * * @param client * @param index ç´¢å¼•åç§° * @param id æ–‡æ¡£id */ @Test public static void delete(RestHighLevelClient client, String index,String id) &#123; DeleteRequest request = new DeleteRequest(index, id); DeleteResponse deleteResponse = null; try &#123; deleteResponse = client.delete(request, RequestOptions.DEFAULT); &#125; catch (Exception e) &#123; e.printStackTrace(); logger.warn(\"ESåˆ é™¤å¼‚å¸¸ä¿¡æ¯:&#123;&#125;\",e.getMessage()); &#125; logger.warn(\"åˆ é™¤ç»“æœ:&#123;&#125;\",deleteResponse.status().getStatus()); &#125;4.æ›´æ–°æ•°æ®12345678910111213141516171819/** * * @param client * @param index ç´¢å¼•åç§° * @param id æ–‡æ¡£id */ @Test public static void update(RestHighLevelClient client, String index,String id,Map&lt;String,Object&gt; map) &#123; UpdateRequest request = new UpdateRequest(index,id); request.doc(map); UpdateResponse updateResponse = null; try &#123; updateResponse = client.update( request, RequestOptions.DEFAULT); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; logger.warn(\"ESæ›´æ–°ç»“æœ:&#123;&#125;\",updateResponse.getResult()); &#125;","categories":[{"name":"ElasticSearchç³»åˆ—","slug":"ElasticSearchç³»åˆ—","permalink":"http://yoursite.com/categories/ElasticSearchç³»åˆ—/"}],"tags":[{"name":"ElasticSearch","slug":"ElasticSearch","permalink":"http://yoursite.com/tags/ElasticSearch/"}],"author":"å¢å›½å³¥"},{"title":"è¿œç¨‹è°ƒè¯•springbooté¡¹ç›®","slug":"è¿œç¨‹è°ƒè¯•springbooté¡¹ç›®","date":"2019-07-27T03:27:00.000Z","updated":"2019-07-27T05:41:09.423Z","comments":true,"path":"2019/07/27/è¿œç¨‹è°ƒè¯•springbooté¡¹ç›®/","link":"","permalink":"http://yoursite.com/2019/07/27/è¿œç¨‹è°ƒè¯•springbooté¡¹ç›®/","excerpt":"IDEAè¿œç¨‹è°ƒè¯•é¡¹ç›®~!","text":"IDEAè¿œç¨‹è°ƒè¯•é¡¹ç›®~!1. é…ç½®è¿œç¨‹â‘ â‘¡â‘¢2. å¯åŠ¨é¡¹ç›®1nohup java -jar -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8888 &lt;jaråŒ…åç§°&gt;3. è¿œç¨‹debugå¼€å§‹4. è¿æ¥æˆåŠŸåœ¨æœ¬åœ°æ‰“æ–­ç‚¹,è®¿é—®æœåŠ¡å™¨æ¥å£æ—¶,åœ¨æœ¬åœ°å³å¯å®æ—¶è°ƒè¯•äº†","categories":[{"name":"å·¥å…·é…ç½®ç›¸å…³","slug":"å·¥å…·é…ç½®ç›¸å…³","permalink":"http://yoursite.com/categories/å·¥å…·é…ç½®ç›¸å…³/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yoursite.com/tags/java/"}],"author":"å¢å›½å³¥"},{"title":"é˜¿é‡ŒCodeGITè´¦å·å¯†ç è·å–æ–¹æ³•","slug":"é˜¿é‡ŒCodeGITè´¦å·å¯†ç è·å–æ–¹æ³•","date":"2019-07-22T02:44:00.000Z","updated":"2019-08-21T03:31:05.250Z","comments":true,"path":"2019/07/22/é˜¿é‡ŒCodeGITè´¦å·å¯†ç è·å–æ–¹æ³•/","link":"","permalink":"http://yoursite.com/2019/07/22/é˜¿é‡ŒCodeGITè´¦å·å¯†ç è·å–æ–¹æ³•/","excerpt":"è¾“å…¥https://code.aliyun.com -&gt; è®¾ç½® -&gt; ä¸ªäººè®¾ç½® Username ï¼ˆGITè´¦å·ï¼‰è¾“å…¥https://code.aliyun.com/profile/password/edit -&gt; å¿˜è®°å¯†ç  â€“&gt;åˆ°é‚®ç®±é‡ç½®å¯†ç  ï¼ˆGITå¯†ç ï¼‰","text":"è¾“å…¥https://code.aliyun.com -&gt; è®¾ç½® -&gt; ä¸ªäººè®¾ç½® Username ï¼ˆGITè´¦å·ï¼‰è¾“å…¥https://code.aliyun.com/profile/password/edit -&gt; å¿˜è®°å¯†ç  â€“&gt;åˆ°é‚®ç®±é‡ç½®å¯†ç  ï¼ˆGITå¯†ç ï¼‰è¾“å…¥https://code.aliyun.com -&gt; è®¾ç½® -&gt; ä¸ªäººè®¾ç½® Username ï¼ˆGITè´¦å·ï¼‰è¾“å…¥https://code.aliyun.com/profile/password/edit -&gt; å¿˜è®°å¯†ç  â€“&gt;åˆ°é‚®ç®±é‡ç½®å¯†ç  ï¼ˆGITå¯†ç ï¼‰","categories":[{"name":"å·¥å…·ä½¿ç”¨","slug":"å·¥å…·ä½¿ç”¨","permalink":"http://yoursite.com/categories/å·¥å…·ä½¿ç”¨/"}],"tags":[{"name":"git","slug":"git","permalink":"http://yoursite.com/tags/git/"}],"author":"å¢å›½å³¥"},{"title":"Alibaba Cloud Toolkitæ’ä»¶ä½¿ç”¨","slug":"Alibaba-Cloud-Toolkitæ’ä»¶ä½¿ç”¨","date":"2019-07-22T02:22:00.000Z","updated":"2019-07-22T02:43:15.575Z","comments":true,"path":"2019/07/22/Alibaba-Cloud-Toolkitæ’ä»¶ä½¿ç”¨/","link":"","permalink":"http://yoursite.com/2019/07/22/Alibaba-Cloud-Toolkitæ’ä»¶ä½¿ç”¨/","excerpt":"Alibaba Cloud Toolkit å·¥å…·ä¸€é”®éƒ¨ç½²æœ¬åœ°jaråŒ…","text":"Alibaba Cloud Toolkit å·¥å…·ä¸€é”®éƒ¨ç½²æœ¬åœ°jaråŒ…1.å®‰è£… Alibaba Cloud Toolkitç›´æ¥åœ¨IDEAæ’ä»¶ä¸­æœç´¢å®‰è£…å³å¯2.æ·»åŠ è¿œç¨‹æœåŠ¡å™¨3. é…ç½®æ‰“åŒ…éƒ¨ç½²é¡¹ç›®","categories":[{"name":"æ’ä»¶ä½¿ç”¨ç³»åˆ—","slug":"æ’ä»¶ä½¿ç”¨ç³»åˆ—","permalink":"http://yoursite.com/categories/æ’ä»¶ä½¿ç”¨ç³»åˆ—/"}],"tags":[{"name":"æ’ä»¶","slug":"æ’ä»¶","permalink":"http://yoursite.com/tags/æ’ä»¶/"}],"author":"å¢å›½å³¥"},{"title":"æ—¶é—´è½¬cronè¡¨è¾¾å¼","slug":"æ—¶é—´è½¬cronè¡¨è¾¾å¼","date":"2019-07-15T01:50:00.000Z","updated":"2019-07-15T01:53:13.016Z","comments":true,"path":"2019/07/15/æ—¶é—´è½¬cronè¡¨è¾¾å¼/","link":"","permalink":"http://yoursite.com/2019/07/15/æ—¶é—´è½¬cronè¡¨è¾¾å¼/","excerpt":"è®°å½•ä¸€ä¸ªæ—¶é—´è½¬cronè¡¨è¾¾å¼çš„å·¥å…·ç±»","text":"è®°å½•ä¸€ä¸ªæ—¶é—´è½¬cronè¡¨è¾¾å¼çš„å·¥å…·ç±»DateToCronUtil12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697/** * @author LuGuoZheng * @date 2019/7/12 13:45 * @Version 3.0 * @description */public class DateToCronUtil &#123; private static final Logger logger = LoggerFactory.getLogger(DateToCronUtil.class); public static final String DEFUALT_LONG_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss\"; private final static String H = \"H\"; private final static String D = \"D\"; private final static String W = \"W\"; private final static String M = \"M\"; private final static String Q = \"Q\"; private final static String Y = \"Y\"; /** * æ¯å°æ—¶ */ private final static String DEFAULT_H_CRON = \"0 H * * * ? *\"; /** * æ¯å¤© */ private final static String DEFAULT_D_CRON = \"0 H D * * ? *\"; /** * æ¯å‘¨ */ private final static String DEFAULT_W_CRON = \"0 H D ? * W\"; /** * æ¯æœˆ */ private final static String DEFAULT_M_CRON = \"0 H D M * ? *\"; /** * æ¯å­£åº¦ */ private final static String DEFAULT_Q_CRON = \"0 H D M 1/3 ? *\"; /** * æ¯å¹´ */ private final static String DEFAULT_Y_CRON = \"0 H D M Y ? *\"; public static LocalDateTime stringToLocalDate(String time) &#123; DateTimeFormatter df = DateTimeFormatter.ofPattern(DEFUALT_LONG_TIME_FORMAT); return LocalDateTime.parse(time, df); &#125; /** * @param time æ—¶é—´ yyyy-MM-dd HH:mm * @param timeType ç±»å‹:H-&gt;å°æ—¶,D-&gt;å¤©,W-&gt;å‘¨,M-&gt;æœˆ,Q-&gt;å­£åº¦,Y-&gt;æ¯å¹´ * @return */ public static String getCron(String time, String timeType) &#123; LocalDateTime localDateTime = stringToLocalDate(time); logger.info(\"localDateTime:&#123;&#125;\", localDateTime); if (DateToCronUtil.H.equals(timeType)) &#123; return DEFAULT_H_CRON.replace(DateToCronUtil.H, localDateTime.get(ChronoField.MINUTE_OF_HOUR) + \"\"); &#125; else if (DateToCronUtil.D.equals(timeType)) &#123; return DEFAULT_D_CRON.replace(DateToCronUtil.H, localDateTime.get(ChronoField.MINUTE_OF_HOUR) + \"\") .replace(DateToCronUtil.D, localDateTime.get(ChronoField.HOUR_OF_DAY) + \"\"); &#125; else if (DateToCronUtil.W.equals(timeType)) &#123; return DEFAULT_W_CRON.replace(DateToCronUtil.H, localDateTime.get(ChronoField.MINUTE_OF_HOUR) + \"\") .replace(DateToCronUtil.D, localDateTime.get(ChronoField.HOUR_OF_DAY) + \"\") .replace(DateToCronUtil.W, (localDateTime.get(ChronoField.DAY_OF_WEEK) == 7 ? 1 : localDateTime.get(ChronoField.DAY_OF_WEEK) + 1) + \"\"); &#125; else if (DateToCronUtil.M.equals(timeType)) &#123; return DEFAULT_M_CRON.replace(DateToCronUtil.H, localDateTime.get(ChronoField.MINUTE_OF_HOUR) + \"\") .replace(DateToCronUtil.D, localDateTime.get(ChronoField.HOUR_OF_DAY) + \"\") .replace(DateToCronUtil.M, localDateTime.get(ChronoField.MONTH_OF_YEAR) + \"\"); &#125; else if (DateToCronUtil.Q.equals(timeType)) &#123; return DEFAULT_Q_CRON.replace(DateToCronUtil.H, localDateTime.get(ChronoField.MINUTE_OF_HOUR) + \"\") .replace(DateToCronUtil.D, localDateTime.get(ChronoField.HOUR_OF_DAY) + \"\") .replace(DateToCronUtil.D, localDateTime.get(ChronoField.DAY_OF_MONTH) + \"\"); &#125; else if (DateToCronUtil.Y.equals(timeType)) &#123; return DEFAULT_Y_CRON.replace(DateToCronUtil.H, localDateTime.get(ChronoField.MINUTE_OF_HOUR) + \"\") .replace(DateToCronUtil.D, localDateTime.get(ChronoField.HOUR_OF_DAY) + \"\") .replace(DateToCronUtil.D, localDateTime.get(ChronoField.DAY_OF_MONTH) + \"\") .replace(DateToCronUtil.Y, localDateTime.get(ChronoField.MONTH_OF_YEAR) + \"\"); &#125; return DEFAULT_D_CRON; &#125; @Test public void get() &#123;// DateTimeFormatter df = DateTimeFormatter.ofPattern(DEFUALT_LONG_TIME_FORMAT);// LocalDateTime now = LocalDateTime.parse(\"2019-07-11 14:22\",df);// System.out.println(now);// System.out.println(now.get(ChronoField.MINUTE_OF_HOUR)); String d = getCron(\"2019-07-16 14:25:12\", \"W\"); System.out.println(d); &#125;&#125;","categories":[{"name":"å·¥å…·ç±»æ”¶è—","slug":"å·¥å…·ç±»æ”¶è—","permalink":"http://yoursite.com/categories/å·¥å…·ç±»æ”¶è—/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yoursite.com/tags/java/"}],"author":"å¢å›½å³¥"},{"title":"ElasticSearch 9200ç«¯å£ä¸9300ç«¯å£çš„åŒºåˆ«","slug":"ElasticSearch-JAVAå®¢æˆ·ç«¯-ç«¯å£","date":"2019-07-05T16:24:00.000Z","updated":"2019-07-05T16:33:16.051Z","comments":true,"path":"2019/07/06/ElasticSearch-JAVAå®¢æˆ·ç«¯-ç«¯å£/","link":"","permalink":"http://yoursite.com/2019/07/06/ElasticSearch-JAVAå®¢æˆ·ç«¯-ç«¯å£/","excerpt":"ESå¯åŠ¨ç›‘å¬ä¸¤ä¸ªç«¯å£:9300å’Œ92009300ç«¯å£9300æ˜¯Tcpåè®®ç«¯å£:é€šè¿‡Tcpåè®®é€šè®¯,ESé›†ç¾¤ä¹‹é—´æ˜¯é€šè¿‡9300è¿›è¡Œé€šè®¯,javaå®¢æˆ·ç«¯(TransportClient)çš„æ–¹å¼ä¹Ÿæ˜¯ä»¥Tcpåè®®åœ¨9300ç«¯å£ä¸Šä¸é›†ç¾¤è¿›è¡Œé€šè®¯.9200ç«¯å£9200æ˜¯Httpåè®®ç«¯å£:ä¸»è¦ç”¨äºå¤–éƒ¨é€šè®¯,å¤–éƒ¨ä½¿ç”¨RESTfulæ¥å£è¿›è¡Œè®¿é—®.","text":"ESå¯åŠ¨ç›‘å¬ä¸¤ä¸ªç«¯å£:9300å’Œ92009300ç«¯å£9300æ˜¯Tcpåè®®ç«¯å£:é€šè¿‡Tcpåè®®é€šè®¯,ESé›†ç¾¤ä¹‹é—´æ˜¯é€šè¿‡9300è¿›è¡Œé€šè®¯,javaå®¢æˆ·ç«¯(TransportClient)çš„æ–¹å¼ä¹Ÿæ˜¯ä»¥Tcpåè®®åœ¨9300ç«¯å£ä¸Šä¸é›†ç¾¤è¿›è¡Œé€šè®¯.9200ç«¯å£9200æ˜¯Httpåè®®ç«¯å£:ä¸»è¦ç”¨äºå¤–éƒ¨é€šè®¯,å¤–éƒ¨ä½¿ç”¨RESTfulæ¥å£è¿›è¡Œè®¿é—®.ESå¯åŠ¨ç›‘å¬ä¸¤ä¸ªç«¯å£:9300å’Œ92009300ç«¯å£9300æ˜¯Tcpåè®®ç«¯å£:é€šè¿‡Tcpåè®®é€šè®¯,ESé›†ç¾¤ä¹‹é—´æ˜¯é€šè¿‡9300è¿›è¡Œé€šè®¯,javaå®¢æˆ·ç«¯(TransportClient)çš„æ–¹å¼ä¹Ÿæ˜¯ä»¥Tcpåè®®åœ¨9300ç«¯å£ä¸Šä¸é›†ç¾¤è¿›è¡Œé€šè®¯.9200ç«¯å£9200æ˜¯Httpåè®®ç«¯å£:ä¸»è¦ç”¨äºå¤–éƒ¨é€šè®¯,å¤–éƒ¨ä½¿ç”¨RESTfulæ¥å£è¿›è¡Œè®¿é—®.","categories":[{"name":"ElasticSearchç³»åˆ—","slug":"ElasticSearchç³»åˆ—","permalink":"http://yoursite.com/categories/ElasticSearchç³»åˆ—/"}],"tags":[{"name":"ElasticSearch","slug":"ElasticSearch","permalink":"http://yoursite.com/tags/ElasticSearch/"}],"author":"å¢å›½å³¥"},{"title":"Docker ç®€å•éƒ¨ç½² ElasticSearch","slug":"Docker-ç®€å•éƒ¨ç½²-ElasticSearch","date":"2019-07-02T03:56:00.000Z","updated":"2019-07-05T16:37:17.086Z","comments":true,"path":"2019/07/02/Docker-ç®€å•éƒ¨ç½²-ElasticSearch/","link":"","permalink":"http://yoursite.com/2019/07/02/Docker-ç®€å•éƒ¨ç½²-ElasticSearch/","excerpt":"ElasticSearchå®˜ç½‘APIä¸€ã€ElasticSearchæ˜¯ä»€ä¹ˆ?Elasticsearchä¹Ÿä½¿ç”¨Javaå¼€å‘å¹¶ä½¿ç”¨Luceneä½œä¸ºå…¶æ ¸å¿ƒæ¥å®ç°æ‰€æœ‰ç´¢å¼•å’Œæœç´¢çš„åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒçš„ç›®çš„æ˜¯é€šè¿‡ç®€å•çš„RESTful APIæ¥éšè—Luceneçš„å¤æ‚æ€§ï¼Œä»è€Œè®©å…¨æ–‡æœç´¢å˜å¾—ç®€å•ã€‚ä¸è¿‡ï¼ŒElasticsearchä¸ä»…ä»…æ˜¯Luceneå’Œå…¨æ–‡æœç´¢ï¼Œæˆ‘ä»¬è¿˜èƒ½è¿™æ ·å»æè¿°å®ƒï¼šåˆ†å¸ƒå¼çš„å®æ—¶æ–‡ä»¶å­˜å‚¨ï¼Œæ¯ä¸ªå­—æ®µéƒ½è¢«ç´¢å¼•å¹¶å¯è¢«æœç´¢åˆ†å¸ƒå¼çš„å®æ—¶åˆ†ææœç´¢å¼•æ“å¯ä»¥æ‰©å±•åˆ°ä¸Šç™¾å°æœåŠ¡å™¨ï¼Œå¤„ç†PBçº§ç»“æ„åŒ–æˆ–éç»“æ„åŒ–æ•°æ®","text":"ElasticSearchå®˜ç½‘APIä¸€ã€ElasticSearchæ˜¯ä»€ä¹ˆ?Elasticsearchä¹Ÿä½¿ç”¨Javaå¼€å‘å¹¶ä½¿ç”¨Luceneä½œä¸ºå…¶æ ¸å¿ƒæ¥å®ç°æ‰€æœ‰ç´¢å¼•å’Œæœç´¢çš„åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒçš„ç›®çš„æ˜¯é€šè¿‡ç®€å•çš„RESTful APIæ¥éšè—Luceneçš„å¤æ‚æ€§ï¼Œä»è€Œè®©å…¨æ–‡æœç´¢å˜å¾—ç®€å•ã€‚ä¸è¿‡ï¼ŒElasticsearchä¸ä»…ä»…æ˜¯Luceneå’Œå…¨æ–‡æœç´¢ï¼Œæˆ‘ä»¬è¿˜èƒ½è¿™æ ·å»æè¿°å®ƒï¼šåˆ†å¸ƒå¼çš„å®æ—¶æ–‡ä»¶å­˜å‚¨ï¼Œæ¯ä¸ªå­—æ®µéƒ½è¢«ç´¢å¼•å¹¶å¯è¢«æœç´¢åˆ†å¸ƒå¼çš„å®æ—¶åˆ†ææœç´¢å¼•æ“å¯ä»¥æ‰©å±•åˆ°ä¸Šç™¾å°æœåŠ¡å™¨ï¼Œå¤„ç†PBçº§ç»“æ„åŒ–æˆ–éç»“æ„åŒ–æ•°æ®ElasticSearchå®˜ç½‘APIä¸€ã€ElasticSearchæ˜¯ä»€ä¹ˆ?Elasticsearchä¹Ÿä½¿ç”¨Javaå¼€å‘å¹¶ä½¿ç”¨Luceneä½œä¸ºå…¶æ ¸å¿ƒæ¥å®ç°æ‰€æœ‰ç´¢å¼•å’Œæœç´¢çš„åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒçš„ç›®çš„æ˜¯é€šè¿‡ç®€å•çš„RESTful APIæ¥éšè—Luceneçš„å¤æ‚æ€§ï¼Œä»è€Œè®©å…¨æ–‡æœç´¢å˜å¾—ç®€å•ã€‚ä¸è¿‡ï¼ŒElasticsearchä¸ä»…ä»…æ˜¯Luceneå’Œå…¨æ–‡æœç´¢ï¼Œæˆ‘ä»¬è¿˜èƒ½è¿™æ ·å»æè¿°å®ƒï¼šåˆ†å¸ƒå¼çš„å®æ—¶æ–‡ä»¶å­˜å‚¨ï¼Œæ¯ä¸ªå­—æ®µéƒ½è¢«ç´¢å¼•å¹¶å¯è¢«æœç´¢åˆ†å¸ƒå¼çš„å®æ—¶åˆ†ææœç´¢å¼•æ“å¯ä»¥æ‰©å±•åˆ°ä¸Šç™¾å°æœåŠ¡å™¨ï¼Œå¤„ç†PBçº§ç»“æ„åŒ–æˆ–éç»“æ„åŒ–æ•°æ®äºŒã€Docker éƒ¨ç½² ElasticSearch2.1 æ‹‰å–é•œåƒ1docker pull docker.elastic.co/elasticsearch/elasticsearch:7.0.02.2 è¿è¡Œå®¹å™¨ElasticSearchçš„é»˜è®¤ç«¯å£æ˜¯9200ï¼Œæˆ‘ä»¬æŠŠå®¿ä¸»ç¯å¢ƒ9200ç«¯å£æ˜ å°„åˆ°Dockerå®¹å™¨ä¸­çš„9200ç«¯å£ï¼Œå°±å¯ä»¥è®¿é—®åˆ°Dockerå®¹å™¨ä¸­çš„ElasticSearchæœåŠ¡äº†ï¼ŒåŒæ—¶æˆ‘ä»¬æŠŠè¿™ä¸ªå®¹å™¨å‘½åä¸ºesã€‚1docker run -d --name es -p 9200:9200 -p 9300:9300 -e &quot;discovery.type=single-node&quot; &lt;å®¹å™¨ID&gt;2.3 é…ç½®è·¨åŸŸ2.3.1 è¿›å…¥å®¹å™¨ç”±äºè¦è¿›è¡Œé…ç½®ï¼Œå› æ­¤éœ€è¦è¿›å…¥å®¹å™¨å½“ä¸­ä¿®æ”¹ç›¸åº”çš„é…ç½®ä¿¡æ¯ã€‚1docker exec -it es /bin/bash2.3.2 è¿›è¡Œé…ç½®123456789101112131415161718192021# æ˜¾ç¤ºæ–‡ä»¶lsç»“æœå¦‚ä¸‹ï¼šLICENSE.txt README.textile config lib modulesNOTICE.txt bin data logs plugins# è¿›å…¥é…ç½®æ–‡ä»¶å¤¹cd config# æ˜¾ç¤ºæ–‡ä»¶lsç»“æœå¦‚ä¸‹ï¼šelasticsearch.keystore ingest-geoip log4j2.properties roles.yml users_roleselasticsearch.yml jvm.options role_mapping.yml users# ä¿®æ”¹é…ç½®æ–‡ä»¶vi elasticsearch.yml# åŠ å…¥è·¨åŸŸé…ç½®http.cors.enabled: truehttp.cors.allow-origin: &quot;*&quot;2.3 é‡å¯å®¹å™¨ç”±äºä¿®æ”¹äº†é…ç½®ï¼Œå› æ­¤éœ€è¦é‡å¯ElasticSearchå®¹å™¨ã€‚1docker restart eså±•ç¤ºå¦‚ä¸‹ï¼šä¸‰ã€Docker éƒ¨ç½² ElasticSearch-Headä¸ºä»€ä¹ˆè¦å®‰è£…ElasticSearch-Headå‘¢ï¼ŒåŸå› æ˜¯éœ€è¦æœ‰ä¸€ä¸ªç®¡ç†ç•Œé¢è¿›è¡ŒæŸ¥çœ‹ElasticSearchç›¸å…³ä¿¡æ¯3.1 æ‹‰å–é•œåƒ1docker pull mobz/elasticsearch-head:53.2 è¿è¡Œå®¹å™¨1docker run -d --name es_admin -p 9100:9100 mobz/elasticsearch-head:5å±•ç¤ºå¦‚ä¸‹ï¼šè¿™æ ·ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ç”¨Dockeræä¾›ElasticsearchæœåŠ¡ï¼Œè€Œä¸æ±¡æŸ“å®¿ä¸»æœºç¯å¢ƒäº†ï¼Œè¿™æ ·è¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå¦‚æœæƒ³åŒæ—¶å¯åŠ¨å¤šä¸ªä¸åŒç‰ˆæœ¬çš„Elastcsearchæˆ–è€…å…¶ä»–æœåŠ¡ï¼ŒDockerä¹Ÿæ˜¯ä¸€ä¸ªç†æƒ³çš„è§£å†³æ–¹æ¡ˆã€‚åŸæ–‡å‡ºå¤„:https://www.cnblogs.com/jianxuanbing/p/9410800.html","categories":[{"name":"ElasticSearchç³»åˆ—","slug":"ElasticSearchç³»åˆ—","permalink":"http://yoursite.com/categories/ElasticSearchç³»åˆ—/"}],"tags":[{"name":"ElasticSearch","slug":"ElasticSearch","permalink":"http://yoursite.com/tags/ElasticSearch/"},{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://yoursite.com/tags/è½¬è½½/"}],"author":"å¢å›½å³¥"},{"title":"dubboéšå¼å‚æ•°ä¸¢å¤±é—®é¢˜","slug":"dubboéšå¼å‚æ•°ä¸¢å¤±é—®é¢˜","date":"2019-06-29T06:18:00.000Z","updated":"2019-06-29T07:48:38.907Z","comments":true,"path":"2019/06/29/dubboéšå¼å‚æ•°ä¸¢å¤±é—®é¢˜/","link":"","permalink":"http://yoursite.com/2019/06/29/dubboéšå¼å‚æ•°ä¸¢å¤±é—®é¢˜/","excerpt":"è®°å½•åœ¨æ¶ˆè´¹ç«¯è¿ç»­è°ƒç”¨ä¸¤æ¬¡è¿œç¨‹æœåŠ¡å¯¼è‡´éšå¼å‚æ•°ä¸¢å¤±é—®é¢˜~!","text":"è®°å½•åœ¨æ¶ˆè´¹ç«¯è¿ç»­è°ƒç”¨ä¸¤æ¬¡è¿œç¨‹æœåŠ¡å¯¼è‡´éšå¼å‚æ•°ä¸¢å¤±é—®é¢˜~!æ¼”ç¤ºä»£ç controllerå±‚12345678910111213141516@Controller@RequestMapping(\"/test\")public class TestController &#123; @Reference private ICarService iCarService; @RequestMapping(\"/test\") @ResponseBody public String test()&#123; // ä¼ é€’å‚æ•° RpcContext.getContext().setAttachment(\"TOKEN\",\"æµ‹è¯•éšå£«å‚æ•°ä¼ é€’\"); iCarService.test(); return \"å‚æ•°\"; &#125;&#125;æœåŠ¡å±‚123456789101112131415161718192021@Service(retries = -1)public class CeshiServiceImpl implements ICeshiService &#123; private static final Logger logger = LoggerFactory.getLogger(CeshiServiceImpl.class); @Reference private ICarService iCarService; @Reference private IUserInfoService iUserInfoService; @Override public void test() &#123; String token = RpcContext.getContext().getAttachment(\"TOKEN\"); logger.info(\"tokenä¿¡æ¯:&#123;&#125;\", token); // ç¬¬ä¸€æ¬¡è°ƒç”¨rpcæœåŠ¡ iCarService.test(); logger.info(\"tokenä¿¡æ¯:&#123;&#125;\", RpcContext.getContext().getAttachment(\"TOKEN\")); // ç¬¬äºŒæ¬¡è°ƒç”¨rpcæœåŠ¡ iUserInfoService.test(); &#125;&#125;ICarServiceImpl12345678910@Service(retries = -1)public class CarServiceImpl implements ICarService &#123; private static final Logger logger = LoggerFactory.getLogger(CarServiceImpl.class); public void test() &#123; String token = RpcContext.getContext().getAttachment(\"TOKEN\"); logger.info(\"carService:&#123;&#125;\",token); &#125;&#125;userInfoServiceImpl1234567891011@Service(retries = -1)@Transactionalpublic class UserInfoServiceImpl implements IUserInfoService &#123; private static final Logger logger = LoggerFactory.getLogger(UserInfoServiceImpl.class); public void test() &#123; String token = RpcContext.getContext().getAttachment(\"TOKEN\"); logger.info(\"userInfoService:&#123;&#125;\",token); &#125; &#125;æ‰“å°ç»“æœceshiServiceç»“æœICarServiceImplç»“æœuserInfoServiceImplç»“æœæºç 12345678910111213141516171819202122@Activate(group = Constants.CONSUMER, order = -10000)public class ConsumerContextFilter implements Filter &#123; public Result invoke(Invoker&lt;?&gt; invoker, Invocation invocation) throws RpcException &#123; RpcContext.getContext() .setInvoker(invoker) .setInvocation(invocation) .setLocalAddress(NetUtils.getLocalHost(), 0) .setRemoteAddress(invoker.getUrl().getHost(), invoker.getUrl().getPort()); if (invocation instanceof RpcInvocation) &#123; ((RpcInvocation) invocation).setInvoker(invoker); &#125; try &#123; return invoker.invoke(invocation); &#125; finally &#123; // æ¸…ç©ºéšå¼å‚æ•° RpcContext.getContext().clearAttachments(); &#125; &#125;&#125;æ¶ˆè´¹ç«¯åœ¨æ‰§è¡ŒRpcè°ƒç”¨ä¹‹å‰ï¼Œç»è¿‡Filterå¤„ç†, ä¼šå°†ä¿¡æ¯å†™å…¥RpcContex,è€Œä¸”åœ¨æ¯æ¬¡è°ƒç”¨rpcåéƒ½ä¼šæŠŠéšå¼å‚æ•°æ¸…ç©º,æ‰€ä»¥åœ¨ç¬¬äºŒæ¬¡è°ƒç”¨rpcå°±æ— æ³•æ‹¿åˆ°ä¹‹å‰çš„éšå¼å‚æ•°äº†æ‹“å±•Filterä½•æ—¶è¿›è¡Œurlè¿‡æ»¤filterï¼ˆè¿‡æ»¤å™¨ï¼‰ä½œç”¨äºåœ¨intreceptor(æ‹¦æˆªå™¨)ä¹‹å‰ï¼Œä¸åƒintreceptorä¸€æ ·ä¾èµ–äºspringmvcæ¡†æ¶ï¼Œåªéœ€è¦ä¾èµ–äºserverletã€‚","categories":[{"name":"Dubboç³»åˆ—","slug":"Dubboç³»åˆ—","permalink":"http://yoursite.com/categories/Dubboç³»åˆ—/"}],"tags":[{"name":"dubbo","slug":"dubbo","permalink":"http://yoursite.com/tags/dubbo/"}],"author":"å¢å›½å³¥"},{"title":"dockeråŸºæœ¬å‘½ä»¤ä½¿ç”¨","slug":"dockeråŸºæœ¬å‘½ä»¤ä½¿ç”¨","date":"2019-06-24T03:22:43.000Z","updated":"2019-06-24T04:30:29.437Z","comments":true,"path":"2019/06/24/dockeråŸºæœ¬å‘½ä»¤ä½¿ç”¨/","link":"","permalink":"http://yoursite.com/2019/06/24/dockeråŸºæœ¬å‘½ä»¤ä½¿ç”¨/","excerpt":"è®°å½•dockerå¸¸ç”¨å‘½ä»¤","text":"è®°å½•dockerå¸¸ç”¨å‘½ä»¤æŸ¥çœ‹æœ¬åœ°é•œåƒåˆ—è¡¨1docker imagesæŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨1docker psæŸ¥çœ‹æ‰€æœ‰å®¹å™¨(åŒ…æ‹¬æœªè¿è¡Œçš„)1docker ps -aåˆ é™¤é•œåƒ1docker rmi &lt;é•œåƒID&gt;runå‘½ä»¤docker run [å‚æ•°] [é•œåƒid] | [é•œåƒå]:[é•œåƒæ ‡ç­¾] [å‘½ä»¤]-i è¡¨ç¤ºå®¹å™¨çš„è¾“å…¥ç»ˆç«¯ä¿æŒæ‰“å¼€,ä¸ç›´æ¥å…³é—­-t è¡¨ç¤ºå¼€å¯ä¸€ä¸ªè™šæ‹Ÿç»ˆç«¯, ç»‘å®šåˆ°æ ‡å‡†è¾“å…¥ä¸Š-d è¡¨ç¤ºè®©è¯¥å®¹å™¨åœ¨åå°è¿è¡Œâ€“name ç»™è¯¥å®¹å™¨èµ·ä¸€ä¸ªå®¹å™¨åï¼Œå¦‚æœæ²¡æœ‰æ­¤å‚æ•°ï¼Œåˆ™æœ‰ä¸€ä¸ªé»˜è®¤çš„å®¹å™¨åâ€“rm åœæ­¢è¯¥å®¹å™¨æ—¶ï¼ŒæŠŠå®¹å™¨åˆ é™¤æ‰ä½¿ç”¨é•œåƒè¿è¡Œå®¹å™¨1docker run -it --name &lt;å®¹å™¨åç§°&gt; -d -p &lt;port:port&gt; &lt;é•œåƒID&gt;å¯åŠ¨å®¹å™¨1docker start &lt;å®¹å™¨ID&gt;åœæ­¢å®¹å™¨1docker stop &lt;å®¹å™¨ID&gt;åˆ é™¤å®¹å™¨1docker rm &lt;å®¹å™¨ID&gt;æŸ¥çœ‹dockerçš„æ‰€æœ‰å®¹å™¨è¿è¡ŒçŠ¶æ€1docker statsè¿›å…¥å®¹å™¨é‡Œé¢1docker exec -it &lt;å®¹å™¨ID&gt; /bin/bashæŸ¥çœ‹å®¹å™¨è¿è¡Œæ—¥å¿—(ç±»ä¼¼ tail -f å‘½ä»¤)1docker logs","categories":[],"tags":[],"author":"å¢å›½å³¥"},{"title":"ä½¿ç”¨ JConsole ç›‘æ§ springboot é¡¹ç›®","slug":"ä½¿ç”¨-JConsole-ç›‘æ§-springboot-é¡¹ç›®","date":"2019-06-24T03:07:00.000Z","updated":"2019-06-24T03:16:22.665Z","comments":true,"path":"2019/06/24/ä½¿ç”¨-JConsole-ç›‘æ§-springboot-é¡¹ç›®/","link":"","permalink":"http://yoursite.com/2019/06/24/ä½¿ç”¨-JConsole-ç›‘æ§-springboot-é¡¹ç›®/","excerpt":"JConsole ä½¿ç”¨è®°å½•~!","text":"JConsole ä½¿ç”¨è®°å½•~!æ·»åŠ å¯åŠ¨å‚æ•°1234567nohup java -jar -Djava.rmi.server.hostname=x.x.x.x # æœåŠ¡ip-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=1099 # ç«¯å£(ä¸èƒ½ä¸æœåŠ¡ç«¯å£å†²çª)-Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Xms200m -Xmx200m ylcloud-item-service-0.0.1-SNAPSHOT.jar &gt; /pro/test/home/yanfa/nohup_item.out &amp; 2&gt;&amp;1 &amp;å¯åŠ¨JConsoleç›´æ¥åœ¨windowså‘½ä»¤çª—å£è¾“å…¥JConsoleé€‰æ‹©è¿œç¨‹è¿›ç¨‹è¾“å…¥å¯¹åº”çš„ip:portå³å¯","categories":[{"name":"å·¥å…·ä½¿ç”¨","slug":"å·¥å…·ä½¿ç”¨","permalink":"http://yoursite.com/categories/å·¥å…·ä½¿ç”¨/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yoursite.com/tags/java/"}],"author":"å¢å›½å³¥"},{"title":"dubboé‡è¯•æœºåˆ¶","slug":"Dubboé‡è¯•æœºåˆ¶","date":"2019-06-15T06:21:00.000Z","updated":"2019-06-24T03:21:54.255Z","comments":true,"path":"2019/06/15/Dubboé‡è¯•æœºåˆ¶/","link":"","permalink":"http://yoursite.com/2019/06/15/Dubboé‡è¯•æœºåˆ¶/","excerpt":"DUBBOä¸­æ–‡å®˜æ–¹æ–‡æ¡£è®°å½•Dubboé‡è¯•æœºåˆ¶é…ç½®~!","text":"DUBBOä¸­æ–‡å®˜æ–¹æ–‡æ¡£è®°å½•Dubboé‡è¯•æœºåˆ¶é…ç½®~!DUBBOä¸­æ–‡å®˜æ–¹æ–‡æ¡£é»˜è®¤é‡è¯•æ¬¡æ•°: 2åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æœ‰ä»‹ç»åˆ°dubboçš„é‡è¯•æ¬¡æ•°é»˜è®¤æ˜¯2å±æ€§å¯¹åº”URLå‚æ•°ç±»å‹æ˜¯å¦å¿…å¡«ç¼ºçœå€¼ä½œç”¨æè¿°å…¼å®¹æ€§retriesretriesintå¯é€‰2æ€§èƒ½è°ƒä¼˜è¿œç¨‹æœåŠ¡è°ƒç”¨é‡è¯•æ¬¡æ•°ï¼Œä¸åŒ…æ‹¬ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œä¸éœ€è¦é‡è¯•è¯·è®¾ä¸º02.0.0ä»¥ä¸Šç‰ˆæœ¬ä¿®æ”¹é‡è¯•æ¬¡æ•°duboo-provider.xmlé…ç½®æ–¹å¼: åœ¨dubbo:serviceé…ç½®retrieså‚æ•°123&lt;!--å¸¸ç”¨èœå•æ¨è--&gt;&lt;dubbo:service ref=\"userMenuClickFacade\" interface=\"com.ylcloud.user.facade.UserMenuClickFacade\" retries=\"1\"/&gt;&lt;bean id=\"userMenuClickFacade\" class=\"com.ylcloud.user.facade.impl.UserMenuClickFacadeImpl\"/&gt;ä½¿ç”¨æ³¨è§£å¦‚æœä½¿ç”¨çš„@Serviceé…ç½®é‡è¯•æ¬¡æ•°,ä¸è®¾ç½®retrieså‚æ•°,é‚£ä¹ˆè¯¥å‚æ•°é»˜è®¤å€¼æ˜¯0,ä½†æ˜¯ä¸ç®¡æ˜¾ç¤ºé…ç½®retriesä¸º0,è¿˜æ˜¯ä¸æ˜¾ç¤ºè®¾ç½®,0éƒ½æ˜¯ä½¿ç”¨dubboé»˜è®¤çš„é‡è¯•æ¬¡æ•°å¦‚æœè¦é…ç½®é‡è¯•æ¬¡æ•°ä¸º0,åªæœ‰æŠŠretrieså°äº0æ‰ä¼šèµ·ä½œç”¨å¦‚æœä½¿ç”¨@Referenceå¼•ç”¨æœåŠ¡æ—¶é…ç½®äº†retries,é‡è¯•æ¬¡æ•°ä»¥æ”¹æ¬¡æ•°ä¸ºå‡†åªæœ‰æ˜¾ç¤ºè®¾ç½®retrieså¤§äºæˆ–ç­‰äº1æ‰ä¼šèµ·ä½œç”¨dubboç›¸å…³ä»£ç (dubboç‰ˆæœ¬:2.6.1)package com.alibaba.dubbo.rpc.cluster.support.FailoverClusterInvoker;1234567891011public Result doInvoke(Invocation invocation, final List&lt;Invoker&lt;T&gt;&gt; invokers, LoadBalance loadbalance) throws RpcException &#123; List&lt;Invoker&lt;T&gt;&gt; copyinvokers = invokers; checkInvokers(copyinvokers, invocation); // len:æœ€å¤šè°ƒç”¨æ¬¡æ•°--&gt; é‡è¯•æ¬¡æ•° + 1 int len = getUrl().getMethodParameter(invocation.getMethodName(), Constants.RETRIES_KEY, Constants.DEFAULT_RETRIES) + 1; // æ§åˆ¶è‡³å°‘è°ƒç”¨ä¸€æ¬¡:å³é‡è¯•æ¬¡æ•°ä¸º 0 if (len &lt;= 0) &#123; len = 1; &#125; /** éƒ¨åˆ†æºç çœç•¥**/&#125;dubboæ³¨å†ŒæœåŠ¡ç›¸å…³ä»£ç package com.alibaba.dubbo.config.AbstractConfig;123456789101112131415protected void appendAnnotation(Class&lt;?&gt; annotationClass, Object annotation) &#123; /** çœç•¥éƒ¨åˆ†ä»£ç  **/ // è·å–ç›´æ¥é…ç½®çš„æ•°æ® Object value = method.invoke(annotation, new Object[0]); // å¦‚æœä¸ä¸ºç©ºå¹¶ä¸”ä¸ç­‰äºé»˜è®¤å€¼,åˆ™æ³¨å†Œurlä¸­ if (value != null &amp;&amp; !value.equals(method.getDefaultValue())) &#123; /** çœç•¥éƒ¨åˆ†ä»£ç  **/ &#125; /** çœç•¥éƒ¨åˆ†ä»£ç  **/ &#125;æ‰€ä»¥å¦‚æœä½¿ç”¨æ³¨è§£é…ç½®é‡è¯•æ¬¡æ•°,å¦‚æœé…ç½®çš„æ˜¯é»˜è®¤å€¼,åˆ™ä¸ä¼šæ³¨å†Œåˆ°urlä¸­,ä¼šä½¿ç”¨dubboé»˜è®¤çš„å€¼","categories":[{"name":"Dubboç³»åˆ—","slug":"Dubboç³»åˆ—","permalink":"http://yoursite.com/categories/Dubboç³»åˆ—/"}],"tags":[{"name":"dubbo","slug":"dubbo","permalink":"http://yoursite.com/tags/dubbo/"}],"author":"å¢å›½å³¥"},{"title":"Nginx+ffmpegæ­å»ºæ¨æµæœåŠ¡å™¨","slug":"Nginx-ffmpegæ­å»ºæ¨æµæœåŠ¡å™¨","date":"2019-06-14T07:23:00.000Z","updated":"2019-06-14T08:19:25.829Z","comments":true,"path":"2019/06/14/Nginx-ffmpegæ­å»ºæ¨æµæœåŠ¡å™¨/","link":"","permalink":"http://yoursite.com/2019/06/14/Nginx-ffmpegæ­å»ºæ¨æµæœåŠ¡å™¨/","excerpt":"ç¯å¢ƒğŸ‘‡:CentOS7æ­å»ºæ¨æµæœåŠ¡å™¨~!","text":"ç¯å¢ƒğŸ‘‡:CentOS7æ­å»ºæ¨æµæœåŠ¡å™¨~!å®‰è£…Nginx(å¿½ç•¥)ç•¥ç›´æ¥è¿›å…¥åˆ°Nginxçš„è§£å‹ç›®å½•// å‚è€ƒ:è¿™æ˜¯æˆ‘ç›®å½•1cd /usr/local/softs/nginx-1.10.1ç›®å½•ä¸‹é¢çš„å†…å®¹:ä¸‹è½½nginx-rtmp-module,å¹¶è§£å‹123wget https://github.com/arut/nginx-rtmp-module/archive/master.zipunzip master.zipå…ˆå¤‡ä»½Nginx(ç¨³ç‚¹æ¥)1cp objs/nginx /usr/local/nginx/sbin/nginxé‡æ–°é…ç½®Nginx123./configure --with-http_ssl_module --add-module=/usr/local/softs/nginx-1.10.1/nginx-rtmp-module-mastermakePS: ç”¨make,ä¸è¦ä½¿ç”¨make install,ä¸ç„¶ä¼šè¦†ç›–å·²ç»æ·»åŠ çš„æ¨¡å—(ç½‘ä¸Šæ˜¯è¿™ä¹ˆè¯´çš„,ä½†æ˜¯å¥½åƒæ²¡æœ‰æ•ˆæœ,æˆ‘ä¹‹å‰è£…äº†sslæ¨¡å—çš„,ç›´æ¥å°±ç»™æˆ‘è¦†ç›–æ‰äº†)å› ä¸ºæˆ‘ä¹‹å‰å°±åŠ äº†ä¸ªsslæ¨¡å—,æ‰€æœ‰æˆ‘ç›´æ¥åœ¨é…ç½®ä¸ŠåŠ ä¸Šäº†,ä¸è¿‡ä¹‹å‰ä¹Ÿæœ‰å¤‡ä»½å°†æ–°çš„nginxè¦†ç›–æ—§å®‰è£…ç›®å½•1cp objs/nginx /usr/local/nginx/sbin/nginxä¿®æ”¹Nginxé…ç½®æ–‡ä»¶(nginx.conf)123456789101112rtmp &#123; #RTMPæœåŠ¡ server &#123; listen 1935; #//æœåŠ¡ç«¯å£ chunk_size 4096; #//æ•°æ®ä¼ è¾“å—çš„å¤§å° application vod &#123; play /opt/video; #//è§†é¢‘æ–‡ä»¶å­˜æ”¾ä½ç½®ã€‚ &#125; application live&#123; #ç›´æ’­ live on; &#125; &#125;&#125;PS: rtmpæ˜¯ä¸€ä¸ªå•ç‹¬çš„æ¨¡å—,ä¸è¦æ”¾åœ¨httpé‡Œé¢é‡å¯Nginx123cd /usr/local/nginx/sbin./nginx -s reloadå®‰è£…EPEL Releaseï¼Œå› ä¸ºå®‰è£…éœ€è¦ä½¿ç”¨å…¶ä»–çš„repoæºï¼Œæ‰€ä»¥éœ€è¦EPELæ”¯æŒ1yum install -y epel-releaseå®‰è£…å®Œæˆä¹‹åï¼Œå¯ä»¥æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ1yum repolistå®‰è£…nux-dextop æº1rpm -Uvh http://li.nux.ro/download/nux/dextop/el7/x86_64/nux-dextop-release-0-1.el7.nux.noarch.rpmå®‰è£…ffmpeg1yum install -y ffmpegå®‰è£…å®Œæˆåæ£€æŸ¥ffmpeg ç‰ˆæœ¬1ffmpeg -versionæµ‹è¯•1ffmpeg -re -i lgz.mp4 -c copy -f flv rtmp://localhost:1935/live/filmä½¿ç”¨VLC1rtmp://&#123;ä½ çš„æœåŠ¡IP&#125;:1935/live/film","categories":[{"name":"æœåŠ¡å™¨ç³»åˆ—","slug":"æœåŠ¡å™¨ç³»åˆ—","permalink":"http://yoursite.com/categories/æœåŠ¡å™¨ç³»åˆ—/"}],"tags":[{"name":"Nginx","slug":"Nginx","permalink":"http://yoursite.com/tags/Nginx/"},{"name":"æ¨æµæœåŠ¡å™¨","slug":"æ¨æµæœåŠ¡å™¨","permalink":"http://yoursite.com/tags/æ¨æµæœåŠ¡å™¨/"},{"name":"ffmpeg","slug":"ffmpeg","permalink":"http://yoursite.com/tags/ffmpeg/"}],"author":"å¢å›½å³¥"},{"title":"ç»“æŸWindowså ç”¨ç«¯å£è¿›ç¨‹","slug":"ç»“æŸWindowså ç”¨ç«¯å£è¿›ç¨‹","date":"2019-06-12T06:46:00.000Z","updated":"2019-06-12T06:46:40.125Z","comments":true,"path":"2019/06/12/ç»“æŸWindowså ç”¨ç«¯å£è¿›ç¨‹/","link":"","permalink":"http://yoursite.com/2019/06/12/ç»“æŸWindowså ç”¨ç«¯å£è¿›ç¨‹/","excerpt":"netstat -ano | findstr 80 //åˆ—å‡ºè¿›ç¨‹æå…¶å ç”¨çš„ç«¯å£ï¼Œä¸”åŒ…å« 80tasklist | findstr 9268taskkill -PID &lt;è¿›ç¨‹å·&gt; -F //å¼ºåˆ¶å…³é—­æŸä¸ªè¿›ç¨‹","text":"netstat -ano | findstr 80 //åˆ—å‡ºè¿›ç¨‹æå…¶å ç”¨çš„ç«¯å£ï¼Œä¸”åŒ…å« 80tasklist | findstr 9268taskkill -PID &lt;è¿›ç¨‹å·&gt; -F //å¼ºåˆ¶å…³é—­æŸä¸ªè¿›ç¨‹","categories":[],"tags":[{"name":"Windows","slug":"Windows","permalink":"http://yoursite.com/tags/Windows/"}],"author":"å¢å›½å³¥"},{"title":"SQLå‡½æ•°ä½¿ç”¨è®°å½•","slug":"QLå‡½æ•°ä½¿ç”¨è®°å½•","date":"2019-06-06T06:19:00.000Z","updated":"2019-06-15T06:47:12.170Z","comments":true,"path":"2019/06/06/QLå‡½æ•°ä½¿ç”¨è®°å½•/","link":"","permalink":"http://yoursite.com/2019/06/06/QLå‡½æ•°ä½¿ç”¨è®°å½•/","excerpt":"sqlå‡½æ•°ä½¿ç”¨è®°å½•~!","text":"sqlå‡½æ•°ä½¿ç”¨è®°å½•~!SUMå‡½æ•°ä¸­ä½¿ç”¨caseç»Ÿè®¡t1.groupNumberå¤§äº2çš„æ•°é‡12345678SELECT IF(SUM(case when t1.groupNumber &gt; 2 then 1 else 0 end) / COUNT(t1.groupNumber),SUM(case when t1.groupNumber &gt; 2 then 1 else 0 end) / COUNT(t1.groupNumber),0) AS fgl FROM (SELECT COUNT(visitor_code) groupNumber FROM sales_order WHERE scomp_code = 'G0000001' GROUP BY visitor_code) t1;æ ¼å¼åŒ–æ—¥æœŸåˆ†ç»„æŸ¥è¯¢å‡½æ•°æè¿°DATE_FORMAT(creater_time,â€™%Y-%mâ€™)è®¢è´§æ—¥æœŸ(æ—¥)DATE_FORMAT(creater_time,â€™%Y-%m-%dâ€™)è®¢è´§æ—¥æœŸ(æœˆ)1SELECT COUNT(1),DATE_FORMAT(creater_time,'%Y-%m-%d') FROM patrolshop_plan GROUP BY DATE_FORMAT(creater_time,'%Y-%m-%d')æ—¥æ•ˆæœ:æœˆæ•ˆæœ:","categories":[{"name":"MySQLæ•°æ®åº“ç³»åˆ—","slug":"MySQLæ•°æ®åº“ç³»åˆ—","permalink":"http://yoursite.com/categories/MySQLæ•°æ®åº“ç³»åˆ—/"}],"tags":[{"name":"SQLå‡½æ•°","slug":"SQLå‡½æ•°","permalink":"http://yoursite.com/tags/SQLå‡½æ•°/"}],"author":"å¢å›½å³¥"},{"title":"xmlæ–‡ä»¶æ³¨é‡Šæ³¨æ„äº‹é¡¹","slug":"xmlæ–‡ä»¶æ³¨é‡Šæ³¨æ„äº‹é¡¹","date":"2019-06-06T05:43:00.000Z","updated":"2019-06-06T05:50:58.307Z","comments":true,"path":"2019/06/06/xmlæ–‡ä»¶æ³¨é‡Šæ³¨æ„äº‹é¡¹/","link":"","permalink":"http://yoursite.com/2019/06/06/xmlæ–‡ä»¶æ³¨é‡Šæ³¨æ„äº‹é¡¹/","excerpt":"è®°å½•ä¸€ä¸ªè°ƒè¯•ä¸­å¶ç„¶ç¢°åˆ°çš„é—®é¢˜~!åœ¨mapper.xmlæ–‡ä»¶ä¸­æ³¨é‡Šè¯­å¥å¿…é¡»ä½¿ç”¨&lt;!-- --&gt;","text":"è®°å½•ä¸€ä¸ªè°ƒè¯•ä¸­å¶ç„¶ç¢°åˆ°çš„é—®é¢˜~!åœ¨mapper.xmlæ–‡ä»¶ä¸­æ³¨é‡Šè¯­å¥å¿…é¡»ä½¿ç”¨&lt;!-- --&gt;åœ¨ä¸€æ¬¡è°ƒè¯•ä¸­ç›´æ¥åœ¨mapper.xmlé¡ºæ‰‹ä½¿ç”¨CTRL + /äº†å¿«æ·é”®æ³¨é‡Š:#ç¬¦å·ç„¶è€Œé‚£ä¸€è¡Œä»£ç ä¹Ÿæ˜¯å˜ç°äº†ä¹Ÿå°±æ²¡ç•™æ„åœ¨è®¿é—®çš„æ—¶å€™ç›´æ¥æŠ¥é”™äº†ä¹‹åæ¢æˆ&lt;!-- --&gt;å³å¯","categories":[{"name":"BUGç³»åˆ—","slug":"BUGç³»åˆ—","permalink":"http://yoursite.com/categories/BUGç³»åˆ—/"}],"tags":[{"name":"Mybatis","slug":"Mybatis","permalink":"http://yoursite.com/tags/Mybatis/"}],"author":"å¢å›½å³¥"},{"title":"Sourcetree æ›´æ–°gitè´¦å·å¯†ç ","slug":"sourectreeä½¿ç”¨","date":"2019-05-31T15:02:00.000Z","updated":"2019-05-31T15:25:27.546Z","comments":true,"path":"2019/05/31/sourectreeä½¿ç”¨/","link":"","permalink":"http://yoursite.com/2019/05/31/sourectreeä½¿ç”¨/","excerpt":"Sourcetreeè®°å½•~!","text":"Sourcetreeè®°å½•~!æ›´æ–°gitå¯†ç ä½¿ç”¨sourcetreeæ—¶ç™»å½•gitè´¦å·,gitè´¦å·ä¿®æ”¹äº†å¯†ç åsourcetreeåœ¨æäº¤/æ‹‰å–ä»£ç æ—¶åªä¼šæŠ¥é”™,å¹¶ä¸ä¼šå¼¹å‡ºgitç™»å½•çª—å£è®©ç”¨æˆ·é‡æ–°ç™»å½•.è§£å†³æ–¹æ³•: windowsè¿›å…¥ä»¥ä¸‹ç›®å½•,åˆ é™¤passwdæ–‡ä»¶1C:\\Users\\USERNAME\\AppData\\Local\\Atlassian\\SourceTreeåˆ é™¤æ–‡ä»¶å,å†æ¬¡æ‹‰å–/æäº¤ä»£ç å°±ä¼šå¼¹å‡ºgitç™»å½•çª—å£ä¿®æ”¹gitç™»å½•åç§°sourcetreeé‡æ–°ç™»å½•gitæ—¶æ— æ³•ä¿®æ”¹ç”¨æˆ·åç§°è§£å†³æ–¹æ³•: windowsè¿›å…¥ä¸Šé¢ç›®å½•,ä¿®æ”¹userhostsæ–‡ä»¶å¯¹åº”çš„ç™»å½•åç§°å³å¯","categories":[{"name":"å·¥å…·ä½¿ç”¨","slug":"å·¥å…·ä½¿ç”¨","permalink":"http://yoursite.com/categories/å·¥å…·ä½¿ç”¨/"}],"tags":[{"name":"git","slug":"git","permalink":"http://yoursite.com/tags/git/"}],"author":"å¢å›½å³¥"},{"title":"ZKåˆ†å¸ƒå¼é”","slug":"ZKåˆ†å¸ƒå¼é”","date":"2019-05-17T02:13:00.000Z","updated":"2019-05-17T02:37:05.068Z","comments":true,"path":"2019/05/17/ZKåˆ†å¸ƒå¼é”/","link":"","permalink":"http://yoursite.com/2019/05/17/ZKåˆ†å¸ƒå¼é”/","excerpt":"åªåšè®°å½•","text":"åªåšè®°å½•ä»‹ç»ä½¿ç”¨curatorå®¢æˆ·ç«¯æ“ä½œzookeeperå¼•å…¥ä¾èµ–123456789&lt;!-- ç‰ˆæœ¬å· --&gt;&lt;curator.version&gt;4.0.0&lt;/curator.version&gt;&lt;!-- ZKå®¢æˆ·ç«¯:curator --&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.curator&lt;/groupId&gt; &lt;artifactId&gt;curator-recipes&lt;/artifactId&gt; &lt;version&gt;$&#123;curator.version&#125;&lt;/version&gt;&lt;/dependency&gt;zookeeperç›¸å…³ä¾èµ–1234567891011121314&lt;!-- ç‰ˆæœ¬å· --&gt;&lt;zookeeper.version&gt;3.4.10&lt;/zookeeper.version&gt;&lt;zkclient.version&gt;0.10&lt;/zkclient.version&gt;&lt;dependency&gt; &lt;groupId&gt;com.101tec&lt;/groupId&gt; &lt;artifactId&gt;zkclient&lt;/artifactId&gt; &lt;version&gt;$&#123;zkclient.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;version&gt;$&#123;zookeeper.version&#125;&lt;/version&gt;&lt;/dependency&gt;ä»£ç å®ç°1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768/** * @author LuGuoZheng * @date 2019/5/15 13:33 * @Version 3.0 * @description */public class ZKLock &#123; /** * zkå®¢æˆ·ç«¯ */ public static CuratorFramework client = null; public InterProcessMutex mutex = null; /** * åˆå§‹åŒ–zkå®¢æˆ·ç«¯ */ static &#123; System.out.println(\"å¼€å§‹åˆå§‹åŒ–zkå®¢æˆ·ç«¯\"); // é‡è¯•ç­–ç•¥:é‡è¯•3æ¬¡,æ¯æ¬¡é‡è¯•é—´éš”1s RetryPolicy retryPolicy = new ExponentialBackoffRetry(1000, 3); client = CuratorFrameworkFactory.builder() .connectString(\"139.159.253.188:2181\")// zkåœ°å€ .sessionTimeoutMs(15000) // ä¼šè¯è¶…æ—¶æ—¶é—´ .connectionTimeoutMs(30000) // è¿æ¥è¶…æ—¶æ—¶é—´ .retryPolicy(retryPolicy) // é‡è¯•ç­–ç•¥ .namespace(\"YL_LGZ\") // åç§° .build(); // å¯åŠ¨zkå®¢æˆ·ç«¯è¿æ¥zk client.start(); &#125; /** * * @param code èŠ‚ç‚¹åç§° */ public void init(String code) &#123; System.out.println(\"åˆ›å»ºèŠ‚ç‚¹å¯¹è±¡\"); mutex = new InterProcessMutex(client, code); &#125; /** * åŠ é”:äº’æ–¥é” */ public void lock()&#123; try &#123; mutex.acquire(); &#125; catch (Exception e) &#123; e.printStackTrace(); System.out.println(\"æ·é”å¤±è´¥\"); &#125; &#125; /** * é‡Šæ”¾é” */ public void unLock() &#123; try &#123; mutex.release(); &#125; catch (Exception e) &#123; e.printStackTrace(); System.out.println(\"é‡Šæ”¾é”å¤±è´¥\"); &#125; &#125;&#125;æµ‹è¯•123456789101112131415161718192021222324/** * @author LuGuoZheng * @date 2019/5/15 15:06 * @Version 3.0 * @description */public class TestLock extends ZKLock &#123; public TestLock()&#123; super.init(\"/LGZ_TEST_CODE\"); &#125; @Test public void test() throws InterruptedException &#123; TestLock testLock = new TestLock(); try &#123; testLock.lock(); System.out.println(\"\"); Thread.sleep(5000); &#125; finally &#123; testLock.unLock(); System.out.println(\"é‡Šæ”¾æˆåŠŸ\"); &#125; &#125;&#125;","categories":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://yoursite.com/categories/ä¸­é—´ä»¶/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yoursite.com/tags/java/"},{"name":"åˆ†å¸ƒå¼é”","slug":"åˆ†å¸ƒå¼é”","permalink":"http://yoursite.com/tags/åˆ†å¸ƒå¼é”/"},{"name":"zookeeper","slug":"zookeeper","permalink":"http://yoursite.com/tags/zookeeper/"}],"author":"å¢å›½å³¥"},{"title":"zkå‘½ä»¤","slug":"zkå‘½ä»¤","date":"2019-05-15T08:02:00.000Z","updated":"2019-06-18T08:15:11.745Z","comments":true,"path":"2019/05/15/zkå‘½ä»¤/","link":"","permalink":"http://yoursite.com/2019/05/15/zkå‘½ä»¤/","excerpt":"zkæ“ä½œå‘½ä»¤","text":"zkæ“ä½œå‘½ä»¤å¯åŠ¨zk1./zkServer.sh startè¿æ¥å®¢æˆ·ç«¯1[root@ecs-e339-0002 bin]# ./zkCli.shlsæŸ¥çœ‹å‘½ä»¤1[zk: localhost:2181(CONNECTED) 2] ls /","categories":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://yoursite.com/categories/ä¸­é—´ä»¶/"}],"tags":[{"name":"zookeeper","slug":"zookeeper","permalink":"http://yoursite.com/tags/zookeeper/"}],"author":"å¢å›½å³¥"},{"title":"Shellè„šæœ¬","slug":"Shellè„šæœ¬","date":"2019-05-13T08:40:00.000Z","updated":"2019-05-13T08:47:44.037Z","comments":true,"path":"2019/05/13/Shellè„šæœ¬/","link":"","permalink":"http://yoursite.com/2019/05/13/Shellè„šæœ¬/","excerpt":"æ”¶è—å¸¸ç”¨çš„shellè„šæœ¬","text":"æ”¶è—å¸¸ç”¨çš„shellè„šæœ¬é‡å¯javaé¡¹ç›®test.sh (ç»“æŸè¿›ç¨‹)12345678910#!/bin/bashecho \"Stopping SpringBoot Application for CMP\"pid=`ps -ef | grep $1* | grep -v grep | awk '&#123;print $2&#125;'`if [ -n \"$pid\" ]then kill -9 $pidecho 'kill process'else echo \"no pid\"fitt.sh(æ£€æŸ¥é¡¹ç›®æ˜¯å¦å¯åŠ¨å®Œæ¯•)12345678910111213141516171819#!/bin/bashecho \"start script ................\"file=$1while [ -f $file ]do echo \"find log .........\" result=`grep \"å¯åŠ¨æˆåŠŸ\" $file` if [[ \"$result\" != \"\" ]] then echo \"springboot start .........\" break else echo \"running .......\" sleep 1s fidoneecho \"springboot Started...........\"run.sh(ä¸»shellè„šæœ¬)1234567891011121314151617181920212223#!/bin/bashsource /etc/profile#ç‰ˆæœ¬ä¿¡æ¯jarversion='-0.0.1-SNAPSHOT.jar'#æ—¥å¿—è·¯å¾„logpath='/pro/test/home/yanfa/'runjar()&#123; sh test.sh $1 nohup java -jar $4 $1$jarversion &gt; $logpath$2 &amp; 2&gt;&amp;1 &amp; sh tt.sh $logpath$2 echo $3&#125;runjar 'ylcloud-item-service' 'nohup_item.out' 'å•†å“æ¨¡å—å¯åŠ¨å®Œæˆ' '-Xms10m -Xmx200m'echo 'é¡¹ç›®å¯åŠ¨æˆåŠŸ'","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"shell","slug":"shell","permalink":"http://yoursite.com/tags/shell/"}],"author":"å¢å›½å³¥"},{"title":"gitå‘½ä»¤","slug":"gitå‘½ä»¤-1","date":"2019-05-13T08:33:00.000Z","updated":"2019-05-22T05:05:22.291Z","comments":true,"path":"2019/05/13/gitå‘½ä»¤-1/","link":"","permalink":"http://yoursite.com/2019/05/13/gitå‘½ä»¤-1/","excerpt":"è®°å½•å¸¸ç”¨çš„gitå‘½ä»¤","text":"è®°å½•å¸¸ç”¨çš„gitå‘½ä»¤åˆ é™¤å·²å…³è”çš„è¿œç¨‹ä»“åº“1git remote rm originæ¨é€åˆ°è¿œç¨‹ä»“åº“1234git pull origin master// å¼ºè¡Œæ¨é€git pull origin master -f","categories":[],"tags":[{"name":"git","slug":"git","permalink":"http://yoursite.com/tags/git/"}],"author":"å¢å›½å³¥"},{"title":"è®¾è®¡æ¨¡å¼ä¹‹åŠ¨æ€ä»£ç†æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼ä¹‹åŠ¨æ€ä»£ç†æ¨¡å¼","date":"2019-05-13T07:29:00.000Z","updated":"2019-05-13T08:26:17.198Z","comments":true,"path":"2019/05/13/è®¾è®¡æ¨¡å¼ä¹‹åŠ¨æ€ä»£ç†æ¨¡å¼/","link":"","permalink":"http://yoursite.com/2019/05/13/è®¾è®¡æ¨¡å¼ä¹‹åŠ¨æ€ä»£ç†æ¨¡å¼/","excerpt":"åŠ¨æ€ä»£ç†ç±»æ˜¯åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ç”± JVM é€šè¿‡åå°„ç­‰æœºåˆ¶åŠ¨æ€çš„ç”Ÿæˆçš„ï¼Œæ‰€ä»¥ä¸å­˜åœ¨ä»£ç†ç±»çš„å­—èŠ‚ç æ–‡ä»¶ï¼Œä»£ç†å¯¹è±¡å’ŒçœŸå®å¯¹è±¡çš„å…³ç³»æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶æœŸæ‰ç¡®å®šçš„ã€‚","text":"åŠ¨æ€ä»£ç†ç±»æ˜¯åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ç”± JVM é€šè¿‡åå°„ç­‰æœºåˆ¶åŠ¨æ€çš„ç”Ÿæˆçš„ï¼Œæ‰€ä»¥ä¸å­˜åœ¨ä»£ç†ç±»çš„å­—èŠ‚ç æ–‡ä»¶ï¼Œä»£ç†å¯¹è±¡å’ŒçœŸå®å¯¹è±¡çš„å…³ç³»æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶æœŸæ‰ç¡®å®šçš„ã€‚åŠ¨æ€ä»£ç†ç±»æ˜¯åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ç”± JVM é€šè¿‡åå°„ç­‰æœºåˆ¶åŠ¨æ€çš„ç”Ÿæˆçš„ï¼Œæ‰€ä»¥ä¸å­˜åœ¨ä»£ç†ç±»çš„å­—èŠ‚ç æ–‡ä»¶ï¼Œä»£ç†å¯¹è±¡å’ŒçœŸå®å¯¹è±¡çš„å…³ç³»æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶æœŸæ‰ç¡®å®šçš„ã€‚å¦‚ä½•åŠ¨æ€çš„åˆ›å»ºä¸€ä»½å­—èŠ‚ç ï¼šç”±äº JVM é€šè¿‡å­—èŠ‚ç çš„äºŒè¿›åˆ¶ä¿¡æ¯åŠ è½½ç±»çš„ï¼Œå¦‚æœæˆ‘ä»¬åœ¨è¿è¡ŒæœŸç³»ç»Ÿä¸­ï¼Œéµå¾ª Java ç¼–è¯‘ç³»ç»Ÿç»„ç»‡ .class æ–‡ä»¶çš„æ ¼å¼å’Œç»“æ„ï¼Œç”Ÿæˆç›¸åº”çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œç„¶åå†æŠŠè¿™ä¸ªäºŒè¿›åˆ¶æ•°æ®åŠ è½½è½¬æ¢æˆå¯¹åº”çš„ç±»ã€‚å¦‚æ­¤ï¼Œå°±å®Œæˆäº†åœ¨ä»£ç ä¸­åŠ¨æ€åˆ›å»ºä¸€ä¸ªç±»çš„èƒ½åŠ›äº†ã€‚ç›¸å…³èµ„æ–™InvocationHandler ç±»InvocationHandleræ˜¯ç”±ä»£ç†å®ä¾‹çš„è°ƒç”¨å¤„ç†ç¨‹åºå®ç°çš„æ¥å£ ã€‚æ¯ä¸ªä»£ç†å®ä¾‹éƒ½æœ‰ä¸€ä¸ªå…³è”çš„è°ƒç”¨å¤„ç†ç¨‹åºã€‚ å½“åœ¨ä»£ç†å®ä¾‹ä¸Šè°ƒç”¨æ–¹æ³•æ—¶ï¼Œæ–¹æ³•è°ƒç”¨å°†è¢«ç¼–ç å¹¶åˆ†æ´¾åˆ°å…¶è°ƒç”¨å¤„ç†ç¨‹åºçš„invokeæ–¹æ³•ã€‚1234567ä¸»è¦æ–¹æ³•ï¼špublic Object invoke(Object proxy, Method method, Object[] args) æ–¹æ³•èŒè´£ï¼šè´Ÿè´£é›†ä¸­å¤„ç†åŠ¨æ€ä»£ç†ç±»ä¸Šçš„æ‰€æœ‰æ–¹æ³•è°ƒç”¨ å‚æ•°ï¼š proxy ï¼šç”Ÿæˆçš„ä»£ç†å¯¹è±¡ methodï¼šå½“å‰è°ƒç”¨çš„çœŸå®æ–¹æ³•å¯¹è±¡ args ï¼šå½“å‰è°ƒç”¨æ–¹æ³•çš„å®å‚ è¿”å›ï¼šçœŸå®æ–¹æ³•çš„è¿”å›ç»“æœProxy ç±»Proxyæä¾›äº†åˆ›å»ºåŠ¨æ€ä»£ç†ç±»å’Œå®ä¾‹çš„é™æ€æ–¹æ³•ï¼Œå®ƒä¹Ÿæ˜¯ç”±è¿™äº›æ–¹æ³•åˆ›å»ºçš„æ‰€æœ‰åŠ¨æ€ä»£ç†ç±»çš„è¶…ç±»ã€‚1234567ä¸»è¦æ–¹æ³•ï¼špublic static Object newProxyInstance(ClassLoader loader, Class&lt;?&gt;[] interfaces,InvocationHandler hanlder) æ–¹æ³•èŒè´£ï¼šä¸ºæŒ‡å®šç±»åŠ è½½å™¨ã€ä¸€ç»„æ¥å£åŠè°ƒç”¨å¤„ç†å™¨ç”ŸæˆåŠ¨æ€ä»£ç†ç±»å®ä¾‹ å‚æ•°: loader ï¼šç±»åŠ è½½å™¨ï¼Œä¸€èˆ¬ä¼ é€’çœŸå®å¯¹è±¡çš„ç±»åŠ è½½å™¨ interfacesï¼šä»£ç†ç±»éœ€è¦å®ç°çš„æ¥å£ hanlderï¼šä»£ç†å¯¹è±¡å¦‚ä½•åšå¢å¼º: è¿”å›ï¼šåˆ›å»ºçš„ä»£ç†å¯¹è±¡é™æ€æ–¹æ³•static ObjectnewProxyInstance(ClassLoader loader, ç±»&lt;?&gt;[] interfaces, InvocationHandler h) è¿”å›æŒ‡å®šæ¥å£çš„ä»£ç†ç±»çš„å®ä¾‹ï¼Œè¯¥æ¥å£å°†æ–¹æ³•è°ƒç”¨åˆ†æ´¾ç»™æŒ‡å®šçš„è°ƒç”¨å¤„ç†ç¨‹åºã€‚å®ç°åŠ¨æ€ä»£ç†æ–¹å¼ é’ˆå¯¹æœ‰æ¥å£ï¼šä½¿ç”¨ JDK åŠ¨æ€ä»£ç†ï¼› é’ˆå¯¹æ— æ¥å£ï¼šä½¿ç”¨ CGLIB æˆ– Javassist ç»„ä»¶ã€‚è‹¥ä½¿ç”¨ JDK åŠ¨æ€ä»£ç†ç”Ÿæˆä»£ç†ç±»,çœŸå®ç±»å¿…é¡»å®ç°ä¸€ä¸ªæ¥å£ä»£ç å®ç°(JDKåŠ¨æ€ä»£ç†)ä»£ç†æ¥å£123456789101112131415/** * @author LuGuoZheng * @date 2019/5/9 9:42 * @Version 3.0 * @description ä»£ç†æ¥å£ */public interface EmployeeService &#123; /** * ç­¾è®¢åˆåŒ * @param name å§“å * @param contract åˆåŒ */ void save(String name, String contract);&#125;çœŸå®å¯¹è±¡12345678910111213141516171819/** * @author LuGuoZheng * @date 2019/5/9 10:31 * @Version 3.0 * @description çœŸå®å¯¹è±¡ */public class EmployeeServiceImpl implements EmployeeService &#123; /** * ç­¾è®¢åˆåŒ * * @param name å§“å * @param contract åˆåŒ */ @Override public void save(String name, String contract) &#123; System.out.println(\"æˆ‘æ˜¯çœŸå®å¯¹è±¡,ä¸\" + name + \"ç­¾è®¢äº†\" + contract); &#125;&#125;äº‹åŠ¡1234567891011121314151617181920/** * @author LuGuoZheng * @date 2019/5/9 11:17 * @Version 3.0 * @description äº‹åŠ¡ */public class MyTransactionManger &#123; public void begin()&#123; System.out.println(\"å¼€å¯äº‹åŠ¡\"); &#125; public void rollback()&#123; System.out.println(\"å›æ»šäº‹åŠ¡\"); &#125; public void commit()&#123; System.out.println(\"æäº¤äº‹åŠ¡\"); &#125;&#125;å¤„ç†å™¨123456789101112131415161718192021222324252627282930313233343536373839404142434445/** * @author LuGuoZheng * @date 2019/5/11 16:45 * @Version 3.0 * @description */public class TransactionManagerHandler implements InvocationHandler &#123; // çœŸå®å¯¹è±¡ private Object target; // äº‹åŠ¡å¯¹è±¡ private MyTransactionManger tx; public void setTarget(Object target) &#123; this.target = target; &#125; public void setMyTransactionManger(MyTransactionManger tx) &#123; this.tx = tx; &#125; // è·å–ä»£ç†å¯¹è±¡ public &lt;T&gt; T getProxy()&#123; return (T) Proxy.newProxyInstance( target.getClass().getClassLoader(), target.getClass().getInterfaces(), this); &#125; @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; Object result = null; tx.begin(); try &#123; result = method.invoke(target,args); tx.commit(); &#125; catch (Exception e) &#123; e.printStackTrace(); tx.rollback(); &#125; return result; &#125;&#125;æµ‹è¯•12345678910111213141516171819202122232425/** * @author LuGuoZheng * @date 2019/5/11 16:58 * @Version 3.0 * @description */public class Test &#123; public static void main(String[] args) &#123; MyTransactionManger tx = new MyTransactionManger(); EmployeeService employeeService = new EmployeeServiceImpl(); TransactionManagerHandler handler = new TransactionManagerHandler(); handler.setMyTransactionManger(tx); handler.setTarget(employeeService); System.out.println(\"çœŸå®ç±»:\" + employeeService); EmployeeService proxy = handler.getProxy(); System.out.println(\"ä»£ç†ç±»:\" + proxy); proxy.save(\"å¼ ä¸‰\",\"10å¹´é•¿æœŸåˆåŒ\"); &#125;&#125;ç»“æœ123å¼€å¯äº‹åŠ¡æˆ‘æ˜¯çœŸå®å¯¹è±¡,ä¸å¼ ä¸‰ç­¾è®¢äº†10å¹´é•¿æœŸåˆåŒæäº¤äº‹åŠ¡è°ƒç”¨æµç¨‹JDKåŠ¨æ€ä»£ç†æ€»ç»“Java åŠ¨æ€ä»£ç†æ˜¯ä½¿ç”¨ java.lang.reflect åŒ…ä¸­çš„ Proxy ç±»ä¸ InvocationHandler æ¥å£è¿™ä¸¤ä¸ªæ¥å®Œæˆçš„ã€‚è¦ä½¿ç”¨ JDK åŠ¨æ€ä»£ç†ï¼Œå§”æ‰˜ç±»å¿…é¡»å®ç°æ¥å£ã€‚JDK åŠ¨æ€ä»£ç†å°†ä¼šæ‹¦æˆªæ‰€æœ‰ pubic çš„æ–¹æ³•ï¼ˆå› ä¸ºåªèƒ½è°ƒç”¨æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•ï¼‰ï¼Œè¿™æ ·å³ä½¿åœ¨æ¥å£ä¸­å¢åŠ äº†æ–°çš„æ–¹æ³•ï¼Œä¸ç”¨ä¿®æ”¹ä»£ç ä¹Ÿä¼šè¢«æ‹¦æˆªã€‚åŠ¨æ€ä»£ç†çš„æœ€å°å•ä½æ˜¯ç±»ï¼ˆç±»ä¸­æŸäº›æ–¹æ³•éƒ½ä¼šè¢«å¤„ç†ï¼‰ï¼Œå¦‚æœåªæƒ³æ‹¦æˆªä¸€éƒ¨åˆ†æ–¹æ³•ï¼Œå¯ä»¥åœ¨ invoke æ–¹æ³•ä¸­å¯¹è¦æ‰§è¡Œçš„æ–¹æ³•åè¿›è¡Œåˆ¤æ–­ã€‚å¯¹æ¥å£åˆ›å»ºä»£ç†ä¼˜äºå¯¹ç±»åˆ›å»ºä»£ç†ï¼Œå› ä¸ºä¼šäº§ç”Ÿæ›´åŠ æ¾è€¦åˆçš„ç³»ç»Ÿï¼Œä¹Ÿæ›´ç¬¦åˆé¢å‘æ¥å£ç¼–ç¨‹è§„èŒƒã€‚è‹¥å§”æ‰˜ç±»å®ç°äº†æ¥å£ï¼Œä¼˜å…ˆé€‰ç”¨ JDK åŠ¨æ€ä»£ç†ã€‚è‹¥å§”æ‰˜ç±»æ²¡æœ‰å®ç°ä»»ä½•æ¥å£ï¼Œä½¿ç”¨ Javassit å’Œ CGLIB åŠ¨æ€ä»£ç†ã€‚","categories":[{"name":"è®¾è®¡æ¨¡å¼ç³»åˆ—","slug":"è®¾è®¡æ¨¡å¼ç³»åˆ—","permalink":"http://yoursite.com/categories/è®¾è®¡æ¨¡å¼ç³»åˆ—/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yoursite.com/tags/java/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://yoursite.com/tags/è®¾è®¡æ¨¡å¼/"}],"author":"å¢å›½å³¥"},{"title":"è®¾è®¡æ¨¡å¼ä¹‹é™æ€ä»£ç†æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼ä¹‹é™æ€ä»£ç†æ¨¡å¼","date":"2019-05-09T03:40:00.000Z","updated":"2019-05-09T05:56:43.356Z","comments":true,"path":"2019/05/09/è®¾è®¡æ¨¡å¼ä¹‹é™æ€ä»£ç†æ¨¡å¼/","link":"","permalink":"http://yoursite.com/2019/05/09/è®¾è®¡æ¨¡å¼ä¹‹é™æ€ä»£ç†æ¨¡å¼/","excerpt":"å®¢æˆ·ç«¯ç›´æ¥ä½¿ç”¨çš„éƒ½æ˜¯ä»£ç†å¯¹è±¡ï¼Œä¸çŸ¥é“çœŸå®å¯¹è±¡æ˜¯è°ï¼Œæ­¤æ—¶ä»£ç†å¯¹è±¡å¯ä»¥åœ¨å®¢æˆ·ç«¯å’ŒçœŸå®å¯¹è±¡ä¹‹é—´èµ·åˆ°ä¸­ä»‹çš„ä½œç”¨ã€‚1.1ã€ä»£ç†å¯¹è±¡å®Œå…¨åŒ…å«çœŸå®å¯¹è±¡ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨çš„éƒ½æ˜¯ä»£ç†å¯¹è±¡çš„æ–¹æ³•ï¼Œå’ŒçœŸå®å¯¹è±¡æ²¡æœ‰ç›´æ¥å…³ç³»ï¼›1.2ã€ä»£ç†æ¨¡å¼çš„èŒè´£ï¼šæŠŠä¸æ˜¯çœŸå®å¯¹è±¡è¯¥åšçš„äº‹æƒ…ä»çœŸå®å¯¹è±¡ä¸Šæ’‡å¼€â€”â€”èŒè´£åˆ†ç¦»ã€‚","text":"å®¢æˆ·ç«¯ç›´æ¥ä½¿ç”¨çš„éƒ½æ˜¯ä»£ç†å¯¹è±¡ï¼Œä¸çŸ¥é“çœŸå®å¯¹è±¡æ˜¯è°ï¼Œæ­¤æ—¶ä»£ç†å¯¹è±¡å¯ä»¥åœ¨å®¢æˆ·ç«¯å’ŒçœŸå®å¯¹è±¡ä¹‹é—´èµ·åˆ°ä¸­ä»‹çš„ä½œç”¨ã€‚1.1ã€ä»£ç†å¯¹è±¡å®Œå…¨åŒ…å«çœŸå®å¯¹è±¡ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨çš„éƒ½æ˜¯ä»£ç†å¯¹è±¡çš„æ–¹æ³•ï¼Œå’ŒçœŸå®å¯¹è±¡æ²¡æœ‰ç›´æ¥å…³ç³»ï¼›1.2ã€ä»£ç†æ¨¡å¼çš„èŒè´£ï¼šæŠŠä¸æ˜¯çœŸå®å¯¹è±¡è¯¥åšçš„äº‹æƒ…ä»çœŸå®å¯¹è±¡ä¸Šæ’‡å¼€â€”â€”èŒè´£åˆ†ç¦»ã€‚ä»£ç†æ¨¡å¼å®¢æˆ·ç«¯ç›´æ¥ä½¿ç”¨çš„éƒ½æ˜¯ä»£ç†å¯¹è±¡ï¼Œä¸çŸ¥é“çœŸå®å¯¹è±¡æ˜¯è°ï¼Œæ­¤æ—¶ä»£ç†å¯¹è±¡å¯ä»¥åœ¨å®¢æˆ·ç«¯å’ŒçœŸå®å¯¹è±¡ä¹‹é—´èµ·åˆ°ä¸­ä»‹çš„ä½œç”¨ã€‚1.1ã€ä»£ç†å¯¹è±¡å®Œå…¨åŒ…å«çœŸå®å¯¹è±¡ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨çš„éƒ½æ˜¯ä»£ç†å¯¹è±¡çš„æ–¹æ³•ï¼Œå’ŒçœŸå®å¯¹è±¡æ²¡æœ‰ç›´æ¥å…³ç³»ï¼›1.2ã€ä»£ç†æ¨¡å¼çš„èŒè´£ï¼šæŠŠä¸æ˜¯çœŸå®å¯¹è±¡è¯¥åšçš„äº‹æƒ…ä»çœŸå®å¯¹è±¡ä¸Šæ’‡å¼€â€”â€”èŒè´£åˆ†ç¦»ã€‚1. é™æ€ä»£ç†åœ¨ç¨‹åºè¿è¡Œå‰å°±å·²ç»å­˜åœ¨ä»£ç†ç±»çš„å­—èŠ‚ç æ–‡ä»¶,ä»£ç†å¯¹è±¡å’ŒçœŸå®å¯¹è±¡çš„å…³ç³»åœ¨è¿è¡Œå‰å°±ç¡®å®šäº†.2. ä»£ç å®ç°ä»£ç†æ¥å£123456789101112131415/** * @author LuGuoZheng * @date 2019/5/9 9:42 * @Version 3.0 * @description ä»£ç†æ¥å£ */public interface EmployeeService &#123; /** * ç­¾è®¢åˆåŒ * @param name å§“å * @param contract åˆåŒ */ void save(String name, String contract);&#125;çœŸå®å¯¹è±¡12345678910111213141516171819/** * @author LuGuoZheng * @date 2019/5/9 10:31 * @Version 3.0 * @description çœŸå®å¯¹è±¡ */public class EmployeeServiceImpl implements EmployeeService &#123; /** * ç­¾è®¢åˆåŒ * * @param name å§“å * @param contract åˆåŒ */ @Override public void save(String name, String contract) &#123; System.out.println(\"æˆ‘æ˜¯çœŸå®å¯¹è±¡,ä¸\" + name + \"ç­¾è®¢äº†\" + contract); &#125;&#125;ä»£ç†å¯¹è±¡1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/** * @author LuGuoZheng * @date 2019/5/9 10:34 * @Version 3.0 * @description ä»£ç†å¯¹è±¡ */public class EmployeeProxyImpl implements EmployeeService &#123; /** * çœŸå®å¯¹è±¡ */ private EmployeeService target; private MyTransactionManger myTransactionManger; public void setTarget(EmployeeService target)&#123; this.target = target; &#125; public void setMyTransactionManger(MyTransactionManger myTransactionManger)&#123; this.myTransactionManger = myTransactionManger; &#125; /** * ç­¾è®¢åˆåŒ * * @param name å§“å * @param contract åˆåŒ */ @Override public void save(String name, String contract) &#123; myTransactionManger.begin(); try &#123; // çœŸå®å¯¹è±¡åªè´Ÿè´£ç­¾è®¢åˆåŒ target.save(name,contract); // TODO ç­¾è®¢åˆåŒåå¤„ç†ä¸€ç³»åˆ—å…¶ä»–é—®é¢˜ myTransactionManger.commit(); &#125; catch (Exception e) &#123; myTransactionManger.rollback(); e.printStackTrace(); &#125; &#125;&#125;äº‹åŠ¡1234567891011121314151617181920/** * @author LuGuoZheng * @date 2019/5/9 11:17 * @Version 3.0 * @description äº‹åŠ¡ */public class MyTransactionManger &#123; public void begin()&#123; System.out.println(\"å¼€å¯äº‹åŠ¡\"); &#125; public void rollback()&#123; System.out.println(\"å›æ»šäº‹åŠ¡\"); &#125; public void commit()&#123; System.out.println(\"æäº¤äº‹åŠ¡\"); &#125;&#125;æµ‹è¯•123456789101112131415161718192021/** * @author LuGuoZheng * @date 2019/5/9 11:01 * @Version 3.0 * @description æµ‹è¯• * * */public class Test &#123; public static void main(String[] args) &#123; EmployeeServiceImpl employeeService = new EmployeeServiceImpl(); EmployeeProxyImpl employeeProxy = new EmployeeProxyImpl(); MyTransactionManger myTransactionManger = new MyTransactionManger(); employeeProxy.setMyTransactionManger(myTransactionManger); employeeProxy.setTarget(employeeService); employeeProxy.save(\" å¼ ä¸‰ \",\"10é•¿æœŸåˆåŒ~!\"); &#125;&#125;æµ‹è¯•ç»“æœ123å¼€å¯äº‹åŠ¡æˆ‘æ˜¯çœŸå®å¯¹è±¡,ä¸ å¼ ä¸‰ ç­¾è®¢äº†10é•¿æœŸåˆåŒ~!æäº¤äº‹åŠ¡3. é™æ€ä»£ç†ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ä¸šåŠ¡åªéœ€è¦å…³æ³¨ä¸šåŠ¡é€»è¾‘æœ¬èº«,ä¿è¯äº†ä¸šåŠ¡ç±»çš„é‡è¦æ€§.æŠŠçœŸå®å¯¹è±¡éšè—èµ·æ¥,ä¿æŠ¤çœŸå®å¯¹è±¡ç¼ºç‚¹ä»£ç†å¯¹è±¡çš„æŸä¸ªæ¥å£åªæœåŠ¡äºæŸä¸€ç§ç±»å‹çš„å¯¹è±¡,ä¹Ÿå°±æ˜¯ä¸ºæ¯ä¸ªçœŸå®ç±»åˆ›å»ºä¸€ä¸ªä»£ç†ç±».è‹¥éœ€è¦ä»£ç†çš„æ–¹æ³•å¾ˆå¤š,é‚£ä¹ˆå°±è¦ä¸ºæ¯ä¸€ç§æ–¹æ³•éƒ½è¿›è¡Œä»£ç†å¤„ç†.è‹¥æ¥å£å¢åŠ ä¸€ä¸ªæ–¹æ³•,é™¤äº†æ‰€æœ‰å®ç°ç±»éœ€è¦å®ç°è¿™ä¸ªæ–¹æ³•,ä»£ç†ç±»ä¹Ÿéœ€è¦å®ç°æ­¤æ–¹æ³•.","categories":[{"name":"è®¾è®¡æ¨¡å¼ç³»åˆ—","slug":"è®¾è®¡æ¨¡å¼ç³»åˆ—","permalink":"http://yoursite.com/categories/è®¾è®¡æ¨¡å¼ç³»åˆ—/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yoursite.com/tags/java/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://yoursite.com/tags/è®¾è®¡æ¨¡å¼/"}],"author":"å¢å›½å³¥"},{"title":"è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼","date":"2019-05-08T07:21:00.000Z","updated":"2019-05-08T07:51:53.819Z","comments":true,"path":"2019/05/08/è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼/","link":"","permalink":"http://yoursite.com/2019/05/08/è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼/","excerpt":"åœ¨å¯¹è±¡ä¹‹é—´å®šä¹‰äº†ä¸€å¯¹å¤šçš„ä¾èµ–ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ”¹å˜çŠ¶æ€ï¼Œä¾èµ–å®ƒçš„å¯¹è±¡ä¼šæ”¶åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°ã€‚","text":"åœ¨å¯¹è±¡ä¹‹é—´å®šä¹‰äº†ä¸€å¯¹å¤šçš„ä¾èµ–ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ”¹å˜çŠ¶æ€ï¼Œä¾èµ–å®ƒçš„å¯¹è±¡ä¼šæ”¶åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°ã€‚è§‚å¯Ÿè€…æ¨¡å¼çš„å®šä¹‰åœ¨å¯¹è±¡ä¹‹é—´å®šä¹‰äº†ä¸€å¯¹å¤šçš„ä¾èµ–ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ”¹å˜çŠ¶æ€ï¼Œä¾èµ–å®ƒçš„å¯¹è±¡ä¼šæ”¶åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°ã€‚MQçš„å‘å¸ƒè®¢é˜…æ¨¡å¼å…¶å®å°±æ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œå‘å¸ƒè€…å‘å¸ƒä¿¡æ¯ï¼Œè®¢é˜…è€…è·å–ä¿¡æ¯ï¼Œè®¢é˜…äº†å°±èƒ½æ”¶åˆ°ä¿¡æ¯ï¼Œæ²¡è®¢é˜…å°±æ”¶ä¸åˆ°ä¿¡æ¯ã€‚æ¨¡å¼æ¶µç›–çš„è§’è‰²æŠ½è±¡è¢«è§‚å¯Ÿè€…è§’è‰²ï¼šä¹Ÿå°±æ˜¯ä¸€ä¸ªæŠ½è±¡ä¸»é¢˜ï¼Œå®ƒæŠŠæ‰€æœ‰å¯¹è§‚å¯Ÿè€…å¯¹è±¡çš„å¼•ç”¨ä¿å­˜åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œæ¯ä¸ªä¸»é¢˜éƒ½å¯ä»¥æœ‰ä»»æ„æ•°é‡çš„è§‚å¯Ÿè€…ã€‚æŠ½è±¡ä¸»é¢˜æä¾›ä¸€ä¸ªæ¥å£ï¼Œå¯ä»¥å¢åŠ å’Œåˆ é™¤è§‚å¯Ÿè€…è§’è‰²ã€‚ä¸€èˆ¬ç”¨ä¸€ä¸ªæŠ½è±¡ç±»å’Œæ¥å£æ¥å®ç°ã€‚æŠ½è±¡è§‚å¯Ÿè€…è§’è‰²ï¼šä¸ºæ‰€æœ‰çš„å…·ä½“è§‚å¯Ÿè€…å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œåœ¨å¾—åˆ°ä¸»é¢˜é€šçŸ¥æ—¶æ›´æ–°è‡ªå·±ã€‚å…·ä½“è¢«è§‚å¯Ÿè€…è§’è‰²ï¼šä¹Ÿå°±æ˜¯ä¸€ä¸ªå…·ä½“çš„ä¸»é¢˜ï¼Œåœ¨é›†ä½“ä¸»é¢˜çš„å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶ï¼Œæ‰€æœ‰ç™»è®°è¿‡çš„è§‚å¯Ÿè€…å‘å‡ºé€šçŸ¥ã€‚å…·ä½“è§‚å¯Ÿè€…è§’è‰²ï¼šå®ç°æŠ½è±¡è§‚å¯Ÿè€…è§’è‰²æ‰€éœ€è¦çš„æ›´æ–°æ¥å£ï¼Œä¸€è¾¹ä½¿æœ¬èº«çš„çŠ¶æ€ä¸åˆ¶å›¾çš„çŠ¶æ€ç›¸åè°ƒã€‚ä»£ç å®ç°è¢«è§‚å¯Ÿè€…æ¥å£12345678910111213141516171819202122232425262728/** * @author LuGuoZheng * @date 2019/5/8 13:42 * @Version 3.0 * @description è¢«è§‚å¯Ÿè€…æ¥å£ */public interface Observerable &#123; /** * æ³¨å†Œè§‚å¯Ÿè€… * * @param observer è§‚å¯Ÿè€… */ void registerObServer(Observer observer); /** * ç§»é™¤è§‚å¯Ÿ * * @param observer è§‚å¯Ÿè€… */ void removeObServer(Observer observer); /** * é€šçŸ¥è§‚å¯Ÿè€… * @param message æ¶ˆæ¯ */ void notifyObServer(String message);&#125;è§‚å¯Ÿè€…æ¥å£12345678910111213141516/** * @author LuGuoZheng * @date 2019/5/8 13:44 * @Version 3.0 * @description */public interface Observer &#123; /** * å½“è¢«è§‚å¯Ÿè€…å‘å¸ƒæ¶ˆæ¯æ—¶,è°ƒç”¨è§‚å¯Ÿè€…çš„updateæ–¹æ³•,æ›´æ–°æ¶ˆæ¯ * * @param message æ¶ˆæ¯ */ void update(String message);&#125;è¢«è§‚å¯Ÿè€…12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152/** * @author LuGuoZheng * @date 2019/5/8 13:51 * @Version 3.0 * @description å…¬ä¼—å· */public class WechatServer implements Observerable &#123; /** * å¯„å­˜è®¢é˜…äº†è¯¥å…¬ä¼—å·çš„ç”¨æˆ·(è§‚å¯Ÿè€…) */ private List&lt;Observer&gt; observerList = new ArrayList&lt;&gt;(); /** * æ³¨å†Œè§‚å¯Ÿè€… * * @param observer è§‚å¯Ÿè€… */ @Override public void registerObServer(Observer observer) &#123; observerList.add(observer); System.out.println(\"[\" + ((User) observer).getName() + \"]\" + \"å…³æ³¨äº†å…¬ä¼—å·~!\"); &#125; /** * å–æ¶ˆè§‚å¯Ÿ * * @param observer è§‚å¯Ÿè€… */ @Override public void removeObServer(Observer observer) &#123; if (observer == null) &#123; return; &#125; boolean remove = observerList.remove(observer); if (remove) &#123; System.out.println(\"[\" + ((User) observer).getName() + \"]\" + \"å–æ¶ˆäº†å…³æ³¨~! (â•¯â€µâ–¡â€²)â•¯ï¸µâ”»â”â”»\"); &#125; &#125; /** * é€šçŸ¥è§‚å¯Ÿè€… * * @param message æ¶ˆæ¯ */ @Override public void notifyObServer(String message) &#123; for (Observer observer : observerList) &#123; observer.update(message); &#125; &#125;&#125;è§‚å¯Ÿè€…123456789101112131415161718192021222324/** * @author LuGuoZheng * @date 2019/5/8 13:56 * @Version 3.0 * @description è§‚å¯Ÿè€… */@Data@AllArgsConstructor@NoArgsConstructorpublic class User implements Observer &#123; private String name; /** * å½“è¢«è§‚å¯Ÿè€…å‘å¸ƒæ¶ˆæ¯æ—¶,è°ƒç”¨è§‚å¯Ÿè€…çš„updateæ–¹æ³•,æ›´æ–°æ¶ˆæ¯ * * @param message æ¶ˆæ¯ */ @Override public void update(String message) &#123; System.out.println(\"æˆ‘æ˜¯:\" + name + \",\" + message); &#125;&#125;æµ‹è¯•1234567891011121314151617181920212223242526272829303132/** * @author LuGuoZheng * @date 2019/5/8 14:24 * @Version 3.0 * @description */public class Test &#123; public static void main(String[] args) &#123; Observer u1 = new User(\"å¼ ä¸‰\"); Observer u2 = new User(\"æå››\"); Observer u3 = new User(\"ç‹äº”\"); Observerable wecahtService = new WechatServer(); // è§‚å¯Ÿ(è®¢é˜…)å…¬ä¼—å· wecahtService.registerObServer(u1); wecahtService.registerObServer(u2); wecahtService.registerObServer(u3); System.out.println(\"--------------------------------\"); // å‘å¸ƒæ¶ˆæ¯ wecahtService.notifyObServer(\"ç¬¬ä¸€æ³¢ç¦åˆ©\"); System.out.println(\"--------------------------------\"); // å–æ¶ˆå…³æ³¨ wecahtService.removeObServer(u1); System.out.println(\"--------------------------------\"); // å‘å¸ƒæ¶ˆæ¯ wecahtService.notifyObServer(\"è¿™æ˜¯ç¬¬äºŒæ³¢ç¦åˆ©\"); &#125;&#125;æµ‹è¯•ç»“æœ123456789101112[å¼ ä¸‰]å…³æ³¨äº†å…¬ä¼—å·~![æå››]å…³æ³¨äº†å…¬ä¼—å·~![ç‹äº”]å…³æ³¨äº†å…¬ä¼—å·~!--------------------------------æˆ‘æ˜¯:å¼ ä¸‰,ç¬¬ä¸€æ³¢ç¦åˆ©æˆ‘æ˜¯:æå››,ç¬¬ä¸€æ³¢ç¦åˆ©æˆ‘æ˜¯:ç‹äº”,ç¬¬ä¸€æ³¢ç¦åˆ©--------------------------------[å¼ ä¸‰]å–æ¶ˆäº†å…³æ³¨~! (â•¯â€µâ–¡â€²)â•¯ï¸µâ”»â”â”»--------------------------------æˆ‘æ˜¯:æå››,è¿™æ˜¯ç¬¬äºŒæ³¢ç¦åˆ©æˆ‘æ˜¯:ç‹äº”,è¿™æ˜¯ç¬¬äºŒæ³¢ç¦åˆ©å‚è€ƒ:JAVAè®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼","categories":[{"name":"è®¾è®¡æ¨¡å¼ç³»åˆ—","slug":"è®¾è®¡æ¨¡å¼ç³»åˆ—","permalink":"http://yoursite.com/categories/è®¾è®¡æ¨¡å¼ç³»åˆ—/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yoursite.com/tags/java/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://yoursite.com/tags/è®¾è®¡æ¨¡å¼/"}],"author":"å¢å›½å³¥"},{"title":"Linuxç›¸å…³å‘½ä»¤","slug":"Linuxç›¸å…³å‘½ä»¤","date":"2019-04-26T13:53:00.000Z","updated":"2019-06-12T07:20:15.851Z","comments":true,"path":"2019/04/26/Linuxç›¸å…³å‘½ä»¤/","link":"","permalink":"http://yoursite.com/2019/04/26/Linuxç›¸å…³å‘½ä»¤/","excerpt":"å¦‚é¢˜è®°å½•ä¸å¸¸ç”¨çš„Linuxå‘½ä»¤","text":"å¦‚é¢˜è®°å½•ä¸å¸¸ç”¨çš„Linuxå‘½ä»¤è¿è¡Œjavaé¡¹ç›®1nohup java -jar -Xms10m -Xmx200m ylcloud-item-service-0.0.1-SNAPSHOT.jar &gt; /pro/test/home/yanfa/nohup_item.out &amp; 2&gt;&amp;1 &amp;nohup: åå°å¯åŠ¨é¡¹ç›®-Xms10m -Xmx200m: jvmè™šæ‹Ÿæœºå‚æ•°æŸ¥çœ‹æŸç«¯å£å ç”¨çš„çº¿ç¨‹çš„pid1netstat -nlp |grep :4000æŸ¥çœ‹pidå ç”¨çš„ç«¯å£å·1netstat -nap | grep 32716äºŒ. é˜²ç«å¢™2.1 æŸ¥çœ‹æ‰€æœ‰æ‰“å¼€çš„ç«¯å£1firewall-cmd --zone=public --list-ports2.2 å¼€å¯ç«¯å£ï¼ˆâ€“permanentå‚æ•°ä¸ºæ°¸ä¹…ç”Ÿæ•ˆï¼Œä¸åŠ åˆ™é‡å¯åå¤±æ•ˆï¼‰1firewall-cmd --zone=public --add-port=ç«¯å£å·/tcp --permanent2.3 æ›´æ–°é˜²ç«å¢™è§„åˆ™ï¼š1firewall-cmd --reloadæŸ¥çœ‹å®‰è£…ç›®å½•1which gitæŸ¥çœ‹æ–‡ä»¶å¤§å°1du -sh *é‡å¯nginxåœ¨sbinç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤1./nginx -s reloadVIæ“ä½œVIæ“ä½œ:ç”¨çš„æ˜¯é”®ç›˜çš„å·¦è¾¹çš„æ•°å­—é”®é€å­—ç¬¦ç§»åŠ¨:è¡Œå†…è·³è½¬:å³è¾¹çš„æ•°å­—é”®0:è·³è½¬åˆ°è¡Œé¦–(ç¼–è¾‘æ¨¡å¼)$(Shift+4): è·³è½¬åˆ°è¡Œå°¾(ç¼–è¾‘æ¨¡å¼)^(Shift+6): è·³è½¬åˆ°è¡Œé¦–çš„ç¬¬ä¸€ä¸ªå­—æ¯ä½ç½®(ç¼–è¾‘æ¨¡å¼)è¡Œé—´è·³è½¬:(æœ«è¡Œæ¨¡å¼)gg: è·³è½¬åˆ°æ–‡ä»¶ç¬¬ä¸€è¡Œ(ç¼–è¾‘æ¨¡å¼)G(Shift+g): è·³åˆ°æ–‡ä»¶çš„æœ€åä¸€è¡Œ(ç¼–è¾‘æ¨¡å¼)ç›´æ¥è¾“å…¥è¡Œå·å°±å¯ä»¥è·³è½¬åˆ°å¯¹åº”è¡Œæ³¨æ„:å¯ä»¥å…ˆæŠŠè¡Œå·æ˜¾ç¤ºå‡ºæ¥:set numberåœ¨ç¼–è¾‘æ¨¡å¼ä¸‹:ctrl+f å‘ä¸‹ç¿»ä¸€é¡µ forwardctrl+b å‘ä¸Šç¿»ä¸€é¡µ backwarddd: åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œ (ç¼–è¾‘æ¨¡å¼)3dd:ä»å…‰æ ‡è¡Œå¼€å§‹åˆ é™¤3è¡Œ(ç¼–è¾‘æ¨¡å¼)â€”â€”1,4d åˆ é™¤ç¬¬ä¸€è¡Œåˆ°ç¬¬å››è¡Œ(æœ«è¡Œæ¨¡å¼)u æ’¤é”€ä¸Šä¸€ä¸ªæ“ä½œ(ç¼–è¾‘æ¨¡å¼)yy å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œ (ç¼–è¾‘æ¨¡å¼)2yy ä»å…‰æ ‡è¡Œå¼€å§‹å¤åˆ¶2è¡Œ(ç¼–è¾‘æ¨¡å¼)p: ç²˜è´´å‘½ä»¤æœ«è¡Œæ¨¡å¼:æ–‡ä»¶çš„æŸ¥æ‰¾/parttern ä»å‰å¾€åæŸ¥æ‰¾?parttern ä»åå¾€å‰æŸ¥æ‰¾n: ä¸‹ä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²N: ä¸Šä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²g:å…¨å±€æ›¿æ¢i:å¿½ç•¥å¤§å°å†™%s/f/F/giåˆ›å»ºæ–‡ä»¶vi æ–‡ä»¶åtouch æ–‡ä»¶ååˆ›å»ºç›®å½•mkdir ç›®å½•åmkdir -p ç›®å½•å1/ç›®å½•å2 åˆ›å»ºå±‚çº§ç›®å½• å¯ä»¥æ˜¯ç›¸å¯¹ç›®å½•,ä¹Ÿå¯ä»¥æ˜¯ç»å¯¹ç›®å½•rm æ–‡ä»¶årm -f æ–‡ä»¶årm -fr ç›®å½• åˆ é™¤ç›®å½•å¿…é¡»ä½¿ç”¨ -r é€’å½’åˆ é™¤æ‹·è´: cpæ‹·è´ç›®å½•çš„è¯è¦å¸¦ä¸Šå‚æ•°-rç§»åŠ¨: mv","categories":[{"name":"æœåŠ¡å™¨ç³»åˆ—","slug":"æœåŠ¡å™¨ç³»åˆ—","permalink":"http://yoursite.com/categories/æœåŠ¡å™¨ç³»åˆ—/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"}],"author":"å¢å›½å³¥"},{"title":"è®¾è®¡æ¨¡å¼ä¹‹ç­–ç•¥æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼ä¹‹ç­–ç•¥æ¨¡å¼","date":"2019-04-26T07:45:00.000Z","updated":"2019-04-26T08:03:13.451Z","comments":true,"path":"2019/04/26/è®¾è®¡æ¨¡å¼ä¹‹ç­–ç•¥æ¨¡å¼/","link":"","permalink":"http://yoursite.com/2019/04/26/è®¾è®¡æ¨¡å¼ä¹‹ç­–ç•¥æ¨¡å¼/","excerpt":"ç­–ç•¥æ¨¡å¼æ€æƒ³æ˜¯é’ˆå¯¹ä¸€ç»„ç®—æ³•ï¼Œå°†æ¯ä¸€ç§ç®—æ³•éƒ½å°è£…åˆ°å…·æœ‰å…±åŒæ¥å£çš„ç‹¬ç«‹çš„ç±»ä¸­ï¼Œä»è€Œæ˜¯å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢.ç­–ç•¥æ¨¡å¼çš„æœ€å¤§ç‰¹ç‚¹æ˜¯ä½¿å¾—ç®—æ³•å¯ä»¥åœ¨ä¸å½±å“å®¢æˆ·ç«¯çš„æƒ…å†µä¸‹å‘ç”Ÿå˜åŒ–ï¼Œä»è€Œæ”¹å˜ä¸åŒçš„åŠŸèƒ½ã€‚","text":"ç­–ç•¥æ¨¡å¼æ€æƒ³æ˜¯é’ˆå¯¹ä¸€ç»„ç®—æ³•ï¼Œå°†æ¯ä¸€ç§ç®—æ³•éƒ½å°è£…åˆ°å…·æœ‰å…±åŒæ¥å£çš„ç‹¬ç«‹çš„ç±»ä¸­ï¼Œä»è€Œæ˜¯å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢.ç­–ç•¥æ¨¡å¼çš„æœ€å¤§ç‰¹ç‚¹æ˜¯ä½¿å¾—ç®—æ³•å¯ä»¥åœ¨ä¸å½±å“å®¢æˆ·ç«¯çš„æƒ…å†µä¸‹å‘ç”Ÿå˜åŒ–ï¼Œä»è€Œæ”¹å˜ä¸åŒçš„åŠŸèƒ½ã€‚1. ç®€ä»‹æ€æƒ³æ˜¯é’ˆå¯¹ä¸€ç»„ç®—æ³•ï¼Œå°†æ¯ä¸€ç§ç®—æ³•éƒ½å°è£…åˆ°å…·æœ‰å…±åŒæ¥å£çš„ç‹¬ç«‹çš„ç±»ä¸­ï¼Œä»è€Œæ˜¯å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢.ç­–ç•¥æ¨¡å¼çš„æœ€å¤§ç‰¹ç‚¹æ˜¯ä½¿å¾—ç®—æ³•å¯ä»¥åœ¨ä¸å½±å“å®¢æˆ·ç«¯çš„æƒ…å†µä¸‹å‘ç”Ÿå˜åŒ–ï¼Œä»è€Œæ”¹å˜ä¸åŒçš„åŠŸèƒ½ã€‚2. ä»£ç å®ç°æ¥å£123456789101112131415/** * @author LuGuoZheng * @date 2019/4/26 14:37 * @Version 3.0 * @description */public interface Condition &#123; /** * æ¡ä»¶ * @param num æ•°æ® * @return */ boolean check(int num);&#125;ç±»12345678910111213141516171819202122232425262728293031323334353637383940414243444546/** * @author LuGuoZheng * @date 2019/4/26 14:36 * @Version 3.0 * @description ç­–ç•¥æ¨¡å¼ */public class Strategy &#123; /** * è¿‡æ»¤æ•°æ®æ–¹æ³• * @param nums æ•°æ®æº * @param condition ç­–ç•¥ * @return */ public List&lt;Integer&gt; filteNum(List&lt;Integer&gt; nums,Condition condition)&#123; List&lt;Integer&gt; newNums = new ArrayList&lt;&gt;(); for (Integer num : nums) &#123; if (condition.check(num))&#123; newNums.add(num); &#125; &#125; return newNums; &#125; @Test public void test() &#123; List&lt;Integer&gt; list = List.of(1, 2, 3, 4, 5, 6, 7); // ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»æµ‹è¯• list = filteNum(list, new Condition() &#123; @Override public boolean check(int num) &#123; return num % 2 == 0; &#125; &#125;); System.out.println(list); // [2, 4, 6] list = filteNum(list, new Condition() &#123; @Override public boolean check(int num) &#123; return num &lt; 5; &#125; &#125;); System.out.println(list); // [2, 4] &#125;&#125;","categories":[{"name":"è®¾è®¡æ¨¡å¼ç³»åˆ—","slug":"è®¾è®¡æ¨¡å¼ç³»åˆ—","permalink":"http://yoursite.com/categories/è®¾è®¡æ¨¡å¼ç³»åˆ—/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yoursite.com/tags/java/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://yoursite.com/tags/è®¾è®¡æ¨¡å¼/"}],"author":"å¢å›½å³¥"},{"title":"è®¾è®¡æ¨¡å¼ä¹‹æ¨¡æ¿æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼ä¹‹æ¨¡æ¿æ¨¡å¼","date":"2019-04-25T02:50:00.000Z","updated":"2019-04-26T07:57:15.268Z","comments":true,"path":"2019/04/25/è®¾è®¡æ¨¡å¼ä¹‹æ¨¡æ¿æ¨¡å¼/","link":"","permalink":"http://yoursite.com/2019/04/25/è®¾è®¡æ¨¡å¼ä¹‹æ¨¡æ¿æ¨¡å¼/","excerpt":"æ¨¡æ¿æ¨¡å¼å°±æ˜¯æœ‰å¾ˆå¤šç›¸åŒçš„æ­¥éª¤çš„ï¼Œåœ¨æŸä¸€äº›åœ°æ–¹å¯èƒ½æœ‰ä¸€äº›å·®åˆ«é€‚åˆäºè¿™ç§æ¨¡å¼,ä¸åŒçš„åœ°æ–¹é€šè¿‡å­ç±»è¦†å†™æ–¹æ³•å®ç°å­ç±»çš„ç‰¹æ€§.","text":"æ¨¡æ¿æ¨¡å¼å°±æ˜¯æœ‰å¾ˆå¤šç›¸åŒçš„æ­¥éª¤çš„ï¼Œåœ¨æŸä¸€äº›åœ°æ–¹å¯èƒ½æœ‰ä¸€äº›å·®åˆ«é€‚åˆäºè¿™ç§æ¨¡å¼,ä¸åŒçš„åœ°æ–¹é€šè¿‡å­ç±»è¦†å†™æ–¹æ³•å®ç°å­ç±»çš„ç‰¹æ€§.1. ç®€ä»‹æ¨¡æ¿æ¨¡å¼å°±æ˜¯æœ‰å¾ˆå¤šç›¸åŒçš„æ­¥éª¤çš„ï¼Œåœ¨æŸä¸€äº›åœ°æ–¹å¯èƒ½æœ‰ä¸€äº›å·®åˆ«é€‚åˆäºè¿™ç§æ¨¡å¼,ä¸åŒçš„åœ°æ–¹é€šè¿‡å­ç±»è¦†å†™æ–¹æ³•å®ç°å­ç±»çš„ç‰¹æ€§.2. ä»£ç å®ç°æŠ½è±¡ç±»1234567891011121314151617181920public abstract class Times &#123; private static final SimpleDateFormat fmt = new SimpleDateFormat(\"HH:mm:ss.SSS\"); abstract void doWord(); public void test(String title) &#123; title = (title == null) ? \"\" : (\"ã€\" + title + \"ã€‘\"); System.out.println(title); System.out.println(\"å¼€å§‹ï¼š\" + fmt.format(new Date())); long begin = System.currentTimeMillis(); doWord(); long end = System.currentTimeMillis(); System.out.println(\"ç»“æŸï¼š\" + fmt.format(new Date())); double delta = (end - begin) / 1000.0; System.out.println(\"è€—æ—¶ï¼š\" + delta + \"ç§’\"); System.out.println(\"-------------------------------------\"); &#125;&#125;å­ç±»1234567891011121314151617public class MyTemplate extends Times&#123; @Override public void doWord()&#123; int sum = 0; for (int i = 0; i &lt; 1000; i++) &#123; for (int j = 0; j &lt; 1000; j++) &#123; sum += j; &#125; &#125; System.out.println(sum); &#125; public static void main(String[] args) &#123; new MyTemplate().test(\"doWord\"); &#125;&#125;","categories":[{"name":"è®¾è®¡æ¨¡å¼ç³»åˆ—","slug":"è®¾è®¡æ¨¡å¼ç³»åˆ—","permalink":"http://yoursite.com/categories/è®¾è®¡æ¨¡å¼ç³»åˆ—/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yoursite.com/tags/java/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://yoursite.com/tags/è®¾è®¡æ¨¡å¼/"}],"author":"å¢å›½å³¥"},{"title":"è®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼","date":"2019-04-24T01:51:00.000Z","updated":"2019-04-24T07:42:20.429Z","comments":true,"path":"2019/04/24/è®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼/","link":"","permalink":"http://yoursite.com/2019/04/24/è®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼/","excerpt":"å•ä¾‹æ¨¡å¼å°±æ˜¯å•ä¾‹å¯¹è±¡çš„ç±»åªèƒ½è¿è¡Œä¸€ä¸ªå®ä¾‹å­˜åœ¨,å¹¶ä¸”å­˜åœ¨ä¸€ä¸ªå…¬å…±é™æ€çš„æ–¹æ³•æ¥è·å–è¯¥å®ä¾‹","text":"å•ä¾‹æ¨¡å¼å°±æ˜¯å•ä¾‹å¯¹è±¡çš„ç±»åªèƒ½è¿è¡Œä¸€ä¸ªå®ä¾‹å­˜åœ¨,å¹¶ä¸”å­˜åœ¨ä¸€ä¸ªå…¬å…±é™æ€çš„æ–¹æ³•æ¥è·å–è¯¥å®ä¾‹1. ç®€ä»‹å•ä¾‹æ¨¡å¼å°±æ˜¯å•ä¾‹å¯¹è±¡çš„ç±»åªèƒ½è¿è¡Œä¸€ä¸ªå®ä¾‹å­˜åœ¨,å¹¶ä¸”å­˜åœ¨ä¸€ä¸ªå…¬å…±é™æ€çš„æ–¹æ³•æ¥è·å–è¯¥å®ä¾‹2. ä½¿ç”¨åœºæ™¯springæ¡†æ¶å°±æ˜¯å•ä¾‹æ¨¡å¼çš„3. ä»£ç å®ç°3.1 æ‡’æ±‰å¼(åŒæ£€æŸ¥ä¿è¯çº¿ç¨‹å®‰å…¨)12345678910111213141516171819202122232425public class Singleton &#123; private Integer id; private String namge; private Integer age; private volatile static Singleton INSTANCE; // ç§æœ‰åŒ–æ„é€ å™¨ private Singleton ()&#123;&#125; // æä¾›å…¬å…±é™æ€æ–¹æ³•è·å–å®ä¾‹ public static Singleton getInstance()&#123; if (INSTANCE == null)&#123; synchronized (Singleton.class)&#123; if (INSTANCE == null)&#123; INSTANCE = new Singleton(); &#125; &#125; &#125; return INSTANCE; &#125;&#125;3.2 é¥¥é¥¿å¼123456789101112131415161718192021222324/** * * ä¼˜ç‚¹: ç›´æ¥åœ¨ç±»åŠ è½½æ—¶å°±åˆå§‹åŒ–ä¸€ä¸ªå®ä¾‹,å¯ä»¥é¿å…çº¿ç¨‹å®‰å…¨é—®é¢˜ * ç¼ºç‚¹: ç”±äºæ˜¯ç±»åŠ è½½æ—¶å°±åˆå§‹åŒ–äº†ä¸€ä¸ªå®ä¾‹,å¦‚æœä¸€ç›´æ²¡æœ‰ä½¿ç”¨è¯¥å®ä¾‹,ä¼šé€ æˆå†…å­˜æµªè´¹,è€Œä¸”æ²¡èƒ½èµ·åˆ°æ‡’åŠ è½½æ•ˆæœ */public class Singleton &#123; private Integer id; private String name; private Integer age; // ç§æœ‰åŒ–æ„é€ å™¨ private Singleton()&#123;&#125; // åˆå§‹åŒ–ä¸€ä¸ªå®ä¾‹ private static final Singleton INSTANCE = new Singleton(); // æä¾›å…¬å…±é™æ€æ–¹æ³•è·å–å®ä¾‹ public static Singleton getInstance()&#123; return INSTANCE; &#125;&#125;3.3 æšä¸¾1234567891011121314public enum Singleton &#123; INSTANCE; private String name; public String getName()&#123; return name; &#125; public void setName(String name)&#123; this.name = name; &#125;&#125;3.4 æšä¸¾åç¼–è¯‘(ä½¿ç”¨XJadåç¼–è¯‘)é€šè¿‡åç¼–è¯‘å¯ä»¥çœ‹å‡ºå°±æ˜¯ä¸€ä¸ªé¥¥é¥¿å¼å•ä¾‹æ¨¡å¼,æ‰€æœ‰å®ç°å•ä¾‹æ¨¡å¼ç›´æ¥å†™ä¸€ä¸ªæšä¸¾å³å¯.123456789101112131415161718192021222324252627282930313233343536373839404142// ä½¿ç”¨finalä¿®é¥°ç±»,å¹¶ç»§æ‰¿äº†Enumç±»public final class Singleton extends Enum&#123; public static final Singleton INSTANCE; private String name; private static final Singleton $VALUES[]; public static Singleton[] values() &#123; return (Singleton[])$VALUES.clone(); &#125; public static Singleton valueOf(String name) &#123; return (Singleton)Enum.valueOf(53554F8B6A215F0F/Singleton, name); &#125; private Singleton(String s, int i) &#123; super(s, i); &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; // åœ¨é™æ€ä»£ç å—ä¸­ç›´æ¥åˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹ static &#123; INSTANCE = new Singleton(\"INSTANCE\", 0); $VALUES = (new Singleton[] &#123; INSTANCE &#125;); &#125;&#125;","categories":[{"name":"è®¾è®¡æ¨¡å¼ç³»åˆ—","slug":"è®¾è®¡æ¨¡å¼ç³»åˆ—","permalink":"http://yoursite.com/categories/è®¾è®¡æ¨¡å¼ç³»åˆ—/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yoursite.com/tags/java/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://yoursite.com/tags/è®¾è®¡æ¨¡å¼/"}],"author":"å¢å›½å³¥"},{"title":"å››â†’å…­æœˆä»½å­¦ä¹ è®¡åˆ’(äºŒå­£åº¦)","slug":"å››â€”â€”å…­æœˆä»½å­¦ä¹ ç›®æ ‡","date":"2019-04-23T15:12:00.000Z","updated":"2019-07-05T08:42:20.814Z","comments":true,"path":"2019/04/23/å››â€”â€”å…­æœˆä»½å­¦ä¹ ç›®æ ‡/","link":"","permalink":"http://yoursite.com/2019/04/23/å››â€”â€”å…­æœˆä»½å­¦ä¹ ç›®æ ‡/","excerpt":"å¦‚é¢˜springä½¿ç”¨åˆ°çš„è®¾è®¡æ¨¡å¼:ç®€å•å·¥å‚å·¥å‚æ–¹æ³•ï¼ˆFactory Methodï¼‰å•ä¾‹ï¼ˆSingletonï¼‰é€‚é…å™¨ï¼ˆAdapterï¼‰åŒ…è£…å™¨ï¼ˆDecoratorï¼‰ä»£ç†ï¼ˆProxyï¼‰è§‚å¯Ÿè€…ï¼ˆObserverï¼‰ç­–ç•¥ï¼ˆStrategyï¼‰æ¨¡æ¿æ–¹æ³•ï¼ˆTemplate Methodï¼‰","text":"å¦‚é¢˜springä½¿ç”¨åˆ°çš„è®¾è®¡æ¨¡å¼:ç®€å•å·¥å‚å·¥å‚æ–¹æ³•ï¼ˆFactory Methodï¼‰å•ä¾‹ï¼ˆSingletonï¼‰é€‚é…å™¨ï¼ˆAdapterï¼‰åŒ…è£…å™¨ï¼ˆDecoratorï¼‰ä»£ç†ï¼ˆProxyï¼‰è§‚å¯Ÿè€…ï¼ˆObserverï¼‰ç­–ç•¥ï¼ˆStrategyï¼‰æ¨¡æ¿æ–¹æ³•ï¼ˆTemplate Methodï¼‰è®¡åˆ’å®‰æ’ å›› â†’ äº”æœˆä»½å­¦ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³•è¯¾ç¨‹ åœ¨LeetCodeç»ƒä¹ ç®—æ³•é¢˜ å·©å›ºå­¦ä¹ ä¸€ç§è®¾è®¡æ¨¡å¼å¹¶å®ç°è¿›è¡Œä¸­è®¡åˆ’ æ•°æ®ç»“æ„ä¸ç®—æ³•è¯¾ç¨‹ ç®—æ³•ç»ƒä¹  è®¾è®¡æ¨¡å¼è®¡åˆ’è¿›åº¦ (ä»£ç ) ç®—æ³•ç»ƒä¹  è®¾è®¡æ¨¡å¼ å•ä¾‹æ¨¡å¼ æ¨¡æ¿æ¨¡å¼ ç­–ç•¥æ¨¡å¼ è§‚å¯Ÿè€…æ¨¡å¼ é™æ€ä»£ç†æ¨¡å¼ åŠ¨æ€ä»£ç†æ¨¡å¼","categories":[],"tags":[],"author":"å¢å›½å³¥"},{"title":"ç®—æ³•å¤æ‚åº¦","slug":"å¤æ‚åº¦","date":"2019-04-19T01:37:00.000Z","updated":"2019-04-20T04:50:54.591Z","comments":true,"path":"2019/04/19/å¤æ‚åº¦/","link":"","permalink":"http://yoursite.com/2019/04/19/å¤æ‚åº¦/","excerpt":"æ—¶é—´å¤æ‚åº¦:ä¼°ç®—ç¨‹åºæŒ‡ä»¤çš„æ‰§è¡Œæ¬¡æ•°(æ‰§è¡Œæ—¶é—´)ç©ºé—´å¤æ‚åº¦:ä¼°ç®—æ‰€éœ€å ç”¨çš„å­˜å‚¨ç©ºé—´ç®—æ³•ç½‘ç«™ğŸ‘‡:https://leetcode-cn.com/","text":"æ—¶é—´å¤æ‚åº¦:ä¼°ç®—ç¨‹åºæŒ‡ä»¤çš„æ‰§è¡Œæ¬¡æ•°(æ‰§è¡Œæ—¶é—´)ç©ºé—´å¤æ‚åº¦:ä¼°ç®—æ‰€éœ€å ç”¨çš„å­˜å‚¨ç©ºé—´ç®—æ³•ç½‘ç«™ğŸ‘‡:https://leetcode-cn.com/æ—¶é—´å¤æ‚åº¦ ç™¾åº¦ç™¾ç§‘:æ—¶é—´å¤æ‚åº¦æ˜¯åŒä¸€é—®é¢˜å¯ç”¨ä¸åŒç®—æ³•è§£å†³ï¼Œè€Œä¸€ä¸ªç®—æ³•çš„è´¨é‡ä¼˜åŠ£å°†å½±å“åˆ°ç®—æ³•ä¹ƒè‡³ç¨‹åºçš„æ•ˆç‡ã€‚ç®—æ³•åˆ†æçš„ç›®çš„åœ¨äºé€‰æ‹©åˆé€‚ç®—æ³•å’Œæ”¹è¿›ç®—æ³•ã€‚ ä¸ªäººç†è§£:ä¼°ç®—ç¨‹åºæŒ‡ä»¤çš„æ‰§è¡Œæ¬¡æ•°(æ‰§è¡Œæ—¶é—´)ç©ºé—´å¤æ‚åº¦ ç™¾åº¦ç™¾ç§‘:ç©ºé—´å¤æ‚åº¦(Space Complexity)æ˜¯å¯¹ä¸€ä¸ªç®—æ³•åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¸´æ—¶å ç”¨å­˜å‚¨ç©ºé—´å¤§å°çš„é‡åº¦ï¼Œè®°åšS(n)=O(f(n))ã€‚æ¯”å¦‚ç›´æ¥æ’å…¥æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n^2),ç©ºé—´å¤æ‚åº¦æ˜¯O(1) ã€‚è€Œä¸€èˆ¬çš„é€’å½’ç®—æ³•å°±è¦æœ‰O(n)çš„ç©ºé—´å¤æ‚åº¦äº†ï¼Œå› ä¸ºæ¯æ¬¡é€’å½’éƒ½è¦å­˜å‚¨è¿”å›ä¿¡æ¯ã€‚ä¸€ä¸ªç®—æ³•çš„ä¼˜åŠ£ä¸»è¦ä»ç®—æ³•çš„æ‰§è¡Œæ—¶é—´å’Œæ‰€éœ€è¦å ç”¨çš„å­˜å‚¨ç©ºé—´ä¸¤ä¸ªæ–¹é¢è¡¡é‡ã€‚ ä¸ªäººç†è§£:ä¼°ç®—æ‰€éœ€å ç”¨çš„å­˜å‚¨ç©ºé—´å¤§Oè¡¨ç¤ºæ³•ä¸€èˆ¬ç”¨å¤§Oè¡¨ç¤ºæ³•æ¥æè¿°å¤æ‚åº¦,è¡¨ç¤ºçš„æ˜¯æ•°æ®è§„æ¨¡nå¯¹åº”çš„å¤æ‚åº¦123456789å¿½ç•¥å¸¸æ•°ã€ç³»æ•°ã€ä½é˜¶9 &gt;&gt;&gt; O(1)2n + 3 &gt;&gt;&gt; O(n)$n^2$ + 2n + 6 &gt;&gt;&gt; O($n^2$)$4n^3$ + $3n^2$ + 22n + 100 &gt;&gt;&gt; O($n^3$)æ³¨æ„:å¤§Oè¡¨ç¤ºæ³•ä»…ä»…åªæ˜¯ä¸€ç§ç²—ç•¥çš„åˆ†ææ¨¡å‹,æ˜¯ä¸€ç§ä¼°ç®—,èƒ½å¸®åŠ©æˆ‘ä»¬çŸ­æ—¶é—´å†…äº†è§£ä¸€ä¸ªç®—æ³•çš„æ‰§è¡Œæ•ˆç‡å¸¸è§çš„å¤æ‚åº¦å¯¹æ•°é˜¶ç»†èŠ‚å¯¹æ•°é˜¶ä¸€èˆ¬çœç•¥åº•æ•°1$log_2 n = log_2 9 * log_9 n$$æ‰€ä»¥log_2 nã€log_9 nç»Ÿç§°ä¸ºlog_n$","categories":[{"name":"æ•°æ®ç»“æ„ä¸ç®—æ³•ç³»åˆ—","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•ç³»åˆ—","permalink":"http://yoursite.com/categories/æ•°æ®ç»“æ„ä¸ç®—æ³•ç³»åˆ—/"}],"tags":[{"name":"å¤æ‚åº¦","slug":"å¤æ‚åº¦","permalink":"http://yoursite.com/tags/å¤æ‚åº¦/"}],"author":"å¢å›½å³¥"},{"title":"dubboéšå¼å‚æ•°ä¼ é€’","slug":"Dobbuéšå¼å‚æ•°ä¼ é€’","date":"2019-04-17T03:13:00.000Z","updated":"2019-06-29T06:18:22.290Z","comments":true,"path":"2019/04/17/Dobbuéšå¼å‚æ•°ä¼ é€’/","link":"","permalink":"http://yoursite.com/2019/04/17/Dobbuéšå¼å‚æ•°ä¼ é€’/","excerpt":"è®°å½•ä¸€ä¸ªdobbuä¼ é€’éšå¼å‚æ•°demo,è°ƒç”¨RPCæœåŠ¡æ—¶ç”¨äºæœåŠ¡æ¶ˆè´¹è€…å‘æœåŠ¡æä¾›è€…ä¼ é€’éšå¼å‚æ•°,æ¯”å¦‚å‘æœåŠ¡æä¾›è€…ä¼ é€’tokenä¿¡æ¯.","text":"è®°å½•ä¸€ä¸ªdobbuä¼ é€’éšå¼å‚æ•°demo,è°ƒç”¨RPCæœåŠ¡æ—¶ç”¨äºæœåŠ¡æ¶ˆè´¹è€…å‘æœåŠ¡æä¾›è€…ä¼ é€’éšå¼å‚æ•°,æ¯”å¦‚å‘æœåŠ¡æä¾›è€…ä¼ é€’tokenä¿¡æ¯.ä¸Šä¸‹æ–‡ä¿¡æ¯RpcContextæ˜¯ä¸€ä¸ªThreadLocalçš„ä¸´æ—¶çŠ¶æ€è®°å½•å™¨ï¼Œå½“æ¥æ”¶åˆ°RPCè¯·æ±‚ï¼Œæˆ–å‘èµ·RPCè¯·æ±‚æ—¶ï¼ŒRpcContextçš„çŠ¶æ€éƒ½ä¼šå˜åŒ–ã€‚æ¯”å¦‚Aè°ƒç”¨Bï¼ŒBå†è°ƒç”¨Cï¼Œåˆ™Bæœºå™¨ä¸Šï¼Œåœ¨Bè°ƒç”¨Cä¹‹å‰ï¼ŒRpcContextè®°å½•çš„æ˜¯Aè°ƒç”¨Bçš„ä¿¡æ¯ï¼Œåœ¨Bè°ƒç”¨Cä¹‹åï¼ŒRpcContextè®°å½•çš„æ˜¯Bè°ƒç”¨Cã€‚æœåŠ¡æ¶ˆè´¹è€…:controllerå±‚12345678910111213141516@Controller@RequestMapping(\"/test\")public class TestController &#123; @Reference private ICarService iCarService; @RequestMapping(\"/test\") @ResponseBody public String test()&#123; // ä¼ é€’å‚æ•° RpcContext.getContext().setAttachment(\"TOKEN\",\"æµ‹è¯•éšå£«å‚æ•°ä¼ é€’\"); iCarService.test(); return \"å‚æ•°\"; &#125;&#125;æœåŠ¡æä¾›è€…:serviceå±‚æ¥å£123public interface ICarService &#123; void test();&#125;å®ç°ç±»123456789@Service@Transactionalpublic class CarServiceImpl implements ICarService &#123; public void test() &#123; // è·å–å‚æ•° String token = RpcContext.getContext().getAttachment(\"TOKEN\"); System.out.println(token); &#125;&#125;é¡¹ç›®ä½¿ç”¨åœºæ™¯åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„æ˜¯ç™»å½•å,ä¼šç”Ÿæˆä¸€ä¸ªtokenè¿”å›ç»™ç”¨æˆ·,ç”¨æˆ·æ¯æ¬¡ç™»å½•éƒ½è¦æŠŠæ”¹tokenå¸¦è¿‡æ¥è¿›è¡Œç™»å½•éªŒè¯,éªŒè¯é€šè¿‡ååˆ™å»è°ƒç”¨RPCæœåŠ¡,å¯ä»¥é€šè¿‡éšå£«å‚æ•°ä¼ é€’æŠŠtokenä¼ é€’åˆ°æœåŠ¡æä¾›è€…,è¿™æ ·å°±å¯ä»¥è·å–åˆ°å½“å‰ç™»å½•ç”¨æˆ·çš„token,ç„¶åå»è·å–å½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯.æ³¨æ„å¦‚æœä½¿ç”¨setAttachmentsä¼šæŠŠåŸæ¥çš„å‚æ•°æ¸…ç©º,åå†ä¿å­˜ç°åœ¨çš„å‚æ•°.æºç 123456789public RpcContext setAttachments(Map&lt;String, String&gt; attachment) &#123; // æ¸…ç©ºå‚æ•° this.attachments.clear(); if (attachment != null &amp;&amp; attachment.size() &gt; 0) &#123; this.attachments.putAll(attachment); &#125; return this;&#125;","categories":[{"name":"Dubboç³»åˆ—","slug":"Dubboç³»åˆ—","permalink":"http://yoursite.com/categories/Dubboç³»åˆ—/"}],"tags":[{"name":"dubbo","slug":"dubbo","permalink":"http://yoursite.com/tags/dubbo/"}],"author":"å¢å›½å³¥"},{"title":"é…ç½®mavenæ‰“åŒ…æ–¹å¼","slug":"é…ç½®mavenæ‰“åŒ…æ–¹å¼","date":"2019-04-15T03:33:00.000Z","updated":"2019-05-13T03:15:12.627Z","comments":true,"path":"2019/04/15/é…ç½®mavenæ‰“åŒ…æ–¹å¼/","link":"","permalink":"http://yoursite.com/2019/04/15/é…ç½®mavenæ‰“åŒ…æ–¹å¼/","excerpt":"ä½¿ç”¨maven-jar-pluginå’Œmaven-dependency-pluginæ’ä»¶æ‰“åŒ…","text":"ä½¿ç”¨maven-jar-pluginå’Œmaven-dependency-pluginæ’ä»¶æ‰“åŒ…ä½¿ç”¨maven-jar-pluginå’Œmaven-dependency-pluginæ‰“åŒ…çš„åŸå› åŠå¥½å¤„ç°åœ¨é¡¹ç›®ä½¿ç”¨çš„springbootæ¡†æ¶æ­å»ºçš„mavené¡¹ç›®,ç”±äºä½¿ç”¨jenkinsè‡ªåŠ¨éƒ¨ç½²é¡¹ç›®,è€Œä¸”å¹¶æ²¡æœ‰é…ç½®å•ä¸ªæ¨¡å—éƒ¨ç½²,å¯¼è‡´æ¯æ¬¡éƒ¨ç½²éƒ½è¦10æ¥åˆ†é’Ÿ,ä¸¥é‡æµªè´¹æ—¶é—´,ç°åœ¨ä½¿ç”¨è¯¥æ’ä»¶æ‰“åŒ…åä¸ç”¨æ¯æ¬¡éƒ½ä½¿ç”¨jenkinséƒ¨ç½²,ç›´æ¥æœ¬åœ°æ‰“åŒ…å¥½ä¹‹åæ›¿æ¢æ‰æœåŠ¡å™¨çš„jarå°±è¡Œ,è€Œä¸”æ‰“åŒ…å®Œå¯ä»¥çœ‹åˆ°jaræ˜¯å¾ˆå°çš„,ä¸Šä¼ ä¹Ÿå¾ˆå¿«1. é…ç½®pomæ–‡ä»¶12345678910111213141516171819202122232425262728293031323334&lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;archive&gt; &lt;manifest&gt; &lt;!-- springbootå¯åŠ¨ç±» --&gt; &lt;mainClass&gt;cn.lgz.shop.GoodsApp&lt;/mainClass&gt; &lt;addClasspath&gt;true&lt;/addClasspath&gt; &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt; &lt;/manifest&gt; &lt;/archive&gt; &lt;/configuration&gt;&lt;/plugin&gt;&lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt; &lt;version&gt;3.1.1&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;copy-dependencies&lt;/id&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;copy-dependencies&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;outputDirectory&gt;$&#123;project.build.directory&#125;/lib&lt;/outputDirectory&gt; &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt; &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt; &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt;&lt;/plugin&gt;2. æ‰“åŒ…æ•ˆæœæ‰“åŒ…åä¼šæŠŠé¡¹ç›®ä»£ç å’Œä¾èµ–åˆ†ç¦»å¼€æ¥:ä¾èµ–ä¼šæ‰“åŒ…åˆ°libç›®å½•é¡¹ç›®ä»£ç ä¼šæ‰“åŒ…æˆä¸€ä¸ªjaråŒ…","categories":[{"name":"java","slug":"java","permalink":"http://yoursite.com/categories/java/"},{"name":"å·¥å…·é…ç½®ç›¸å…³","slug":"java/å·¥å…·é…ç½®ç›¸å…³","permalink":"http://yoursite.com/categories/java/å·¥å…·é…ç½®ç›¸å…³/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yoursite.com/tags/java/"},{"name":"maven","slug":"maven","permalink":"http://yoursite.com/tags/maven/"}],"author":"å¢å›½å³¥"},{"title":"SSLæ•°å­—è¯ä¹¦Nginxé…ç½®éƒ¨ç½²","slug":"SSLæ•°å­—è¯ä¹¦Nginxé…ç½®éƒ¨ç½²","date":"2019-04-13T08:55:00.000Z","updated":"2019-04-17T07:27:13.003Z","comments":true,"path":"2019/04/13/SSLæ•°å­—è¯ä¹¦Nginxé…ç½®éƒ¨ç½²/","link":"","permalink":"http://yoursite.com/2019/04/13/SSLæ•°å­—è¯ä¹¦Nginxé…ç½®éƒ¨ç½²/","excerpt":"è®°å½•Nginxé…ç½®SSLæ•°å­—è¯ä¹¦çš„æ­¥éª¤ä»¥åŠé‡åˆ°ä¸€äº›çš„é—®é¢˜ å®è·µæˆæœï¼šä¸ºæœ¬ç½‘ç«™éƒ¨ç½²SSLè¯ä¹¦ï¼Œå®ç°httpsè®¿é—®ğŸ‘‡ç¯å¢ƒä»¥åŠè¯ä¹¦ğŸ‘‡:é˜¿é‡Œäº‘æœåŠ¡å™¨: CentOS7SSLæ•°å­—è¯ä¹¦: Symantec DV SSLè¯ä¹¦ï¼ˆå…è´¹ç‰ˆï¼‰","text":"è®°å½•Nginxé…ç½®SSLæ•°å­—è¯ä¹¦çš„æ­¥éª¤ä»¥åŠé‡åˆ°ä¸€äº›çš„é—®é¢˜ å®è·µæˆæœï¼šä¸ºæœ¬ç½‘ç«™éƒ¨ç½²SSLè¯ä¹¦ï¼Œå®ç°httpsè®¿é—®ğŸ‘‡ç¯å¢ƒä»¥åŠè¯ä¹¦ğŸ‘‡:é˜¿é‡Œäº‘æœåŠ¡å™¨: CentOS7SSLæ•°å­—è¯ä¹¦: Symantec DV SSLè¯ä¹¦ï¼ˆå…è´¹ç‰ˆï¼‰ä¸€. æ·»åŠ SSLæ¨¡å—1.0 è¿›å…¥nginxè§£å‹ç›®å½•ä½¿ç”¨æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ·»åŠ SSLæ¨¡å—1./configure --with-http_ssl_moduleå¦‚æœæŠ¥é”™./configure: error: SSL modules require the OpenSSL library.åˆ™æ‰§è¡Œ123yum -y install openssl openssl-devel./configureæ‰§è¡Œmakeï¼ˆåˆ‡è®°ä¸èƒ½make installä¼šè¦†ç›–å®‰è£…ç›®å½•ï¼‰å°†åŸæ¥nginxå¤‡ä»½(å¯é€‰ï¼‰:å¦‚æœè‡ªå·±nginxæœ‰ä»€ä¹ˆé‡è¦é…ç½®å¯ä»¥å…ˆå¤‡ä»½ä»¥é˜²ä¸¢å¤±1cp objs/nginx /usr/local/nginx/sbin/nginxå°†æ–°çš„nginxè¦†ç›–æ—§å®‰è£…ç›®å½•1cp objs/nginx /usr/local/nginx/sbin/nginxäºŒ. é…ç½®SSLè¯ä¹¦1.0 è¿›å…¥Nginxå®‰è£…ç›®å½•confç›®å½•(PS:å®‰è£…ç›®å½•å’Œè§£å‹ç›®å½•ä¸æ˜¯åŒä¸€ä¸ªç›®å½•ï¼‰1cd /usr/local/nginx/conf/åˆ›å»ºcertç›®å½•,å¹¶æŠŠå‡†å¤‡å¥½çš„SSLæ•°å­—è¯ä¹¦æ”¾åœ¨è¯¥ç›®å½•ä¸‹1mkdir certè¿”å›confæ–‡ä»¶ï¼Œç¼–è¾‘nginx.confé…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ°ä»¥ä¸‹å†…å®¹12345678910111213141516 # HTTPS server #server &#123; #listen 443; #server_name localhost; #ssl_certificate cert.pem; #ssl_certificate_key cert.key; #ssl_session_timeout 5m; #ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #ssl_ciphers ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP; #ssl_prefer_server_ciphers on; #location / &#123; #root html; #index index.html index.htm; #proxy_pass http://localhost:4000; #&#125;#&#125;æŠŠä»¥ä¸Šå†…å®¹æ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹ï¼Œæˆ–è€…æ³¨é‡Šä»¥ä¸Šå†…å®¹é‡æ–°æ·»åŠ ä¹Ÿå¯ä»¥ï¼š123456789101112131415161718# ä»¥ä¸‹å±æ€§ä¸­ä»¥sslå¼€å¤´çš„å±æ€§ä»£è¡¨ä¸è¯ä¹¦é…ç½®æœ‰å…³ï¼Œå…¶ä»–å±æ€§è¯·æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œé…ç½®ã€‚ server &#123; listen 443; server_name localhost; # localhostä¿®æ”¹ä¸ºæ‚¨è¯ä¹¦ç»‘å®šçš„åŸŸåã€‚ ssl on; #è®¾ç½®ä¸ºonå¯ç”¨SSLåŠŸèƒ½ã€‚ root html; index index.html index.htm; ssl_certificate cert/domain name.pem; #å°†domain name.pemæ›¿æ¢æˆæ‚¨è¯ä¹¦çš„æ–‡ä»¶åã€‚ ssl_certificate_key cert/domain name.key; #å°†domain name.keyæ›¿æ¢æˆæ‚¨è¯ä¹¦çš„å¯†é’¥æ–‡ä»¶åã€‚ ssl_session_timeout 5m; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4; #ä½¿ç”¨æ­¤åŠ å¯†å¥—ä»¶ã€‚ ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #ä½¿ç”¨è¯¥åè®®è¿›è¡Œé…ç½®ã€‚ ssl_prefer_server_ciphers on; location / &#123; root html; #ç«™ç‚¹ç›®å½•ã€‚ index index.html index.htm; #æ·»åŠ å±æ€§ã€‚ &#125; &#125;ä¸‰. é…ç½®é˜¿é‡Œäº‘æœåŠ¡å™¨å®‰å…¨ç»„è§„åˆ™â­ å¦‚æœä½ ä»¥ä¸Šæ­¥éª¤éƒ½æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯è¿˜æ˜¯è®¿é—®ä¸äº†ï¼Œé‚£å°±è¦æŸ¥çœ‹ä¸‹æ˜¯å¦æœ‰é…ç½®443ç«¯å£çš„å®‰å…¨ç»„ï¼Œå¦‚æœæ²¡æœ‰åŠ ä¸Šå³å¯ã€‚å››. å‚è€ƒèµ„æ–™https://help.aliyun.com/document_detail/98728.htmlhttps://help.aliyun.com/video_detail/54216.html?spm=5176.2000002.0.0.19057747sUlwcdhttps://blog.csdn.net/weiyangdong/article/details/80008543","categories":[{"name":"æœåŠ¡å™¨ç³»åˆ—","slug":"æœåŠ¡å™¨ç³»åˆ—","permalink":"http://yoursite.com/categories/æœåŠ¡å™¨ç³»åˆ—/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"Nginx","slug":"Nginx","permalink":"http://yoursite.com/tags/Nginx/"},{"name":"SSL","slug":"SSL","permalink":"http://yoursite.com/tags/SSL/"}],"author":"å¢å›½å³¥"},{"title":"Excelå¯¼å…¥å¯¼å‡º","slug":"Excelå¯¼å…¥å¯¼å‡º","date":"2019-04-10T07:00:00.000Z","updated":"2019-04-17T07:27:29.091Z","comments":true,"path":"2019/04/10/Excelå¯¼å…¥å¯¼å‡º/","link":"","permalink":"http://yoursite.com/2019/04/10/Excelå¯¼å…¥å¯¼å‡º/","excerpt":"è®°å½•ä¸€ä¸ªjavaåŸºäºjxlå®ç°çš„Excelå¯¼å…¥å¯¼å‡ºåŠŸèƒ½","text":"è®°å½•ä¸€ä¸ªjavaåŸºäºjxlå®ç°çš„Excelå¯¼å…¥å¯¼å‡ºåŠŸèƒ½ä¸€. å¼•å…¥ä¾èµ–12345&lt;dependency&gt; &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt; &lt;artifactId&gt;jxl&lt;/artifactId&gt; &lt;version&gt;2.6.12&lt;/version&gt;&lt;/dependency&gt;äºŒ. å¯¼å‡º2.0 æ¥å£ç¼–å†™1234567891011121314151617181920@RequestMapping(value = \"/export\")public void test(HttpServletResponse response) throws Exception &#123; WritableWorkbook workbook = Workbook.createWorkbook(response.getOutputStream()); // å“åº”æ ¼å¼ response.setContentType(\"application/vnd.ms-excel\"); response.setHeader(\"Content-Disposition\", \"attachment; filename=\" + URLEncoder.encode(\"æ–‡ä»¶åç§°.xls\", \"UTF-8\")); // åˆ›å»ºä¸€ä¸ªå·¥ä½œç°¿: WritableSheet sheet1 = workbook.createSheet(\"å·¥ä½œç°¿åç§°\", 0); Label label1 = new Label(0, 0, \"å•†å“id\"); sheet1.addCell(label1); Label label2 = new Label(1, 0, \"å…¬å¸ç¼–å·\"); sheet1.addCell(label2); //æŸ¥è¯¢æ•°æ®å†™åˆ°workbookä¸­ workbook.write(); System.out.println(\"æŸ¥è¯¢æ•°æ®å†™åˆ°workbookä¸­\"); //å…³é—­èµ„æº workbook.close();&#125;2.1 å¯¼å‡ºæ•ˆæœå¦‚ä¸‹ä¸‰. å¯¼å…¥3.0 è¯»å–Excelæ¥å£12345678910111213141516171819202122232425262728293031@PostMapping(value = \"/excel\")public void importExcel(MultipartFile file) &#123; Workbook workbook = null; List&lt;ItemDto&gt; items = new ArrayList&lt;&gt;(); HashMap&lt;String, ItemDto&gt; map = new HashMap&lt;&gt;(); try &#123; //è·å–xlsæ–‡ä»¶Excel workbook = Workbook.getWorkbook(file.getInputStream()); //è·å–å•†å“å·¥ä½œç°¿:å¯é€šè¿‡ç´¢å¼•è·å–ä¸åŒå·¥ä½œç°¿ Sheet itemSheet = workbook.getSheet(0); //è·å–æ€»è¡Œæ•° int rows = itemSheet.getRows(); //æ ¼å¼åŒ–å¯¼å…¥çš„æ—¥æœŸæ ¼å¼ for (int i = 1; i &lt; rows; i++) &#123; Cell[] row = itemSheet.getRow(i); if (row.length == 0) &#123; continue; &#125; String itemId = itemSheet.getCell(0, i).getContents(); System.out.println(itemId); String scompCode = itemSheet.getCell(1, i).getContents(); System.out.println(scompCode); &#125; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; finally &#123; //å…³é—­èµ„æº workbook.close(); &#125;&#125;","categories":[{"name":"java","slug":"java","permalink":"http://yoursite.com/categories/java/"}],"tags":[{"name":"java","slug":"java","permalink":"http://yoursite.com/tags/java/"},{"name":"Excel","slug":"Excel","permalink":"http://yoursite.com/tags/Excel/"}],"author":"å¢å›½å³¥"},{"title":"Hexoä¹‹çæŠ˜è…¾ç³»åˆ—","slug":"HexoçæŠ˜è…¾ç³»åˆ—","date":"2019-03-30T12:11:00.000Z","updated":"2019-05-13T03:13:50.531Z","comments":true,"path":"2019/03/30/HexoçæŠ˜è…¾ç³»åˆ—/","link":"","permalink":"http://yoursite.com/2019/03/30/HexoçæŠ˜è…¾ç³»åˆ—/","excerpt":"è¯¥æ–‡æ¡£è®°å½•Theme-ADä¸»é¢˜ä¸ªäººåšå®¢éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä»¥åŠè®°å½•æ–°å¢çš„ä¸€äº›å°åŠŸèƒ½~ï¼Theme-ADä¸»é¢˜å…·ä½“æ­å»ºæ­¥éª¤å¯ä»¥å‚è€ƒï¼šhttps://godbmw.com/tags/Hexo/Letâ€™s Go~!","text":"è¯¥æ–‡æ¡£è®°å½•Theme-ADä¸»é¢˜ä¸ªäººåšå®¢éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä»¥åŠè®°å½•æ–°å¢çš„ä¸€äº›å°åŠŸèƒ½~ï¼Theme-ADä¸»é¢˜å…·ä½“æ­å»ºæ­¥éª¤å¯ä»¥å‚è€ƒï¼šhttps://godbmw.com/tags/Hexo/Letâ€™s Go~!Theme-ADä¸»é¢˜å…·ä½“æ­å»ºæ­¥éª¤å¯ä»¥å‚è€ƒï¼šhttps://godbmw.com/tags/Hexo/ä¸€.äº‘æœåŠ¡å™¨éƒ¨ç½²Hexoå‚è€ƒæ–‡æ¡£ï¼šhttps://www.jianshu.com/p/b2e47ec9359d1.1 åå°è¿è¡ŒHexoéƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨åå¦‚æœè¿˜æ˜¯åœ¨hexoæ ¹ç›®å½•ä¸‹ä½¿ç”¨å‘½ä»¤å¯åŠ¨ï¼Œä¼šæœ‰ä¸ªé—®é¢˜å°±æ˜¯ï¼šå½“ä½ æ–­å¼€æœåŠ¡å™¨è¿æ¥ä¹‹åhexoæœåŠ¡å°±ä¼šåœæ­¢ï¼Œæ— æ³•è®¿é—®ã€‚é‚£ä¹ˆå¯ä»¥ç”¨pm2å¯åŠ¨hexoï¼Œè¿™æ ·hexoå°±åœ¨åå°è¿è¡Œäº†ï¼Œå°±ç®—æ–­å¼€æœåŠ¡å™¨è¿æ¥ä¹Ÿä¸ä¼šåœæ­¢1.2 å®‰è£…pm21npm install -g pm2psï¼šå¦‚æœæ„Ÿå…´è¶£ä¹Ÿå¯ä»¥äº†è§£ä¸‹Linuxçš„nohupå‘½ä»¤1.2 åœ¨hexoåˆ›å»ºrun.jsæ–‡ä»¶12345678910//run.jsconst &#123; exec &#125; = require('child_process')exec('hexo server',(error, stdout, stderr) =&gt; &#123; if(error)&#123; console.log(`exec error: $&#123;error&#125;`) return &#125; console.log(`stdout: $&#123;stdout&#125;`); console.log(`stderr: $&#123;stderr&#125;`);&#125;)1.3 è¿è¡Œè„šæœ¬1pm2 start run.jsäºŒ.ä¸ºè‡ªå·±çš„åšå®¢æ·»åŠ èŒå® å‚è€ƒåšå®¢ï¼šhttps://blog.csdn.net/u010820857/article/details/822707362.1 å®‰è£…æ¨¡å—1npm install --save hexo-helper-live2d2.2 é€‰æ‹©æƒ³è¦çš„èŒå® 12345678910111213141516171819202122live2d-widget-model-chitoselive2d-widget-model-epsilon2_1live2d-widget-model-gflive2d-widget-model-haru/01 (use npm install --save live2d-widget-model-haru)live2d-widget-model-haru/02 (use npm install --save live2d-widget-model-haru)live2d-widget-model-harutolive2d-widget-model-hibikilive2d-widget-model-hijikilive2d-widget-model-izumilive2d-widget-model-koharulive2d-widget-model-mikulive2d-widget-model-ni-jlive2d-widget-model-nicolive2d-widget-model-nietzschelive2d-widget-model-nipsilonlive2d-widget-model-nitolive2d-widget-model-shizukulive2d-widget-model-tororolive2d-widget-model-tsumikilive2d-widget-model-unitychanlive2d-widget-model-wankolive2d-widget-model-z162.3 é€‰æ‹©å¥½ä¹‹åè¿˜éœ€è¦å®‰è£…ä¾‹å¦‚æˆ‘é€‰æ‹©çš„æ˜¯ï¼šlive2d-widget-model-z161npm install live2d-widget-model-z162.4 æœ€åä¸€æ­¥é…ç½®Hexoçš„ä¸»é…ç½®æ–‡ä»¶_config.yml1234567891011live2d: enable: true scriptFrom: local model: use: live2d-widget-model-z16 // è¿™é‡Œæ”¹ä¸ºè‡ªå·±é€‰æ‹©çš„èŒå®  å…¶ä»–å‚æ•°å¯ä»¥æ ¹æ®è‡ªå·±å–œå¥½çœ‹ç€ä¿®æ”¹ display: position: right width: 150 height: 300 mobile: show: trueä¸‰. hexoéƒ¨ç½²åˆ°GitHubåç»‘å®šåŸŸå(æœªå¤‡æ¡ˆåŸŸåä¹Ÿå¯ä»¥)3.1 GitHubç›¸å…³é…ç½®åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ CNAMEæ–‡ä»¶(åç§°å¤§å†™),åœ¨æ–‡ä»¶ä¸­è¾“å…¥åŸŸåCNAME æ–‡ä»¶:æ–‡ä»¶å†…å®¹å°±æ˜¯ä½ çš„åŸŸå:åœ¨è®¾ç½®ä¸­é…ç½®åŸŸå:3.2 ä¿®æ”¹åŸŸåè§£æè®°å½•æŒ‰ç…§ä¸‹é¢æ·»åŠ åŸŸåè§£æè®°å½•:ps:æˆªå›¾ä¸­è®°å½•å€¼çš„ipæ˜¯é€šè¿‡ping`è‡ªå·±çš„xxx.github.ioå¾—åˆ°å››. æ–°å¢ç«™å†…æœç´¢åŠŸèƒ½åŸæœ¬Theme-ADä¸»é¢˜æ˜¯æ²¡æœ‰ç«™å†…æœç´¢çš„,æœ¬ç«™ç‚¹ç§»æ¤çš„æ˜¯Oceanä¸»é¢˜çš„ç«™å†…æœç´¢åŠŸèƒ½.4.1 ä¿®æ”¹header.ejsæ–‡ä»¶æŠŠåŸæœ¬ä¸»é¢˜çš„æœç´¢æ¡†ç§»é™¤,åœ¨ç›¸å¯¹åº”ä½ç½®åŠ å…¥æœç´¢æŒ‰é’®å’Œæœç´¢æ¡†12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061&lt;header class=\"site-header\"&gt; &lt;div class=\"site-header-brand\"&gt; &lt;% if(theme.nav_name) &#123; %&gt; &lt;span class=\"site-header-brand-title\"&gt; &lt;a href=\"&lt;%- url_for('/') %&gt;\"&gt;&lt;%- theme.nav_name %&gt;&lt;/a&gt; &lt;/span&gt; &lt;% &#125; %&gt; &lt;% if(theme.motto) &#123; %&gt; &lt;span class=\"site-header-brand-motto\"&gt; | &lt;%- theme.motto %&gt;&lt;/span&gt; &lt;% &#125; %&gt; &lt;/div&gt; &lt;div class=\"site-header-right\"&gt; &lt;nav class=\"site-header-navigation\"&gt; &lt;% for(let link of theme.nav) &#123; %&gt; &lt;a href=\"&lt;%- url_for(link.path) %&gt;\" target=\"&lt;%- link.path.startsWith('http') ? '_blank' : '_self' %&gt;\"&gt;&lt;%= link.name%&gt;&lt;/a&gt; &lt;% &#125; %&gt; &lt;/nav&gt; &lt;!-- æœç´¢æŒ‰é’® --&gt; &lt;nav class=\"navbar\"&gt; &lt;a href=\"#\" class=\"nav-item-link nav-item-search\" title=\"&lt;%= __('æœç´¢') %&gt;\"&gt; &lt;i class=\"fe fe-search\"&gt;&lt;/i&gt; &lt;%- theme.search_text %&gt; &lt;/a&gt; &lt;/nav&gt; &lt;div class=\"site-header-btn\"&gt; &lt;% if(theme.github) &#123; %&gt; &lt;a href=\"&lt;%- theme.github %&gt;\" target=\"_blank\" id=\"site-github\"&gt; &lt;i class=\"fa fa-github-alt\"&gt;&lt;/i&gt; &lt;/a&gt; &lt;% &#125; %&gt; &lt;/dev&gt;&lt;/div&gt;&lt;!-- æœç´¢æ¡† --&gt;&lt;div class=\"search-form-wrap\"&gt; &lt;div class=\"local-search local-search-plugin\"&gt; &lt;input type=\"search\" id=\"local-search-input\" class=\"local-search-input\" placeholder=\"Search...\"&gt; &lt;div id=\"local-search-result\" class=\"local-search-result\"&gt;&lt;/div&gt; &lt;/div&gt;&lt;/div&gt;&lt;/header&gt;&lt;nav class=\"table-content\" id=\"site-nav\"&gt; &lt;div class=\"table-content-title\"&gt; &lt;span&gt;å¯¼èˆª&lt;/span&gt; &lt;/div&gt; &lt;div class=\"table-content-main\"&gt; &lt;ol class=\"toc\"&gt; &lt;% for(let link of theme.nav) &#123; %&gt; &lt;li class=\"toc-item\"&gt; &lt;a href=\"&lt;%- url_for(link.path) %&gt;\" target=\"&lt;%- link.path.startsWith('http') ? '_blank' : '_self' %&gt;\"&gt; &lt;%= link.name %&gt; &lt;/a&gt; &lt;/li&gt; &lt;% &#125; %&gt; &lt;/ol&gt; &lt;/div&gt;&lt;/nav&gt;&lt;div id=\"site-process\"&gt;&lt;/div&gt;4.2 æŠŠOceanä¸»é¢˜ä¸­sourceä¸­cssçš„feathericonç§»åˆ°è‡ªå·±ä¸»é¢˜çš„cssç›®å½•ä¸‹4.3 åœ¨cssç›®å½•ä¸‹åˆ›å»º_feathericon.stylæ–‡ä»¶12345678910111213141516171819202122232425262728293031323334353637@charset \"utf-8\"//---------------------------------------------------------------------------// feathericon//---------------------------------------------------------------------------//// variablesfeathericon-font-path = 'feathericon/' !default;//// font path@font-face font-family feathericon font-weight normal font-style normal src: url(feathericon-font-path + 'feathericon.eot') src: url(feathericon-font-path + 'feathericon.eot?#iefix') format('embedded-opentype'), url(feathericon-font-path + 'feathericon.woff') format('woff'), url(feathericon-font-path + 'feathericon.ttf') format('truetype'), url(feathericon-font-path + 'feathericon.svg') format('svg');//// feathericon//.fe display inline-block font normal normal normal 16px feathericon font-size inherit text-rendering auto -webkit-font-smoothing antialiased -moz-osx-font-smoothing grayscale.fe-search:before &#123; content: \"\\f14e\"; &#125;.fe-search-minus:before &#123; content: \"\\f16a\"; &#125;.fe-search-plus:before &#123; content: \"\\f16b\"; &#125;4.4 åœ¨cssç›®å½•ä¸‹åˆ›å»º_mixins.stylæ–‡ä»¶123456border-radius(n) -webkit-border-radius n -moz-border-radius n border-radius n// Media queries4.5 åœ¨cssç›®å½•ä¸‹åˆ›å»º_variables.stylæ–‡ä»¶123456789101112131415161718192021// Configsupport-for-ie = falsevendor-prefixes = webkit moz ms official// Fontsfont-size-browser = 62.5%font-size-base = 1.4remfont-family-base = \"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", \"å¾®è½¯é›…é»‘\", Arial, sans-seriffont-line-height = 1.7// Colorssea = #1e3e3ffroth-light = #f4f4f4white = #ffffffsand-light = #9c8079sand = #9e6a4d// Borderborder-radius = 0.4remborder-width = 0.1remborder-color = froth4.6 åœ¨cssç›®å½•ä¸‹åˆ›å»ºstyle.stylæ–‡ä»¶123456789101112131415161718192021222324252627@import &quot;_variables&quot;@import &quot;_feathericon&quot;//@import &quot;_normalize&quot;@import &quot;_mixins&quot;@import &quot;search&quot;*,*::before*::after box-sizing border-boxhtml font-size font-size-browserbody background-color body-background font-family font-family-base font-size font-size-base line-height font-line-height color body-color padding 0 margin 0 overflow-x hidden text-size-adjust: 100% ::selection background sea-lighter color froth4.7 ä¿®æ”¹header.jsæ–‡ä»¶(æ›¿æ¢æ‰æ‰€æœ‰å†…å®¹)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162(function ($) &#123; // Search ------------ var $searchWrap = $('.search-form-wrap'), isSearchAnim = false, searchAnimDuration = 200; var startSearchAnim = function () &#123; isSearchAnim = true; &#125;; var stopSearchAnim = function (callback) &#123; setTimeout(function () &#123; isSearchAnim = false; callback &amp;&amp; callback(); &#125;, searchAnimDuration); &#125;; $('.nav-item-search').on('click', function () &#123; if (isSearchAnim) return; startSearchAnim(); $searchWrap.addClass('on'); stopSearchAnim(function () &#123; $('.local-search-input').focus(); &#125;); &#125;); $(document).mouseup(function (e) &#123; var _con = $('.local-search'); if (!_con.is(e.target) &amp;&amp; _con.has(e.target).length === 0) &#123; $searchWrap.removeClass('on'); &#125; &#125;); // ç§»åŠ¨è®¾å¤‡ä¾¦æµ‹ var isMobile = &#123; Android: function () &#123; return navigator.userAgent.match(/Android/i); &#125;, BlackBerry: function () &#123; return navigator.userAgent.match(/BlackBerry/i); &#125;, iOS: function () &#123; return navigator.userAgent.match(/iPhone|iPad|iPod/i); &#125;, Opera: function () &#123; return navigator.userAgent.match(/Opera Mini/i); &#125;, Windows: function () &#123; return navigator.userAgent.match(/IEMobile/i); &#125;, any: function () &#123; return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows()); &#125; &#125;; // å»ºè®®åœ¨ç§»åŠ¨ç«¯ä¸åˆå§‹åŒ–ï¼Œå…¶å® /search.xml æ–‡ä»¶è¿˜æŒºå¤§çš„ï¼Œ if ($('.local-search').size() &amp;&amp; !isMobile.any()) &#123; $.getScript('/js/search.js', function () &#123; searchFunc(\"/search.xml\", 'local-search-input', 'local-search-result'); &#125;); &#125; // Share ------------ $('body').on('click', function () &#123; $('.article-share-box.on').removeClass('on'); &#125;).on('click', '.article-share-link', function (e) &#123; e.stopPropagation(); var $this = $(this), url = $this.attr('data-url'), encodedUrl = encodeURIComponent(url), id = 'article-share-box-' + $this.attr('data-id'), offset = $this.offset(); if ($('#' + id).length) &#123; var box = $('#' + id); if (box.hasClass('on')) &#123; box.removeClass('on'); return; &#125; &#125; else &#123; var html = [ '&lt;div id=\"' + id + '\" class=\"article-share-box\"&gt;', '&lt;input class=\"article-share-input\" value=\"' + url + '\"&gt;', '&lt;div class=\"article-share-links\"&gt;', '&lt;a href=\"https://twitter.com/intent/tweet?url=' + encodedUrl + '\" class=\"article-share-twitter\" target=\"_blank\" title=\"Twitter\"&gt;&lt;/a&gt;', '&lt;a href=\"https://www.facebook.com/sharer.php?u=' + encodedUrl + '\" class=\"article-share-facebook\" target=\"_blank\" title=\"Facebook\"&gt;&lt;/a&gt;', '&lt;a href=\"http://pinterest.com/pin/create/button/?url=' + encodedUrl + '\" class=\"article-share-pinterest\" target=\"_blank\" title=\"Pinterest\"&gt;&lt;/a&gt;', '&lt;a href=\"https://plus.google.com/share?url=' + encodedUrl + '\" class=\"article-share-google\" target=\"_blank\" title=\"Google+\"&gt;&lt;/a&gt;', '&lt;/div&gt;', '&lt;/div&gt;' ].join(''); var box = $(html); $('body').append(box); &#125; $('.article-share-box.on').hide(); box.css(&#123; top: offset.top + 25, left: offset.left &#125;).addClass('on'); &#125;).on('click', '.article-share-box', function (e) &#123; e.stopPropagation(); &#125;).on('click', '.article-share-box-input', function () &#123; $(this).select(); &#125;).on('click', '.article-share-box-link', function (e) &#123; e.preventDefault(); e.stopPropagation(); window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450'); &#125;); // fancybox if ($.fancybox) &#123; $('[data-fancybox]').fancybox(&#123; protect: true &#125;); &#125; // lazyload //$(\".lazy\").lazyload(); // $(document).ready(function ($) &#123; $(\".anchor\").click(function (event) &#123; event.preventDefault(); $('html,body').animate(&#123;scrollTop: $(this.hash).offset().top&#125;, 500); &#125;); &#125;); // Mobile nav var $content = $('.content'), $sidebar = $('.sidebar'), isMobileNavAnim = false, mobileNavAnimDuration = 200; var startMobileNavAnim = function () &#123; isMobileNavAnim = true; &#125;; var stopMobileNavAnim = function () &#123; setTimeout(function () &#123; isMobileNavAnim = false; &#125;, mobileNavAnimDuration); &#125;; $('.navbar-toggle').on('click', function () &#123; if (isMobileNavAnim) return; startMobileNavAnim(); $content.toggleClass('on'); $sidebar.toggleClass('on'); stopMobileNavAnim(); &#125;); $($content).on('click', function () &#123; if (isMobileNavAnim || !$content.hasClass('on')) return; $content.removeClass('on'); $sidebar.removeClass('on'); &#125;);&#125;)(jQuery);4.8 å¼•å…¥jquery-2.0.3.min.js4.9 åˆ›å»ºsearch.jsæ–‡ä»¶123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127// A local search script with the help of [hexo-generator-search](https://github.com/PaicHyperionDev/hexo-generator-search)// Copyright (C) 2015 // Joseph Pan &lt;http://github.com/wzpan&gt;// Shuhao Mao &lt;http://github.com/maoshuhao&gt;// This library is free software; you can redistribute it and/or modify// it under the terms of the GNU Lesser General Public License as// published by the Free Software Foundation; either version 2.1 of the// License, or (at your option) any later version.// // This library is distributed in the hope that it will be useful, but// WITHOUT ANY WARRANTY; without even the implied warranty of// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU// Lesser General Public License for more details.// // You should have received a copy of the GNU Lesser General Public// License along with this library; if not, write to the Free Software// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA// 02110-1301 USA// var searchFunc = function (path, search_id, content_id) &#123; 'use strict'; var BTN = \"&lt;button type='button' class='local-search-close' id='local-search-close'&gt;&lt;/button&gt;\"; $.ajax(&#123; url: path, dataType: \"xml\", success: function (xmlResponse) &#123; // get the contents from search data var datas = $(\"entry\", xmlResponse).map(function () &#123; return &#123; title: $(\"title\", this).text(), content: $(\"content\", this).text(), url: $(\"url\", this).text() &#125;; &#125;).get(); var $input = document.getElementById(search_id); var $resultContent = document.getElementById(content_id); $input.addEventListener('input', function () &#123; var str = '&lt;ul class=\"search-result-list\"&gt;'; var keywords = this.value.trim().toLowerCase().split(/[\\s]+/); $resultContent.innerHTML = \"\"; if (this.value.trim().length &lt;= 0) &#123; return; &#125; // perform local searching datas.forEach(function (data) &#123; var isMatch = true; // var content_index = []; if (!data.title || data.title.trim() === '') &#123; data.title = \"Untitled\"; &#125; var data_title = data.title.trim().toLowerCase(); var data_content = data.content.trim().replace(/&lt;[^&gt;]+&gt;/g, \"\").toLowerCase(); var data_url = data.url; var index_title = -1; var index_content = -1; var first_occur = -1; // only match artiles with not empty contents if (data_content !== '') &#123; keywords.forEach(function (keyword, i) &#123; index_title = data_title.indexOf(keyword); index_content = data_content.indexOf(keyword); if (index_title &lt; 0 &amp;&amp; index_content &lt; 0) &#123; isMatch = false; &#125; else &#123; if (index_content &lt; 0) &#123; index_content = 0; &#125; if (i == 0) &#123; first_occur = index_content; &#125; // content_index.push(&#123;index_content:index_content, keyword_len:keyword_len&#125;); &#125; &#125;); &#125; else &#123; isMatch = false; &#125; // show search results if (isMatch) &#123; str += \"&lt;li&gt;&lt;a href='\" + data_url + \"' class='search-result-title'&gt;\" + data_title + \"&lt;/a&gt;\"; var content = data.content.trim().replace(/&lt;[^&gt;]+&gt;/g, \"\"); if (first_occur &gt;= 0) &#123; // cut out 100 characters var start = first_occur - 20; var end = first_occur + 80; if (start &lt; 0) &#123; start = 0; &#125; if (start == 0) &#123; end = 100; &#125; if (end &gt; content.length) &#123; end = content.length; &#125; var match_content = content.substr(start, end); // highlight all keywords keywords.forEach(function (keyword) &#123; var regS = new RegExp(keyword, \"gi\"); match_content = match_content.replace(regS, \"&lt;em class=\\\"search-keyword\\\"&gt;\" + keyword + \"&lt;/em&gt;\"); &#125;); str += \"&lt;p class=\\\"search-result\\\"&gt;\" + match_content + \"...&lt;/p&gt;\" &#125; str += \"&lt;/li&gt;\"; &#125; &#125;); str += \"&lt;/ul&gt;\"; if (str.indexOf('&lt;li&gt;') === -1) &#123; return $resultContent.innerHTML = BTN + \"&lt;div class=\\\"search-result-empty\\\"&gt;&lt;p&gt;&lt;i class=\\\"fe fe-tired\\\"&gt;&lt;/i&gt; æ²¡æœ‰æ‰¾åˆ°å†…å®¹ï¼Œæ›´æ¢ä¸‹æœç´¢è¯è¯•è¯•å§~&lt;p&gt;&lt;/div&gt;\"; &#125; $resultContent.innerHTML = BTN + str; &#125;); &#125; &#125;); $(document).on('click', '#local-search-close', function () &#123; $('#local-search-input').val(''); $('#local-search-result').html(''); &#125;);&#125;;4.10 æœ€åä¿®æ”¹head.ejsæ–‡ä»¶,å¼•å…¥jså’Œcssäº”. æ·»åŠ ç½®é¡¶åŠŸèƒ½5.1 åœ¨hexoç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤123npm uninstall hexo-generator-index --savenpm install hexo-generator-index-pin-top --save5.2 åœ¨index.ejsåŠ å…¥ä»¥ä¸‹ä»£ç 1234&lt;% if(psg.top === true) &#123;%&gt; &lt;i class=&quot;fa fa-thumb-tack&quot;&gt;&lt;/i&gt; &lt;font color=7D26CD&gt;ç½®é¡¶&lt;/font&gt; |&lt;% &#125; %&gt;5.3 åœ¨éœ€è¦ç½®é¡¶çš„åšæ–‡ä¸­æ·»åŠ 12top: true---å…­. ä½¿ç”¨hexo-neatå‹ç¼©é¡µé¢6.1 å®‰è£…hexo-neatæ’ä»¶1npm install hexo-neat --save6.2 åœ¨ç«™ç‚¹_config.ymlé…ç½®æ–‡ä»¶ä¸­æ·»åŠ é…ç½®12345678910111213141516171819202122# hexo-neat# åšæ–‡å‹ç¼©neat_enable: true# å‹ç¼©htmlneat_html: enable: true exclude:# å‹ç¼©css: è¿™é‡Œåªæ˜¯å‹ç¼©é¡µé¢çš„css,å¦‚æœæ˜¯åœ¨sourceç›®å½•ä¸‹çš„cssè¦åœ¨excludeç§»é™¤æ‰,å¦åˆ™å‹ç¼©åä¼šç›´æ¥å˜æˆä¸€ä¸ªç©ºæ–‡ä»¶ neat_css: enable: true exclude: - &apos;**/*.min.css&apos;# å‹ç¼©js:(åŒcssè¯´æ˜)neat_js: enable: true mangle: true output: compress: exclude: - &apos;**/*.min.js&apos; - &apos;**/jquery.fancybox.pack.js&apos; - &apos;**/index.js&apos;","categories":[{"name":"Hexoä¹‹çæŠ˜è…¾ç³»åˆ—","slug":"Hexoä¹‹çæŠ˜è…¾ç³»åˆ—","permalink":"http://yoursite.com/categories/Hexoä¹‹çæŠ˜è…¾ç³»åˆ—/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://yoursite.com/tags/Hexo/"},{"name":"åšå®¢","slug":"åšå®¢","permalink":"http://yoursite.com/tags/åšå®¢/"}],"author":"å¢å›½å³¥"},{"title":"docker-å®‰è£…(CentOS7)","slug":"Untitled","date":"2019-03-27T09:24:00.000Z","updated":"2019-05-17T07:19:45.341Z","comments":true,"path":"2019/03/27/Untitled/","link":"","permalink":"http://yoursite.com/2019/03/27/Untitled/","excerpt":"CentOS7dockerå®‰è£…æ­¥éª¤","text":"CentOS7dockerå®‰è£…æ­¥éª¤1.å®‰è£…éœ€è¦çš„è½¯ä»¶åŒ…:yum-utilæä¾›yum-config-manageråŠŸèƒ½1yum install -y yum-utils device-mapper-persistent-data lvm2ps:å¦‚æœå®‰è£…è¿‡docker,éœ€è¦é‡è£…å¯ä»¥å…ˆåˆ é™¤åœ¨è£…:12345// æŸ¥çœ‹æ˜¯å¦æœ‰å®‰è£…dockeryum list installed | grep docker //æœ‰åˆ™åˆ é™¤å¯¹åº”çš„åŒ…yum remove docker ......1.å®‰è£…éœ€è¦çš„è½¯ä»¶åŒ…:yum-utilæä¾›yum-config-manageråŠŸèƒ½1yum install -y yum-utils device-mapper-persistent-data lvm2ps:å¦‚æœå®‰è£…è¿‡docker,éœ€è¦é‡è£…å¯ä»¥å…ˆåˆ é™¤åœ¨è£…:12345// æŸ¥çœ‹æ˜¯å¦æœ‰å®‰è£…dockeryum list installed | grep docker //æœ‰åˆ™åˆ é™¤å¯¹åº”çš„åŒ…yum remove docker ......2.è®¾ç½®yumæº(é˜¿é‡Œæº)1yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo3.æŸ¥çœ‹yumåº“ä¸­æœ‰æ²¡æœ‰docker-ce1yum list | grep docker-ce4.å®‰è£…docker1yum install -y docker-ce5.å¦‚æœéœ€è¦è®¾ç½®å¼€æœºè‡ªåŠ¨å¯åŠ¨12345//å…ˆå¯åŠ¨dockeræœåŠ¡ç«¯systemctl start docker//å¯åŠ¨dockeræœåŠ¡å¼€æœºè‡ªå¯systemctl enable docker6.æ ¡éªŒdockeræ˜¯å¦å¯åŠ¨æˆåŠŸ1docker versionå¸¸è§é—®é¢˜: æ™®é€šç”¨æˆ·è¿è¡Œdocker å‘½ä»¤ä¼šæŠ¥é”™:ç”±äºdocker daemonéœ€è¦ç»‘å®šåˆ°ä¸»æœºçš„ Unix socket è€Œä¸æ˜¯æ™®é€šçš„TCPç«¯å£,è€Œ Unix socket çš„å®¿ä¸»ä¸º root ç”¨æˆ·,å¦‚æœå…¶ä»–ç”¨æˆ·ä½¿ç”¨ docker å‘½ä»¤åªæœ‰åœ¨å‘½ä»¤é’±æ·»åŠ  sudo æ‰èƒ½æ‰§è¡ŒæˆåŠŸ,å¦‚æœä¸æƒ³æ¯æ¬¡ä½¿ç”¨ docker å‘½ä»¤æ˜¯è¿˜è¦å¤šæ•² sudo ,å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ–¹æ³•è§£å†³:s1.åˆ‡æ¢åˆ° root ç”¨æˆ·2.æŠŠæ™®é€šç”¨æˆ·æ·»åŠ åˆ° docker ç»„3.å†åˆ‡æ¢åˆ°&lt;æ™®é€šç”¨æˆ·&gt;4.éªŒè¯ docker å‘½ä»¤æ˜¯å¦æˆåŠŸ","categories":[{"name":"dockerå®¹å™¨ç³»åˆ—","slug":"dockerå®¹å™¨ç³»åˆ—","permalink":"http://yoursite.com/categories/dockerå®¹å™¨ç³»åˆ—/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://yoursite.com/tags/docker/"}],"author":"å¢å›½å³¥"}]}