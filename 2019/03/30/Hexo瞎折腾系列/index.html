<!-- build time:Mon Sep 16 2019 15:53:34 GMT+0800 (China Standard Time) --><!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="author" content="Dong Yuanxin"><title>Hexo之瞎折腾系列 | Luguozheng</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="Hexo之瞎折腾系列,博客,Hexo,"><meta name="description" content="该文档记录Theme-AD主题个人博客部署到云服务器以及记录新增的一些小功能~！Theme-AD主题具体搭建步骤可以参考：https://godbmw.com/tags/Hexo/Let’s Go~!"><script src="//cdn.jsdelivr.net/npm/leancloud-storage@3.11.1/dist/av-min.js" async></script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script src="//unpkg.com/valine/dist/Valine.min.js" async></script><script>window.AD_CONFIG={leancloud:{appid:"ocgtDtRN3Xyzytc5vbtpJJUM-gzGzoHsz",appkey:"lDrQAIWd40HOkpAStQbuLTaC",comment:!0,count:!0},welcome:{enable:!1,interval:30},start_time:"2019-3-29",passwords:["eb4d6a57c88d1e0b941646cdc244c926be77f88fd66748238d9c5819b6d99160"],is_post:!0,lock:!1,author:"卢国峥",share:{twitter:!0,facebook:!0,weibo:!0,qq:!0,wechat:!0},mathjax:!0,page_type:"",root:"/"}</script><script src="/js/jquery-2.0.3.min.js"></script><script src="/vendor/sha256.min.js"></script><script src="/js/auth.js"></script><script src="/js/index.js"></script><script src="/vendor/qrcode.min.js"></script><script src="/js/search.js"></script><script src="/js/header.js"></script><script src="/js/fancybox/jquery.fancybox.js"></script><script src="/js/fancyBox.js"></script><script src="/js/clipboard.min.js"></script><script src="/js/cpbutt.js"></script><link rel="icon" href="/images/favicon.ico"><link rel="apple-touch-icon" href="/images/touch-icon.png"><link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><link href="/js/fancybox/jquery.fancybox.css" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/styles/components/highlight/highlight.css"><link rel="stylesheet" href="/css/style.css"></head><body><header class="site-header"><div class="site-header-brand"><span class="site-header-brand-title"><a href="/">LGZ</a> </span><span class="site-header-brand-motto">| 你可以抱怨，但你不能仅限于抱怨</span></div><div class="site-header-right"><nav class="site-header-navigation"><a href="/" target="_self">首页</a> <a href="/archives/" target="_self">归档</a> <a href="/tags/" target="_self">标签</a> <a href="/categories/" target="_self">分类</a></nav><nav class="navbar"><a href="#" class="nav-item-link nav-item-search" title="搜索"><i class="fe fe-search"></i> 搜索</a></nav><div class="site-header-btn"><a href="https://github.com/lgz8370?tab=repositories" target="_blank" id="site-github"><i class="fa fa-github-alt"></i></a></div></div><div class="search-form-wrap"><div class="local-search local-search-plugin"><input type="search" id="local-search-input" class="local-search-input" placeholder="Search..."><div id="local-search-result" class="local-search-result"></div></div></div></header><nav class="table-content" id="site-nav"><div class="table-content-title"><span>导航</span></div><div class="table-content-main"><ol class="toc"><li class="toc-item"><a href="/" target="_self">首页</a></li><li class="toc-item"><a href="/archives/" target="_self">归档</a></li><li class="toc-item"><a href="/tags/" target="_self">标签</a></li><li class="toc-item"><a href="/categories/" target="_self">分类</a></li></ol></div></nav><div id="site-process"></div><main><div class="passage"><div class="passage-meta"><span><i class="fa fa-calendar"></i>2019-03-30 </span><span>| <a href="/categories/Hexo之瞎折腾系列/"><i class="fa fa-bookmark"></i>Hexo之瞎折腾系列</a> </span><span>| <i class="fa fa-unlock-alt"></i>UNLOCK</span></div><h1 class="passage-title">Hexo之瞎折腾系列</h1><article class="passage-article"><br>Theme-AD主题具体搭建步骤可以参考：<a href="https://godbmw.com/tags/Hexo/" target="_blank" rel="noopener">https://godbmw.com/tags/Hexo/</a><p></p><h5 id="一-云服务器部署Hexo"><a href="#一-云服务器部署Hexo" class="headerlink" title="一.云服务器部署Hexo"></a>一.云服务器部署Hexo</h5><p>参考文档：<a href="https://www.jianshu.com/p/b2e47ec9359d" target="_blank" rel="noopener">https://www.jianshu.com/p/b2e47ec9359d</a></p><h6 id="1-1-后台运行Hexo"><a href="#1-1-后台运行Hexo" class="headerlink" title="1.1 后台运行Hexo"></a>1.1 后台运行<code>Hexo</code></h6><p>部署到云服务器后如果还是在<code>hexo</code>根目录下使用命令启动，会有个问题就是：当你断开服务器连接之后hexo服务就会停止，无法访问。</p><p>那么可以用pm2启动<code>hexo</code>，这样hexo就在后台运行了，就算断开服务器连接也不会停止</p><h6 id="1-2-安装pm2"><a href="#1-2-安装pm2" class="headerlink" title="1.2 安装pm2"></a>1.2 安装<code>pm2</code></h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g pm2</span><br></pre></td></tr></table></figure><p>ps：如果感兴趣也可以了解下<code>Linux</code>的<code>nohup</code>命令</p><h6 id="1-2-在hexo创建run-js文件"><a href="#1-2-在hexo创建run-js文件" class="headerlink" title="1.2 在hexo创建run.js文件"></a>1.2 在<code>hexo</code>创建<code>run.js</code>文件</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//run.js</span></span><br><span class="line"><span class="keyword">const</span> &#123; exec &#125; = <span class="built_in">require</span>(<span class="string">'child_process'</span>)</span><br><span class="line">exec(<span class="string">'hexo server'</span>,(error, stdout, stderr) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span>(error)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`exec error: <span class="subst">$&#123;error&#125;</span>`</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`stdout: <span class="subst">$&#123;stdout&#125;</span>`</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`stderr: <span class="subst">$&#123;stderr&#125;</span>`</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h6 id="1-3-运行脚本"><a href="#1-3-运行脚本" class="headerlink" title="1.3 运行脚本"></a>1.3 运行脚本</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 start run.js</span><br></pre></td></tr></table></figure><h5 id="二-为自己的博客添加萌宠"><a href="#二-为自己的博客添加萌宠" class="headerlink" title="二.为自己的博客添加萌宠"></a>二.为自己的博客添加萌宠</h5><p>参考博客：<a href="https://blog.csdn.net/u010820857/article/details/82270736" target="_blank" rel="noopener">https://blog.csdn.net/u010820857/article/details/82270736</a></p><h6 id="2-1-安装模块"><a href="#2-1-安装模块" class="headerlink" title="2.1 安装模块"></a>2.1 安装模块</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure><h6 id="2-2-选择想要的萌宠"><a href="#2-2-选择想要的萌宠" class="headerlink" title="2.2 选择想要的萌宠"></a>2.2 选择想要的萌宠</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">live2d-widget-model-chitose</span><br><span class="line">live2d-widget-model-epsilon2_1</span><br><span class="line">live2d-widget-model-gf</span><br><span class="line">live2d-widget-model-haru/01 (use npm install --save live2d-widget-model-haru)</span><br><span class="line">live2d-widget-model-haru/02 (use npm install --save live2d-widget-model-haru)</span><br><span class="line">live2d-widget-model-haruto</span><br><span class="line">live2d-widget-model-hibiki</span><br><span class="line">live2d-widget-model-hijiki</span><br><span class="line">live2d-widget-model-izumi</span><br><span class="line">live2d-widget-model-koharu</span><br><span class="line">live2d-widget-model-miku</span><br><span class="line">live2d-widget-model-ni-j</span><br><span class="line">live2d-widget-model-nico</span><br><span class="line">live2d-widget-model-nietzsche</span><br><span class="line">live2d-widget-model-nipsilon</span><br><span class="line">live2d-widget-model-nito</span><br><span class="line">live2d-widget-model-shizuku</span><br><span class="line">live2d-widget-model-tororo</span><br><span class="line">live2d-widget-model-tsumiki</span><br><span class="line">live2d-widget-model-unitychan</span><br><span class="line">live2d-widget-model-wanko</span><br><span class="line">live2d-widget-model-z16</span><br></pre></td></tr></table></figure><h6 id="2-3-选择好之后还需要安装"><a href="#2-3-选择好之后还需要安装" class="headerlink" title="2.3 选择好之后还需要安装"></a>2.3 选择好之后还需要安装</h6><p>例如我选择的是：<code>live2d-widget-model-z16</code><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install live2d-widget-model-z16</span><br></pre></td></tr></table></figure><p></p><h6 id="2-4-最后一步配置Hexo的主配置文件-config-yml"><a href="#2-4-最后一步配置Hexo的主配置文件-config-yml" class="headerlink" title="2.4 最后一步配置Hexo的主配置文件_config.yml"></a>2.4 最后一步配置<code>Hexo</code>的主配置文件<code>_config.yml</code></h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">live2d:</span><br><span class="line">  enable: <span class="literal">true</span></span><br><span class="line">  scriptFrom: local</span><br><span class="line">  model:</span><br><span class="line">    use: live2d-widget-model-z16 <span class="comment">// 这里改为自己选择的萌宠 其他参数可以根据自己喜好看着修改</span></span><br><span class="line">  display:</span><br><span class="line">    position: right</span><br><span class="line">    width: <span class="number">150</span></span><br><span class="line">    height: <span class="number">300</span></span><br><span class="line">  mobile:</span><br><span class="line">    show: <span class="literal">true</span></span><br></pre></td></tr></table></figure><h5 id="三-hexo部署到GitHub后绑定域名-未备案域名也可以"><a href="#三-hexo部署到GitHub后绑定域名-未备案域名也可以" class="headerlink" title="三. hexo部署到GitHub后绑定域名(未备案域名也可以)"></a>三. <code>hexo</code>部署到<code>GitHub</code>后绑定域名(未备案域名也可以)</h5><h6 id="3-1-GitHub相关配置"><a href="#3-1-GitHub相关配置" class="headerlink" title="3.1 GitHub相关配置"></a>3.1 <code>GitHub</code>相关配置</h6><p>在根目录下添加<code>CNAME</code>文件(名称大写),在文件中输入域名<br>CNAME 文件:<br><img src="/images/pasted-4.png" alt="filename already exists, renamed"></p><p>文件内容就是你的域名:<br><img src="/images/pasted-5.png" alt="filename already exists, renamed"></p><p>在设置中配置域名:<br><img src="/images/pasted-6.png" alt="filename already exists, renamed"></p><p><img src="/images/pasted-9.png" alt="filename already exists, renamed"></p><h6 id="3-2-修改域名解析记录"><a href="#3-2-修改域名解析记录" class="headerlink" title="3.2 修改域名解析记录"></a>3.2 修改域名解析记录</h6><p>按照下面添加域名解析记录:<br><img src="/images/pasted-10.png" alt="filename already exists, renamed"><br>ps:截图中记录值的<code>ip</code>是通过<code>ping`自己的</code>xxx.github.io<code></code>得到</p><h5 id="四-新增站内搜索功能"><a href="#四-新增站内搜索功能" class="headerlink" title="四. 新增站内搜索功能"></a>四. 新增站内搜索功能</h5><p>原本<code>Theme-AD</code>主题是没有站内搜索的,本站点移植的是<a href="https://zhwangart.github.io/" target="_blank" rel="noopener">Ocean</a>主题的站内搜索功能.</p><h6 id="4-1-修改header-ejs文件"><a href="#4-1-修改header-ejs文件" class="headerlink" title="4.1 修改header.ejs文件"></a>4.1 修改<code>header.ejs</code>文件</h6><p>把原本主题的搜索框移除,在相对应位置加入<code>搜索按钮</code>和<code>搜索框</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&lt;header <span class="class"><span class="keyword">class</span></span>=<span class="string">"site-header"</span>&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"site-header-brand"</span>&gt;</span><br><span class="line">    &lt;% <span class="keyword">if</span>(theme.nav_name) &#123; %&gt;</span><br><span class="line">      &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"site-header-brand-title"</span>&gt;</span><br><span class="line">        &lt;a href=<span class="string">"&lt;%- url_for('/') %&gt;"</span>&gt;<span class="xml"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">theme.nav_name</span> %&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">      &lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">    &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="regexp">    &lt;% if(theme.motto) &#123; %&gt;</span></span><br><span class="line"><span class="regexp">      &lt;span class="site-header-brand-motto"&gt; | &lt;%- theme.motto %&gt;&lt;/</span>span&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;div class="site-header-right"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;nav class="site-header-navigation"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;% for(let link of theme.nav) &#123; %&gt;</span></span><br><span class="line"><span class="regexp">        &lt;a href="&lt;%- url_for(link.path) %&gt;" target="&lt;%- link.path.startsWith('http') ? '_blank' : '_self' %&gt;"&gt;&lt;%= link.name%&gt;&lt;/</span>a&gt;</span><br><span class="line">      &lt;% &#125; %&gt;</span><br><span class="line">    &lt;<span class="regexp">/nav&gt;</span></span><br><span class="line"><span class="regexp">    </span></span><br><span class="line"><span class="regexp">    &lt;!-- 搜索按钮 --&gt;</span></span><br><span class="line"><span class="regexp">    &lt;nav class="navbar"&gt;</span></span><br><span class="line"><span class="regexp">        &lt;a href="#" class="nav-item-link nav-item-search" title="&lt;%= __('搜索') %&gt;"&gt;</span></span><br><span class="line"><span class="regexp">          &lt;i class="fe fe-search"&gt;&lt;/i</span>&gt;</span><br><span class="line">          &lt;%- theme.search_text %&gt;</span><br><span class="line">        &lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>nav&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"site-header-btn"</span>&gt;</span><br><span class="line">      &lt;% <span class="keyword">if</span>(theme.github) &#123; %&gt;</span><br><span class="line">        &lt;a href=<span class="string">"&lt;%- theme.github %&gt;"</span> target=<span class="string">"_blank"</span> id=<span class="string">"site-github"</span>&gt;</span><br><span class="line">          &lt;i <span class="class"><span class="keyword">class</span></span>=<span class="string">"fa fa-github-alt"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">        &lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">      &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>dev&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;!-- 搜索框 --&gt;</span></span><br><span class="line"><span class="regexp">&lt;div class="search-form-wrap"&gt;</span></span><br><span class="line"><span class="regexp">  &lt;div class="local-search local-search-plugin"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;input type="search" id="local-search-input" class="local-search-input" placeholder="Search..."&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div id="local-search-result" class="local-search-result"&gt;&lt;/</span>div&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/header&gt;</span></span><br><span class="line"><span class="regexp">&lt;nav class="table-content" id="site-nav"&gt;</span></span><br><span class="line"><span class="regexp">  &lt;div class="table-content-title"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;span&gt;导航&lt;/</span>span&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;div class="table-content-main"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;ol class="toc"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;% for(let link of theme.nav) &#123; %&gt;</span></span><br><span class="line"><span class="regexp">        &lt;li class="toc-item"&gt;</span></span><br><span class="line"><span class="regexp">          &lt;a href="&lt;%- url_for(link.path) %&gt;" target="&lt;%- link.path.startsWith('http') ? '_blank' : '_self' %&gt;"&gt;</span></span><br><span class="line"><span class="regexp">            &lt;%= link.name %&gt;</span></span><br><span class="line"><span class="regexp">          &lt;/</span>a&gt;</span><br><span class="line">        &lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">      &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>ol&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>nav&gt;</span><br><span class="line">&lt;div id=<span class="string">"site-process"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h6 id="4-2-把Ocean主题中source中css的feathericon移到自己主题的css目录下"><a href="#4-2-把Ocean主题中source中css的feathericon移到自己主题的css目录下" class="headerlink" title="4.2 把Ocean主题中source中css的feathericon移到自己主题的css目录下"></a>4.2 把<a href="https://zhwangart.github.io/" target="_blank" rel="noopener">Ocean</a>主题中<code>source</code>中<code>css</code>的<code>feathericon</code>移到自己主题的<code>css</code>目录下</h6><p><img src="/images/pasted-19.png" alt="filename already exists, renamed"></p><h6 id="4-3-在css目录下创建-feathericon-styl文件"><a href="#4-3-在css目录下创建-feathericon-styl文件" class="headerlink" title="4.3 在css目录下创建_feathericon.styl文件"></a>4.3 在<code>css</code>目录下创建<code>_feathericon.styl</code>文件</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">charset</span> <span class="string">"utf-8"</span></span><br><span class="line"></span><br><span class="line">//---------------------------------------------------------------------------</span><br><span class="line">// feathericon</span><br><span class="line">//---------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">//</span><br><span class="line">// variables</span><br><span class="line">feathericon-font-path = <span class="string">'feathericon/'</span> !default;</span><br><span class="line"></span><br><span class="line">//</span><br><span class="line">// font path</span><br><span class="line">@<span class="keyword">font-face</span></span><br><span class="line">  <span class="selector-tag">font-family</span> <span class="selector-tag">feathericon</span></span><br><span class="line">  <span class="selector-tag">font-weight</span> <span class="selector-tag">normal</span></span><br><span class="line">  <span class="selector-tag">font-style</span> <span class="selector-tag">normal</span></span><br><span class="line">  src: url(feathericon-font-path + 'feathericon.eot')</span><br><span class="line">  src: url(feathericon-font-path + 'feathericon.eot?#iefix') format('embedded-opentype'),</span><br><span class="line">          url(feathericon-font-path + 'feathericon.woff') format('woff'),</span><br><span class="line">          url(feathericon-font-path + 'feathericon.ttf') format('truetype'),</span><br><span class="line">          url(feathericon-font-path + 'feathericon.svg') format('svg');</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//</span><br><span class="line">// feathericon</span><br><span class="line">//</span><br><span class="line"><span class="selector-class">.fe</span></span><br><span class="line">  <span class="selector-tag">display</span> <span class="selector-tag">inline-block</span></span><br><span class="line">  <span class="selector-tag">font</span> <span class="selector-tag">normal</span> <span class="selector-tag">normal</span> <span class="selector-tag">normal</span> 16<span class="selector-tag">px</span> <span class="selector-tag">feathericon</span></span><br><span class="line">  <span class="selector-tag">font-size</span> <span class="selector-tag">inherit</span></span><br><span class="line">  <span class="selector-tag">text-rendering</span> <span class="selector-tag">auto</span></span><br><span class="line">  <span class="selector-tag">-webkit-font-smoothing</span> <span class="selector-tag">antialiased</span></span><br><span class="line">  <span class="selector-tag">-moz-osx-font-smoothing</span> <span class="selector-tag">grayscale</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.fe-search</span><span class="selector-pseudo">:before</span> &#123; <span class="attribute">content</span>: <span class="string">"\f14e"</span>; &#125;</span><br><span class="line"><span class="selector-class">.fe-search-minus</span><span class="selector-pseudo">:before</span> &#123; <span class="attribute">content</span>: <span class="string">"\f16a"</span>; &#125;</span><br><span class="line"><span class="selector-class">.fe-search-plus</span><span class="selector-pseudo">:before</span> &#123; <span class="attribute">content</span>: <span class="string">"\f16b"</span>; &#125;</span><br></pre></td></tr></table></figure><h6 id="4-4-在css目录下创建-mixins-styl文件"><a href="#4-4-在css目录下创建-mixins-styl文件" class="headerlink" title="4.4 在css目录下创建_mixins.styl文件"></a>4.4 在<code>css</code>目录下创建<code>_mixins.styl</code>文件</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">border-radius</span>(<span class="selector-tag">n</span>)</span><br><span class="line">  <span class="selector-tag">-webkit-border-radius</span> <span class="selector-tag">n</span></span><br><span class="line">  <span class="selector-tag">-moz-border-radius</span> <span class="selector-tag">n</span></span><br><span class="line">  <span class="selector-tag">border-radius</span> <span class="selector-tag">n</span></span><br><span class="line"></span><br><span class="line">// Media queries</span><br></pre></td></tr></table></figure><h6 id="4-5-在css目录下创建-variables-styl文件"><a href="#4-5-在css目录下创建-variables-styl文件" class="headerlink" title="4.5 在css目录下创建_variables.styl文件"></a>4.5 在<code>css</code>目录下创建<code>_variables.styl</code>文件</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// Config</span><br><span class="line">support-for-ie = false</span><br><span class="line">vendor-prefixes = webkit moz ms official</span><br><span class="line"></span><br><span class="line">// Fonts</span><br><span class="line">font-size-browser = 62.5%</span><br><span class="line">font-size-base    = 1.4rem</span><br><span class="line">font-family-base  = "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif</span><br><span class="line">font-line-height  = 1.7</span><br><span class="line"></span><br><span class="line">// Colors</span><br><span class="line">sea           = #1e3e3f</span><br><span class="line">froth-light   = #f4f4f4</span><br><span class="line">white         = #ffffff</span><br><span class="line">sand-light    = #9c8079</span><br><span class="line">sand          = #9e6a4d</span><br><span class="line"></span><br><span class="line">// Border</span><br><span class="line">border-radius   = 0.4rem</span><br><span class="line">border-width    = 0.1rem</span><br><span class="line">border-color    = froth</span><br></pre></td></tr></table></figure><h6 id="4-6-在css目录下创建style-styl文件"><a href="#4-6-在css目录下创建style-styl文件" class="headerlink" title="4.6 在css目录下创建style.styl文件"></a>4.6 在<code>css</code>目录下创建<code>style.styl</code>文件</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;_variables&quot;</span><br><span class="line">@import &quot;_feathericon&quot;</span><br><span class="line">//@import &quot;_normalize&quot;</span><br><span class="line">@import &quot;_mixins&quot;</span><br><span class="line">@import &quot;search&quot;</span><br><span class="line"></span><br><span class="line">*,</span><br><span class="line">*::before</span><br><span class="line">*::after</span><br><span class="line">  box-sizing border-box</span><br><span class="line"></span><br><span class="line">html</span><br><span class="line">  font-size font-size-browser</span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  background-color body-background</span><br><span class="line">  font-family font-family-base</span><br><span class="line">  font-size font-size-base</span><br><span class="line">  line-height font-line-height</span><br><span class="line">  color body-color</span><br><span class="line">  padding 0</span><br><span class="line">  margin 0</span><br><span class="line">  overflow-x hidden</span><br><span class="line">  text-size-adjust: 100%</span><br><span class="line">  ::selection</span><br><span class="line">    background sea-lighter</span><br><span class="line">    color froth</span><br></pre></td></tr></table></figure><h6 id="4-7-修改header-js文件-替换掉所有内容"><a href="#4-7-修改header-js文件-替换掉所有内容" class="headerlink" title="4.7 修改header.js文件(替换掉所有内容)"></a>4.7 修改<code>header.js</code>文件(替换掉所有内容)</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">$</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Search ------------</span></span><br><span class="line">    <span class="keyword">var</span> $searchWrap = $(<span class="string">'.search-form-wrap'</span>),</span><br><span class="line">        isSearchAnim = <span class="literal">false</span>,</span><br><span class="line">        searchAnimDuration = <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> startSearchAnim = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        isSearchAnim = <span class="literal">true</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> stopSearchAnim = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            isSearchAnim = <span class="literal">false</span>;</span><br><span class="line">            callback &amp;&amp; callback();</span><br><span class="line">        &#125;, searchAnimDuration);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    $(<span class="string">'.nav-item-search'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isSearchAnim) <span class="keyword">return</span>;</span><br><span class="line">        startSearchAnim();</span><br><span class="line">        $searchWrap.addClass(<span class="string">'on'</span>);</span><br><span class="line">        stopSearchAnim(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            $(<span class="string">'.local-search-input'</span>).focus();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    $(<span class="built_in">document</span>).mouseup(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> _con = $(<span class="string">'.local-search'</span>);</span><br><span class="line">        <span class="keyword">if</span> (!_con.is(e.target) &amp;&amp; _con.has(e.target).length === <span class="number">0</span>) &#123;</span><br><span class="line">            $searchWrap.removeClass(<span class="string">'on'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 移动设备侦测</span></span><br><span class="line">    <span class="keyword">var</span> isMobile = &#123;</span><br><span class="line">        Android: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/Android/i</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        BlackBerry: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/BlackBerry/i</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        iOS: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/iPhone|iPad|iPod/i</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        Opera: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/Opera Mini/i</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        Windows: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> navigator.userAgent.match(<span class="regexp">/IEMobile/i</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        any: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// 建议在移动端不初始化，其实 /search.xml 文件还挺大的，</span></span><br><span class="line">    <span class="keyword">if</span> ($(<span class="string">'.local-search'</span>).size() &amp;&amp; !isMobile.any()) &#123;</span><br><span class="line">        $.getScript(<span class="string">'/js/search.js'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            searchFunc(<span class="string">"/search.xml"</span>, <span class="string">'local-search-input'</span>, <span class="string">'local-search-result'</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Share ------------</span></span><br><span class="line">    $(<span class="string">'body'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'.article-share-box.on'</span>).removeClass(<span class="string">'on'</span>);</span><br><span class="line">    &#125;).on(<span class="string">'click'</span>, <span class="string">'.article-share-link'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        e.stopPropagation();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> $<span class="keyword">this</span> = $(<span class="keyword">this</span>),</span><br><span class="line">            url = $<span class="keyword">this</span>.attr(<span class="string">'data-url'</span>),</span><br><span class="line">            encodedUrl = <span class="built_in">encodeURIComponent</span>(url),</span><br><span class="line">            id = <span class="string">'article-share-box-'</span> + $<span class="keyword">this</span>.attr(<span class="string">'data-id'</span>),</span><br><span class="line">            offset = $<span class="keyword">this</span>.offset();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ($(<span class="string">'#'</span> + id).length) &#123;</span><br><span class="line">            <span class="keyword">var</span> box = $(<span class="string">'#'</span> + id);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (box.hasClass(<span class="string">'on'</span>)) &#123;</span><br><span class="line">                box.removeClass(<span class="string">'on'</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">var</span> html = [</span><br><span class="line">                <span class="string">'&lt;div id="'</span> + id + <span class="string">'" class="article-share-box"&gt;'</span>,</span><br><span class="line">                <span class="string">'&lt;input class="article-share-input" value="'</span> + url + <span class="string">'"&gt;'</span>,</span><br><span class="line">                <span class="string">'&lt;div class="article-share-links"&gt;'</span>,</span><br><span class="line">                <span class="string">'&lt;a href="https://twitter.com/intent/tweet?url='</span> + encodedUrl + <span class="string">'" class="article-share-twitter" target="_blank" title="Twitter"&gt;&lt;/a&gt;'</span>,</span><br><span class="line">                <span class="string">'&lt;a href="https://www.facebook.com/sharer.php?u='</span> + encodedUrl + <span class="string">'" class="article-share-facebook" target="_blank" title="Facebook"&gt;&lt;/a&gt;'</span>,</span><br><span class="line">                <span class="string">'&lt;a href="http://pinterest.com/pin/create/button/?url='</span> + encodedUrl + <span class="string">'" class="article-share-pinterest" target="_blank" title="Pinterest"&gt;&lt;/a&gt;'</span>,</span><br><span class="line">                <span class="string">'&lt;a href="https://plus.google.com/share?url='</span> + encodedUrl + <span class="string">'" class="article-share-google" target="_blank" title="Google+"&gt;&lt;/a&gt;'</span>,</span><br><span class="line">                <span class="string">'&lt;/div&gt;'</span>,</span><br><span class="line">                <span class="string">'&lt;/div&gt;'</span></span><br><span class="line">            ].join(<span class="string">''</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> box = $(html);</span><br><span class="line">            $(<span class="string">'body'</span>).append(box);</span><br><span class="line">        &#125;</span><br><span class="line">        $(<span class="string">'.article-share-box.on'</span>).hide();</span><br><span class="line"></span><br><span class="line">        box.css(&#123;</span><br><span class="line">            top: offset.top + <span class="number">25</span>,</span><br><span class="line">            left: offset.left</span><br><span class="line">        &#125;).addClass(<span class="string">'on'</span>);</span><br><span class="line">    &#125;).on(<span class="string">'click'</span>, <span class="string">'.article-share-box'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        e.stopPropagation();</span><br><span class="line">    &#125;).on(<span class="string">'click'</span>, <span class="string">'.article-share-box-input'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="keyword">this</span>).select();</span><br><span class="line">    &#125;).on(<span class="string">'click'</span>, <span class="string">'.article-share-box-link'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        e.preventDefault();</span><br><span class="line">        e.stopPropagation();</span><br><span class="line"></span><br><span class="line">        <span class="built_in">window</span>.open(<span class="keyword">this</span>.href, <span class="string">'article-share-box-window-'</span> + <span class="built_in">Date</span>.now(), <span class="string">'width=500,height=450'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// fancybox</span></span><br><span class="line">    <span class="keyword">if</span> ($.fancybox) &#123;</span><br><span class="line">        $(<span class="string">'[data-fancybox]'</span>).fancybox(&#123;</span><br><span class="line">            protect: <span class="literal">true</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// lazyload</span></span><br><span class="line">    <span class="comment">//$(".lazy").lazyload();</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params">$</span>) </span>&#123;</span><br><span class="line">        $(<span class="string">".anchor"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">            event.preventDefault();</span><br><span class="line">            $(<span class="string">'html,body'</span>).animate(&#123;<span class="attr">scrollTop</span>: $(<span class="keyword">this</span>.hash).offset().top&#125;, <span class="number">500</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Mobile nav</span></span><br><span class="line">    <span class="keyword">var</span> $content = $(<span class="string">'.content'</span>),</span><br><span class="line">        $sidebar = $(<span class="string">'.sidebar'</span>),</span><br><span class="line">        isMobileNavAnim = <span class="literal">false</span>,</span><br><span class="line">        mobileNavAnimDuration = <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> startMobileNavAnim = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        isMobileNavAnim = <span class="literal">true</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> stopMobileNavAnim = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            isMobileNavAnim = <span class="literal">false</span>;</span><br><span class="line">        &#125;, mobileNavAnimDuration);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    $(<span class="string">'.navbar-toggle'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isMobileNavAnim) <span class="keyword">return</span>;</span><br><span class="line">        startMobileNavAnim();</span><br><span class="line">        $content.toggleClass(<span class="string">'on'</span>);</span><br><span class="line">        $sidebar.toggleClass(<span class="string">'on'</span>);</span><br><span class="line">        stopMobileNavAnim();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    $($content).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isMobileNavAnim || !$content.hasClass(<span class="string">'on'</span>)) <span class="keyword">return</span>;</span><br><span class="line">        $content.removeClass(<span class="string">'on'</span>);</span><br><span class="line">        $sidebar.removeClass(<span class="string">'on'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;)(jQuery);</span><br></pre></td></tr></table></figure><h6 id="4-8-引入jquery-2-0-3-min-js"><a href="#4-8-引入jquery-2-0-3-min-js" class="headerlink" title="4.8 引入jquery-2.0.3.min.js"></a>4.8 引入<code>jquery-2.0.3.min.js</code></h6><h6 id="4-9-创建search-js文件"><a href="#4-9-创建search-js文件" class="headerlink" title="4.9 创建search.js文件"></a>4.9 创建<code>search.js</code>文件</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A local search script with the help of [hexo-generator-search](https://github.com/PaicHyperionDev/hexo-generator-search)</span></span><br><span class="line"><span class="comment">// Copyright (C) 2015 </span></span><br><span class="line"><span class="comment">// Joseph Pan &lt;http://github.com/wzpan&gt;</span></span><br><span class="line"><span class="comment">// Shuhao Mao &lt;http://github.com/maoshuhao&gt;</span></span><br><span class="line"><span class="comment">// This library is free software; you can redistribute it and/or modify</span></span><br><span class="line"><span class="comment">// it under the terms of the GNU Lesser General Public License as</span></span><br><span class="line"><span class="comment">// published by the Free Software Foundation; either version 2.1 of the</span></span><br><span class="line"><span class="comment">// License, or (at your option) any later version.</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// This library is distributed in the hope that it will be useful, but</span></span><br><span class="line"><span class="comment">// WITHOUT ANY WARRANTY; without even the implied warranty of</span></span><br><span class="line"><span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></span><br><span class="line"><span class="comment">// Lesser General Public License for more details.</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// You should have received a copy of the GNU Lesser General Public</span></span><br><span class="line"><span class="comment">// License along with this library; if not, write to the Free Software</span></span><br><span class="line"><span class="comment">// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA</span></span><br><span class="line"><span class="comment">// 02110-1301 USA</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> searchFunc = <span class="function"><span class="keyword">function</span> (<span class="params">path, search_id, content_id</span>) </span>&#123;</span><br><span class="line"><span class="meta">  'use strict'</span>;</span><br><span class="line">  <span class="keyword">var</span> BTN = <span class="string">"&lt;button type='button' class='local-search-close' id='local-search-close'&gt;&lt;/button&gt;"</span>;</span><br><span class="line">  $.ajax(&#123;</span><br><span class="line">    url: path,</span><br><span class="line">    dataType: <span class="string">"xml"</span>,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span> (<span class="params">xmlResponse</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// get the contents from search data</span></span><br><span class="line">      <span class="keyword">var</span> datas = $(<span class="string">"entry"</span>, xmlResponse).map(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          title: $(<span class="string">"title"</span>, <span class="keyword">this</span>).text(),</span><br><span class="line">          content: $(<span class="string">"content"</span>, <span class="keyword">this</span>).text(),</span><br><span class="line">          url: $(<span class="string">"url"</span>, <span class="keyword">this</span>).text()</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;).get();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> $input = <span class="built_in">document</span>.getElementById(search_id);</span><br><span class="line">      <span class="keyword">var</span> $resultContent = <span class="built_in">document</span>.getElementById(content_id);</span><br><span class="line"></span><br><span class="line">      $input.addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> str = <span class="string">'&lt;ul class="search-result-list"&gt;'</span>;</span><br><span class="line">        <span class="keyword">var</span> keywords = <span class="keyword">this</span>.value.trim().toLowerCase().split(<span class="regexp">/[\s]+/</span>);</span><br><span class="line">        $resultContent.innerHTML = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.value.trim().length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// perform local searching</span></span><br><span class="line">        datas.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">var</span> isMatch = <span class="literal">true</span>;</span><br><span class="line">          <span class="comment">// var content_index = [];</span></span><br><span class="line">          <span class="keyword">if</span> (!data.title || data.title.trim() === <span class="string">''</span>) &#123;</span><br><span class="line">            data.title = <span class="string">"Untitled"</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">var</span> data_title = data.title.trim().toLowerCase();</span><br><span class="line">          <span class="keyword">var</span> data_content = data.content.trim().replace(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">""</span>).toLowerCase();</span><br><span class="line">          <span class="keyword">var</span> data_url = data.url;</span><br><span class="line">          <span class="keyword">var</span> index_title = <span class="number">-1</span>;</span><br><span class="line">          <span class="keyword">var</span> index_content = <span class="number">-1</span>;</span><br><span class="line">          <span class="keyword">var</span> first_occur = <span class="number">-1</span>;</span><br><span class="line">          <span class="comment">// only match artiles with not empty contents</span></span><br><span class="line">          <span class="keyword">if</span> (data_content !== <span class="string">''</span>) &#123;</span><br><span class="line">            keywords.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">keyword, i</span>) </span>&#123;</span><br><span class="line">              index_title = data_title.indexOf(keyword);</span><br><span class="line">              index_content = data_content.indexOf(keyword);</span><br><span class="line"></span><br><span class="line">              <span class="keyword">if</span> (index_title &lt; <span class="number">0</span> &amp;&amp; index_content &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                isMatch = <span class="literal">false</span>;</span><br><span class="line">              &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (index_content &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                  index_content = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                  first_occur = index_content;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// content_index.push(&#123;index_content:index_content, keyword_len:keyword_len&#125;);</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            isMatch = <span class="literal">false</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">// show search results</span></span><br><span class="line">          <span class="keyword">if</span> (isMatch) &#123;</span><br><span class="line">            str += <span class="string">"&lt;li&gt;&lt;a href='"</span> + data_url + <span class="string">"' class='search-result-title'&gt;"</span> + data_title + <span class="string">"&lt;/a&gt;"</span>;</span><br><span class="line">            <span class="keyword">var</span> content = data.content.trim().replace(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">""</span>);</span><br><span class="line">            <span class="keyword">if</span> (first_occur &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">              <span class="comment">// cut out 100 characters</span></span><br><span class="line">              <span class="keyword">var</span> start = first_occur - <span class="number">20</span>;</span><br><span class="line">              <span class="keyword">var</span> end = first_occur + <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line">              <span class="keyword">if</span> (start &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                start = <span class="number">0</span>;</span><br><span class="line">              &#125;</span><br><span class="line"></span><br><span class="line">              <span class="keyword">if</span> (start == <span class="number">0</span>) &#123;</span><br><span class="line">                end = <span class="number">100</span>;</span><br><span class="line">              &#125;</span><br><span class="line"></span><br><span class="line">              <span class="keyword">if</span> (end &gt; content.length) &#123;</span><br><span class="line">                end = content.length;</span><br><span class="line">              &#125;</span><br><span class="line"></span><br><span class="line">              <span class="keyword">var</span> match_content = content.substr(start, end);</span><br><span class="line"></span><br><span class="line">              <span class="comment">// highlight all keywords</span></span><br><span class="line">              keywords.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">keyword</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> regS = <span class="keyword">new</span> <span class="built_in">RegExp</span>(keyword, <span class="string">"gi"</span>);</span><br><span class="line">                match_content = match_content.replace(regS, <span class="string">"&lt;em class=\"search-keyword\"&gt;"</span> + keyword + <span class="string">"&lt;/em&gt;"</span>);</span><br><span class="line">              &#125;);</span><br><span class="line"></span><br><span class="line">              str += <span class="string">"&lt;p class=\"search-result\"&gt;"</span> + match_content + <span class="string">"...&lt;/p&gt;"</span></span><br><span class="line">            &#125;</span><br><span class="line">            str += <span class="string">"&lt;/li&gt;"</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        str += <span class="string">"&lt;/ul&gt;"</span>;</span><br><span class="line">        <span class="keyword">if</span> (str.indexOf(<span class="string">'&lt;li&gt;'</span>) === <span class="number">-1</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> $resultContent.innerHTML = BTN + <span class="string">"&lt;div class=\"search-result-empty\"&gt;&lt;p&gt;&lt;i class=\"fe fe-tired\"&gt;&lt;/i&gt; 没有找到内容，更换下搜索词试试吧~&lt;p&gt;&lt;/div&gt;"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        $resultContent.innerHTML = BTN + str;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  $(<span class="built_in">document</span>).on(<span class="string">'click'</span>, <span class="string">'#local-search-close'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'#local-search-input'</span>).val(<span class="string">''</span>);</span><br><span class="line">    $(<span class="string">'#local-search-result'</span>).html(<span class="string">''</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h6 id="4-10-最后修改head-ejs文件-引入js和css"><a href="#4-10-最后修改head-ejs文件-引入js和css" class="headerlink" title="4.10 最后修改head.ejs文件,引入js和css"></a>4.10 最后修改<code>head.ejs</code>文件,引入<code>js</code>和<code>css</code></h6><p><img src="/images/pasted-20.png" alt="filename already exists, renamed"></p><h5 id="五-添加置顶功能"><a href="#五-添加置顶功能" class="headerlink" title="五. 添加置顶功能"></a>五. 添加置顶功能</h5><h6 id="5-1-在hexo目录下执行以下命令"><a href="#5-1-在hexo目录下执行以下命令" class="headerlink" title="5.1 在hexo目录下执行以下命令"></a>5.1 在<code>hexo</code>目录下执行以下命令</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-generator-index --save</span><br><span class="line"></span><br><span class="line">npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></table></figure><h6 id="5-2-在index-ejs加入以下代码"><a href="#5-2-在index-ejs加入以下代码" class="headerlink" title="5.2 在index.ejs加入以下代码"></a>5.2 在<code>index.ejs</code>加入以下代码</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if(psg.top === true) &#123;%&gt;</span><br><span class="line">  &lt;i class=&quot;fa fa-thumb-tack&quot;&gt;&lt;/i&gt;</span><br><span class="line">  &lt;font color=7D26CD&gt;置顶&lt;/font&gt; |</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p><img src="/images/pasted-21.png" alt="filename already exists, renamed"></p><h6 id="5-3-在需要置顶的博文中添加"><a href="#5-3-在需要置顶的博文中添加" class="headerlink" title="5.3 在需要置顶的博文中添加"></a>5.3 在需要置顶的博文中添加</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">top: true</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h5 id="六-使用hexo-neat压缩页面"><a href="#六-使用hexo-neat压缩页面" class="headerlink" title="六. 使用hexo-neat压缩页面"></a>六. 使用<code>hexo-neat</code>压缩页面</h5><h6 id="6-1-安装hexo-neat插件"><a href="#6-1-安装hexo-neat插件" class="headerlink" title="6.1 安装hexo-neat插件"></a>6.1 安装hexo-neat插件</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-neat --save</span><br></pre></td></tr></table></figure><h6 id="6-2-在站点-config-yml配置文件中添加配置"><a href="#6-2-在站点-config-yml配置文件中添加配置" class="headerlink" title="6.2 在站点_config.yml配置文件中添加配置"></a>6.2 在站点<code>_config.yml</code>配置文件中添加配置</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># hexo-neat</span><br><span class="line"># 博文压缩</span><br><span class="line">neat_enable: true</span><br><span class="line"># 压缩html</span><br><span class="line">neat_html:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line"># 压缩css: 这里只是压缩页面的css,如果是在source目录下的css要在exclude移除掉,否则压缩后会直接变成一个空文件  </span><br><span class="line">neat_css:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line">    - &apos;**/*.min.css&apos;</span><br><span class="line"># 压缩js:(同css说明)</span><br><span class="line">neat_js:</span><br><span class="line">  enable: true</span><br><span class="line">  mangle: true</span><br><span class="line">  output:</span><br><span class="line">  compress:</span><br><span class="line">  exclude:</span><br><span class="line">    - &apos;**/*.min.js&apos;</span><br><span class="line">    - &apos;**/jquery.fancybox.pack.js&apos;</span><br><span class="line">    - &apos;**/index.js&apos;</span><br></pre></td></tr></table></figure></article><aside class="table-content" id="site-toc" style="right:0"><div class="table-content-title"><i class="fa fa-arrow-right fa-lg" id="site-toc-hide-btn"></i> <span>目录</span></div><div class="table-content-main"><ol class="toc"><li class="toc-item toc-level-5"><a class="toc-link" href="#一-云服务器部署Hexo"><span class="toc-text">一.云服务器部署Hexo</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1-1-后台运行Hexo"><span class="toc-text">1.1 后台运行Hexo</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#1-2-安装pm2"><span class="toc-text">1.2 安装pm2</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#1-2-在hexo创建run-js文件"><span class="toc-text">1.2 在hexo创建run.js文件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#1-3-运行脚本"><span class="toc-text">1.3 运行脚本</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#二-为自己的博客添加萌宠"><span class="toc-text">二.为自己的博客添加萌宠</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-安装模块"><span class="toc-text">2.1 安装模块</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-2-选择想要的萌宠"><span class="toc-text">2.2 选择想要的萌宠</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-3-选择好之后还需要安装"><span class="toc-text">2.3 选择好之后还需要安装</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-4-最后一步配置Hexo的主配置文件-config-yml"><span class="toc-text">2.4 最后一步配置Hexo的主配置文件_config.yml</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#三-hexo部署到GitHub后绑定域名-未备案域名也可以"><span class="toc-text">三. hexo部署到GitHub后绑定域名(未备案域名也可以)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#3-1-GitHub相关配置"><span class="toc-text">3.1 GitHub相关配置</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-2-修改域名解析记录"><span class="toc-text">3.2 修改域名解析记录</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#四-新增站内搜索功能"><span class="toc-text">四. 新增站内搜索功能</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#4-1-修改header-ejs文件"><span class="toc-text">4.1 修改header.ejs文件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-2-把Ocean主题中source中css的feathericon移到自己主题的css目录下"><span class="toc-text">4.2 把Ocean主题中source中css的feathericon移到自己主题的css目录下</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-3-在css目录下创建-feathericon-styl文件"><span class="toc-text">4.3 在css目录下创建_feathericon.styl文件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-4-在css目录下创建-mixins-styl文件"><span class="toc-text">4.4 在css目录下创建_mixins.styl文件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-5-在css目录下创建-variables-styl文件"><span class="toc-text">4.5 在css目录下创建_variables.styl文件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-6-在css目录下创建style-styl文件"><span class="toc-text">4.6 在css目录下创建style.styl文件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-7-修改header-js文件-替换掉所有内容"><span class="toc-text">4.7 修改header.js文件(替换掉所有内容)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-8-引入jquery-2-0-3-min-js"><span class="toc-text">4.8 引入jquery-2.0.3.min.js</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-9-创建search-js文件"><span class="toc-text">4.9 创建search.js文件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-10-最后修改head-ejs文件-引入js和css"><span class="toc-text">4.10 最后修改head.ejs文件,引入js和css</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#五-添加置顶功能"><span class="toc-text">五. 添加置顶功能</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#5-1-在hexo目录下执行以下命令"><span class="toc-text">5.1 在hexo目录下执行以下命令</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5-2-在index-ejs加入以下代码"><span class="toc-text">5.2 在index.ejs加入以下代码</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5-3-在需要置顶的博文中添加"><span class="toc-text">5.3 在需要置顶的博文中添加</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#六-使用hexo-neat压缩页面"><span class="toc-text">六. 使用hexo-neat压缩页面</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#6-1-安装hexo-neat插件"><span class="toc-text">6.1 安装hexo-neat插件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#6-2-在站点-config-yml配置文件中添加配置"><span class="toc-text">6.2 在站点_config.yml配置文件中添加配置</span></a></li></ol></li></ol></div></aside><aside class="passage-copyright"><div>本文作者: luguozheng</div><div>原文链接: <a href target="_blank">http://yoursite.com/2019/03/30/Hexo瞎折腾系列/</a></div><div>版权声明: 本博客所有文章除特别声明外, 均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议. 转载请注明出处!</div></aside><div class="passage-tags"><a href="/tags/博客/"><i class="fa fa-tags"></i>博客</a> <a href="/tags/Hexo/"><i class="fa fa-tags"></i>Hexo</a></div></div></main><div class="site-comment-contanier" data-plateform="leancloud"><p id="site-comment-info"><i class="fa fa-spinner fa-spin"></i> 评论加载中</p><div id="site-comment"></div></div><div class="site-footer-wrapper"><footer class="site-footer"><div class="site-footer-col"><h5 class="site-footer-title">博客推荐</h5><span class="site-footer-item"><a href="https://www.cnblogs.com/mjios/" target="_blank">M了个J</a> </span><span class="site-footer-item"><a href="http://www.zhaojun.im/" target="_blank">赵俊的博客</a> </span><span class="site-footer-item"><a href="https://www.cnblogs.com/cjh-notes/" target="_blank">cjh</a></span></div><div class="site-footer-info"><i class="fa fa-clock-o"></i> 本站已稳定运行<span id="site-time"></span></div><div class="site-footer-info"><i class="fa fa-paw"></i> 您是本站第 <span id="site-count"></span> 位访客 | <a href="http://www.miit.gov.cn/" target="_blank">粤ICP备19036088号</a></div><div class="site-footer-info"><i class="fa fa-at"></i> Email: lgz_silent@163.com</div><div class="site-footer-info"><i class="fa fa-copyright"></i> 2019 <a href="https://github.com/dongyuanxin/theme-ad/" target="_blank">Theme-AD</a>. Created by <a href="https://godbmw.com/" target="_blank">GodBMW</a>. All rights reserved.</div></footer></div><div id="site-layer" style="display:none"><div class="site-layer-content"><div class="site-layer-header"><span class="site-layer-header-title" id="site-layer-title"></span> <i class="fa fa-close" id="site-layer-close"></i></div><div class="site-layer-body" id="site-layer-container"><div class="site-layer-input" id="site-layer-search" style="display:none"><input type="text"> <i class="fa fa-search"></i></div><div class="site-layer-reward" id="site-layer-reward" style="display:none"><div><img src="/images/wechat.png" alt="WeChat"><p>WeChat</p></div><div><img src="/images/alipay.png" alt="AliPay"><p>AliPay</p></div></div><div id="site-layer-welcome" style="display:none"></div></div></div></div><div class="bottom-bar"><div class="bottom-bar-left"><a href="/2019/04/10/Excel导入导出/" data-enable="true"><i class="fa fa-arrow-left"></i> </a><a href="/2019/03/27/Untitled/" data-enable="true"><i class="fa fa-arrow-right"></i></a></div><div class="bottom-bar-right"><a href="javascript:void(0);" data-enable="true" id="site-toc-show-btn"><i class="fa fa-bars"></i> </a><a href="#site-comment" data-enable="true"><i class="fa fa-commenting"></i> </a><a href="javascript:void(0);" id="site-toggle-share-btn"><i class="fa fa-share-alt"></i> </a><a href="javascript:void(0);" id="site-reward"><i class="fa fa-thumbs-up"></i> </a><a href="javascript:void(0);" id="back-top-btn"><i class="fa fa-chevron-up"></i></a></div></div><div id="share-btn"><a id="share-btn-twitter" href="javascript:void(0);" target="_blank"><i class="fa fa-twitter"></i> </a><a id="share-btn-facebook" href="javascript:void(0);" target="_blank"><i class="fa fa-facebook"></i> </a><a id="share-btn-weibo" href="javascript:void(0);" target="_blank"><i class="fa fa-weibo"></i> </a><a id="share-btn-qq" href="javascript:void(0);" target="_blank"><i class="fa fa-qq"></i> </a><a id="share-btn-wechat" href="javascript:void(0);" target="_blank"><i class="fa fa-wechat"></i></a></div><div class="eevee"><div class="message">嗨，你好啊~~</div><div class="body"><div class="head"><div class="ears"><div class="ear"><div class="lobe"></div></div><div class="ear"><div class="lobe"></div></div></div><div class="face"><div class="eyes"><div class="eye"><div class="eyelid"></div></div><div class="eye"><div class="eyelid"></div></div></div><div class="nose"></div><div class="mouth"></div></div></div><div class="chest"><div class="fur"><div class="patch"></div></div><div class="fur"><div class="patch"></div></div><div class="fur"><div class="patch"></div></div></div><div class="legs"><div class="leg"><div class="inner-leg"></div></div><div class="leg"><div class="inner-leg"></div></div><div class="leg"><div class="inner-leg"></div></div><div class="leg"><div class="inner-leg"></div></div></div><div class="tail"><div class="tail"><div class="tail"><div class="tail"><div class="tail"><div class="tail -end"></div></div></div></div></div></div></div></div></body></html><!-- rebuild by neat -->